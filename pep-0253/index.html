
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>PEP 253 – Subtyping Built-in Types &#8212; peps.python.org</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="PEP 254 – Making Classes Look More Like Types" href="../pep-0254/" />
    <link rel="prev" title="PEP 252 – Making Types Look More Like Classes" href="../pep-0252/" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pep-253-subtyping-built-in-types">
<h1 class="page-title">PEP 253 – Subtyping Built-in Types<a class="headerlink" href="#pep-253-subtyping-built-in-types" title="Permalink to this headline">¶</a></h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">PEP</dt>
<dd class="field-odd"><p>253</p>
</dd>
<dt class="field-even">Title</dt>
<dd class="field-even"><p>Subtyping Built-in Types</p>
</dd>
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p><a class="reference external" href="mailto:guido&#37;&#52;&#48;python&#46;org?subject=PEP%20-1">guido&#32;&#97;t&#32;python.org</a> (Guido van Rossum)</p>
</dd>
<dt class="field-even">Status</dt>
<dd class="field-even"><p>Final</p>
</dd>
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Standards Track</p>
</dd>
<dt class="field-even">Created</dt>
<dd class="field-even"><p>14-May-2001</p>
</dd>
<dt class="field-odd">Python-Version</dt>
<dd class="field-odd"><p>2.2</p>
</dd>
<dt class="field-even">Post-History</dt>
<dd class="field-even"><p></p></dd>
</dl>
<hr class="docutils" />
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#abstract" id="id4">Abstract</a></p></li>
<li><p><a class="reference internal" href="#introduction" id="id5">Introduction</a></p></li>
<li><p><a class="reference internal" href="#about-metatypes" id="id6">About metatypes</a></p></li>
<li><p><a class="reference internal" href="#making-a-type-a-factory-for-its-instances" id="id7">Making a type a factory for its instances</a></p></li>
<li><p><a class="reference internal" href="#preparing-a-type-for-subtyping" id="id8">Preparing a type for subtyping</a></p></li>
<li><p><a class="reference internal" href="#creating-a-subtype-of-a-built-in-type-in-c" id="id9">Creating a subtype of a built-in type in C</a></p></li>
<li><p><a class="reference internal" href="#subtyping-in-python" id="id10">Subtyping in Python</a></p></li>
<li><p><a class="reference internal" href="#multiple-inheritance" id="id11">Multiple inheritance</a></p></li>
<li><p><a class="reference internal" href="#mro-method-resolution-order-the-lookup-rule" id="id12">MRO:  Method resolution order (the lookup rule)</a></p></li>
<li><p><a class="reference internal" href="#xxx-to-be-done" id="id13">XXX To be done</a></p>
<ul>
<li><p><a class="reference internal" href="#open-issues" id="id14">open issues</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#implementation" id="id15">Implementation</a></p></li>
<li><p><a class="reference internal" href="#references" id="id16">References</a></p></li>
<li><p><a class="reference internal" href="#copyright" id="id17">Copyright</a></p></li>
</ul>
</div>
<section id="abstract">
<h2><a class="toc-backref" href="#id4">Abstract</a><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>This PEP proposes additions to the type object API that will allow
the creation of subtypes of built-in types, in C and in Python.</p>
<p>[Editor’s note: the ideas described in this PEP have been incorporated
into Python.  The PEP no longer accurately describes the implementation.]</p>
</section>
<section id="introduction">
<h2><a class="toc-backref" href="#id5">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Traditionally, types in Python have been created statically, by
declaring a global variable of type PyTypeObject and initializing
it with a static initializer.  The slots in the type object
describe all aspects of a Python type that are relevant to the
Python interpreter.  A few slots contain dimensional information
(like the basic allocation size of instances), others contain
various flags, but most slots are pointers to functions to
implement various kinds of behaviors.  A NULL pointer means that
the type does not implement the specific behavior; in that case
the system may provide a default behavior or raise an exception
when the behavior is invoked for an instance of the type.  Some
collections of function pointers that are usually defined together
are obtained indirectly via a pointer to an additional structure
containing more function pointers.</p>
<p>While the details of initializing a PyTypeObject structure haven’t
been documented as such, they are easily gleaned from the examples
in the source code, and I am assuming that the reader is
sufficiently familiar with the traditional way of creating new
Python types in C.</p>
<p>This PEP will introduce the following features:</p>
<ul class="simple">
<li><p>a type can be a factory function for its instances</p></li>
<li><p>types can be subtyped in C</p></li>
<li><p>types can be subtyped in Python with the class statement</p></li>
<li><p>multiple inheritance from types is supported (insofar as
practical – you still can’t multiply inherit from list and
dictionary)</p></li>
<li><p>the standard coercion functions (int, tuple, str etc.) will
be redefined to be the corresponding type objects, which serve
as their own factory functions</p></li>
<li><p>a class statement can contain a <code class="docutils literal notranslate"><span class="pre">__metaclass__</span></code> declaration,
specifying the metaclass to be used to create the new class</p></li>
<li><p>a class statement can contain a <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> declaration,
specifying the specific names of the instance variables
supported</p></li>
</ul>
<p>This PEP builds on <a class="reference external" href="pep-0252.html">PEP 252</a>, which adds standard introspection to
types; for example, when a particular type object initializes the
<code class="docutils literal notranslate"><span class="pre">tp_hash</span></code> slot, that type object has a <code class="docutils literal notranslate"><span class="pre">__hash__</span></code> method when
introspected.  <a class="reference external" href="pep-0252.html">PEP 252</a> also adds a dictionary to type objects
which contains all methods.  At the Python level, this dictionary
is read-only for built-in types; at the C level, it is accessible
directly (but it should not be modified except as part of
initialization).</p>
<p>For binary compatibility, a flag bit in the tp_flags slot
indicates the existence of the various new slots in the type
object introduced below.  Types that don’t have the
<code class="docutils literal notranslate"><span class="pre">Py_TPFLAGS_HAVE_CLASS</span></code> bit set in their <code class="docutils literal notranslate"><span class="pre">tp_flags</span></code> slot are assumed
to have NULL values for all the subtyping slots.  (Warning: the
current implementation prototype is not yet consistent in its
checking of this flag bit.  This should be fixed before the final
release.)</p>
<p>In current Python, a distinction is made between types and
classes.  This PEP together with <a class="reference external" href="pep-0254.html">PEP 254</a> will remove that
distinction.  However, for backwards compatibility the distinction
will probably remain for years to come, and without <a class="reference external" href="pep-0254.html">PEP 254</a>, the
distinction is still large: types ultimately have a built-in type
as a base class, while classes ultimately derive from a
user-defined class.  Therefore, in the rest of this PEP, I will
use the word type whenever I can – including base type or
supertype, derived type or subtype, and metatype.  However,
sometimes the terminology necessarily blends, for example an
object’s type is given by its <code class="docutils literal notranslate"><span class="pre">__class__</span></code> attribute, and subtyping
in Python is spelled with a class statement.  If further
distinction is necessary, user-defined classes can be referred to
as “classic” classes.</p>
</section>
<section id="about-metatypes">
<h2><a class="toc-backref" href="#id6">About metatypes</a><a class="headerlink" href="#about-metatypes" title="Permalink to this headline">¶</a></h2>
<p>Inevitably the discussion comes to metatypes (or metaclasses).
Metatypes are nothing new in Python: Python has always been able
to talk about the type of a type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;type &#39;int&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">&lt;type &#39;type&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)))</span>
<span class="go">&lt;type &#39;type&#39;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>In this example, <code class="docutils literal notranslate"><span class="pre">type(a)</span></code> is a “regular” type, and <code class="docutils literal notranslate"><span class="pre">type(type(a))</span></code> is
a metatype.  While as distributed all types have the same metatype
(<code class="docutils literal notranslate"><span class="pre">PyType_Type</span></code>, which is also its own metatype), this is not a
requirement, and in fact a useful and relevant 3rd party extension
(ExtensionClasses by Jim Fulton) creates an additional metatype.
The type of classic classes, known as <code class="docutils literal notranslate"><span class="pre">types.ClassType</span></code>, can also be
considered a distinct metatype.</p>
<p>A feature closely connected to metatypes is the “Don Beaudry
hook”, which says that if a metatype is callable, its instances
(which are regular types) can be subclassed (really subtyped)
using a Python class statement.  I will use this rule to support
subtyping of built-in types, and in fact it greatly simplifies the
logic of class creation to always simply call the metatype.  When
no base class is specified, a default metatype is called – the
default metatype is the “ClassType” object, so the class statement
will behave as before in the normal case.  (This default can be
changed per module by setting the global variable <code class="docutils literal notranslate"><span class="pre">__metaclass__</span></code>.)</p>
<p>Python uses the concept of metatypes or metaclasses in a different
way than Smalltalk.  In Smalltalk-80, there is a hierarchy of
metaclasses that mirrors the hierarchy of regular classes,
metaclasses map 1-1 to classes (except for some funny business at
the root of the hierarchy), and each class statement creates both
a regular class and its metaclass, putting class methods in the
metaclass and instance methods in the regular class.</p>
<p>Nice though this may be in the context of Smalltalk, it’s not
compatible with the traditional use of metatypes in Python, and I
prefer to continue in the Python way.  This means that Python
metatypes are typically written in C, and may be shared between
many regular types. (It will be possible to subtype metatypes in
Python, so it won’t be absolutely necessary to write C to use
metatypes; but the power of Python metatypes will be limited.  For
example, Python code will never be allowed to allocate raw memory
and initialize it at will.)</p>
<p>Metatypes determine various <strong>policies</strong> for types, such as what
happens when a type is called, how dynamic types are (whether a
type’s <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> can be modified after it is created), what the
method resolution order is, how instance attributes are looked
up, and so on.</p>
<p>I’ll argue that left-to-right depth-first is not the best
solution when you want to get the most use from multiple
inheritance.</p>
<p>I’ll argue that with multiple inheritance, the metatype of the
subtype must be a descendant of the metatypes of all base types.</p>
<p>I’ll come back to metatypes later.</p>
</section>
<section id="making-a-type-a-factory-for-its-instances">
<h2><a class="toc-backref" href="#id7">Making a type a factory for its instances</a><a class="headerlink" href="#making-a-type-a-factory-for-its-instances" title="Permalink to this headline">¶</a></h2>
<p>Traditionally, for each type there is at least one C factory
function that creates instances of the type (<code class="docutils literal notranslate"><span class="pre">PyTuple_New()</span></code>,
<code class="docutils literal notranslate"><span class="pre">PyInt_FromLong()</span></code> and so on).  These factory functions take care of
both allocating memory for the object and initializing that
memory.  As of Python 2.0, they also have to interface with the
garbage collection subsystem, if the type chooses to participate
in garbage collection (which is optional, but strongly recommended
for so-called “container” types: types that may contain references
to other objects, and hence may participate in reference cycles).</p>
<p>In this proposal, type objects can be factory functions for their
instances, making the types directly callable from Python.  This
mimics the way classes are instantiated.  The C APIs for creating
instances of various built-in types will remain valid and in some
cases more efficient.  Not all types will become their own factory
functions.</p>
<p>The type object has a new slot, tp_new, which can act as a factory
for instances of the type.  Types are now callable, because the
tp_call slot is set in <code class="docutils literal notranslate"><span class="pre">PyType_Type</span></code> (the metatype); the function
looks for the tp_new slot of the type that is being called.</p>
<p>Explanation: the <code class="docutils literal notranslate"><span class="pre">tp_call</span></code> slot of a regular type object (such as
<code class="docutils literal notranslate"><span class="pre">PyInt_Type</span></code> or <code class="docutils literal notranslate"><span class="pre">PyList_Type</span></code>) defines what happens when <strong>instances</strong>
of that type are called; in particular, the <code class="docutils literal notranslate"><span class="pre">tp_call</span></code> slot in the
function type, <code class="docutils literal notranslate"><span class="pre">PyFunction_Type</span></code>, is the key to making functions
callable.  As another example, <code class="docutils literal notranslate"><span class="pre">PyInt_Type.tp_call</span></code> is <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, because
integers are not callable.  The new paradigm makes <strong>type objects</strong>
callable.  Since type objects are instances of their metatype
(<code class="docutils literal notranslate"><span class="pre">PyType_Type</span></code>), the metatype’s <code class="docutils literal notranslate"><span class="pre">tp_call</span></code> slot (<code class="docutils literal notranslate"><span class="pre">PyType_Type.tp_call</span></code>)
points to a function that is invoked when any type object is
called.  Now, since each type has to do something different to
create an instance of itself, <code class="docutils literal notranslate"><span class="pre">PyType_Type.tp_call</span></code> immediately
defers to the <code class="docutils literal notranslate"><span class="pre">tp_new</span></code> slot of the type that is being called.
<code class="docutils literal notranslate"><span class="pre">PyType_Type</span></code> itself is also callable: its <code class="docutils literal notranslate"><span class="pre">tp_new</span></code> slot creates a new
type.  This is used by the class statement (formalizing the Don
Beaudry hook, see above).  And what makes <code class="docutils literal notranslate"><span class="pre">PyType_Type</span></code> callable?
The <code class="docutils literal notranslate"><span class="pre">tp_call</span></code> slot of <strong>its</strong> metatype – but since it is its own
metatype, that is its own <code class="docutils literal notranslate"><span class="pre">tp_call</span></code> slot!</p>
<p>If the type’s <code class="docutils literal notranslate"><span class="pre">tp_new</span></code> slot is NULL, an exception is raised.
Otherwise, the tp_new slot is called.  The signature for the
<code class="docutils literal notranslate"><span class="pre">tp_new</span></code> slot is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PyObject</span> <span class="o">*</span><span class="n">tp_new</span><span class="p">(</span><span class="n">PyTypeObject</span> <span class="o">*</span><span class="nb">type</span><span class="p">,</span>
                 <span class="n">PyObject</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span>
                 <span class="n">PyObject</span> <span class="o">*</span><span class="n">kwds</span><span class="p">)</span>
</pre></div>
</div>
<p>where ‘type’ is the type whose <code class="docutils literal notranslate"><span class="pre">tp_new</span></code> slot is called, and ‘args’
and ‘kwds’ are the sequential and keyword arguments to the call,
passed unchanged from tp_call.  (The ‘type’ argument is used in
combination with inheritance, see below.)</p>
<p>There are no constraints on the object type that is returned,
although by convention it should be an instance of the given
type.  It is not necessary that a new object is returned; a
reference to an existing object is fine too.  The return value
should always be a new reference, owned by the caller.</p>
<p>Once the <code class="docutils literal notranslate"><span class="pre">tp_new</span></code> slot has returned an object, further initialization
is attempted by calling the <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot of the resulting
object’s type, if not NULL.  This has the following signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">tp_init</span><span class="p">(</span><span class="n">PyObject</span> <span class="o">*</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">PyObject</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span>
            <span class="n">PyObject</span> <span class="o">*</span><span class="n">kwds</span><span class="p">)</span>
</pre></div>
</div>
<p>It corresponds more closely to the <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method of classic
classes, and in fact is mapped to that by the slot/special-method
correspondence rules.  The difference in responsibilities between
the <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> slot and the <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot lies in the invariants
they ensure.  The <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> slot should ensure only the most
essential invariants, without which the C code that implements the
objects would break.  The <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot should be used for
overridable user-specific initializations.  Take for example the
dictionary type.  The implementation has an internal pointer to a
hash table which should never be NULL.  This invariant is taken
care of by the <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> slot for dictionaries.  The dictionary
<code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot, on the other hand, could be used to give the
dictionary an initial set of keys and values based on the
arguments passed in.</p>
<p>Note that for immutable object types, the initialization cannot be
done by the <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot: this would provide the Python user
with a way to change the initialization.  Therefore, immutable
objects typically have an empty <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> implementation and do
all their initialization in their <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> slot.</p>
<p>You may wonder why the <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> slot shouldn’t call the <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code>
slot itself.  The reason is that in certain circumstances (like
support for persistent objects), it is important to be able to
create an object of a particular type without initializing it any
further than necessary.  This may conveniently be done by calling
the <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> slot without calling <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code>.  It is also possible
that <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> is not called, or called more than once – its
operation should be robust even in these anomalous cases.</p>
<p>For some objects, <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> may return an existing object.  For
example, the factory function for integers caches the integers -1
through 99.  This is permissible only when the type argument to
<code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> is the type that defined the <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> function (in the
example, if <code class="docutils literal notranslate"><span class="pre">type</span> <span class="pre">==</span> <span class="pre">&amp;PyInt_Type</span></code>), and when the <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot for
this type does nothing.  If the type argument differs, the
<code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> call is initiated by a derived type’s <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> to
create the object and initialize the base type portion of the
object; in this case <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> should always return a new object
(or raise an exception).</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> and <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> should receive exactly the same ‘args’
and ‘kwds’ arguments, and both should check that the arguments are
acceptable, because they may be called independently.</p>
<p>There’s a third slot related to object creation: <code class="docutils literal notranslate"><span class="pre">tp_alloc()</span></code>.  Its
responsibility is to allocate the memory for the object,
initialize the reference count (<code class="docutils literal notranslate"><span class="pre">ob_refcnt</span></code>) and the type pointer
(<code class="docutils literal notranslate"><span class="pre">ob_type</span></code>), and initialize the rest of the object to all zeros.  It
should also register the object with the garbage collection
subsystem if the type supports garbage collection.  This slot
exists so that derived types can override the memory allocation
policy (like which heap is being used) separately from the
initialization code.  The signature is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PyObject</span> <span class="o">*</span><span class="n">tp_alloc</span><span class="p">(</span><span class="n">PyTypeObject</span> <span class="o">*</span><span class="nb">type</span><span class="p">,</span> <span class="nb">int</span> <span class="n">nitems</span><span class="p">)</span>
</pre></div>
</div>
<p>The type argument is the type of the new object.  The nitems
argument is normally zero, except for objects with a variable
allocation size (basically strings, tuples, and longs).  The
allocation size is given by the following expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="o">-&gt;</span><span class="n">tp_basicsize</span>  <span class="o">+</span>  <span class="n">nitems</span> <span class="o">*</span> <span class="nb">type</span><span class="o">-&gt;</span><span class="n">tp_itemsize</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">tp_alloc</span></code> slot is only used for subclassable types.  The <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code>
function of the base class must call the <code class="docutils literal notranslate"><span class="pre">tp_alloc()</span></code> slot of the
type passed in as its first argument.  It is the <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code>
function’s responsibility to calculate the number of items.  The
<code class="docutils literal notranslate"><span class="pre">tp_alloc()</span></code> slot will set the ob_size member of the new object if
the <code class="docutils literal notranslate"><span class="pre">type-&gt;tp_itemsize</span></code> member is nonzero.</p>
<p>(Note: in certain debugging compilation modes, the type structure
used to have members named <code class="docutils literal notranslate"><span class="pre">tp_alloc</span></code> and a <code class="docutils literal notranslate"><span class="pre">tp_free</span></code> slot already,
counters for the number of allocations and deallocations.  These
are renamed to <code class="docutils literal notranslate"><span class="pre">tp_allocs</span></code> and <code class="docutils literal notranslate"><span class="pre">tp_deallocs</span></code>.)</p>
<p>Standard implementations for <code class="docutils literal notranslate"><span class="pre">tp_alloc()</span></code> and <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> are
available.  <code class="docutils literal notranslate"><span class="pre">PyType_GenericAlloc()</span></code> allocates an object from the
standard heap and initializes it properly.  It uses the above
formula to determine the amount of memory to allocate, and takes
care of GC registration.  The only reason not to use this
implementation would be to allocate objects from a different heap
(as is done by some very small frequently used objects like ints
and tuples).  <code class="docutils literal notranslate"><span class="pre">PyType_GenericNew()</span></code> adds very little: it just calls
the type’s <code class="docutils literal notranslate"><span class="pre">tp_alloc()</span></code> slot with zero for nitems.  But for mutable
types that do all their initialization in their <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot,
this may be just the ticket.</p>
</section>
<section id="preparing-a-type-for-subtyping">
<h2><a class="toc-backref" href="#id8">Preparing a type for subtyping</a><a class="headerlink" href="#preparing-a-type-for-subtyping" title="Permalink to this headline">¶</a></h2>
<p>The idea behind subtyping is very similar to that of single
inheritance in C++.  A base type is described by a structure
declaration (similar to the C++ class declaration) plus a type
object (similar to the C++ vtable).  A derived type can extend the
structure (but must leave the names, order and type of the members
of the base structure unchanged) and can override certain slots in
the type object, leaving others the same.  (Unlike C++ vtables,
all Python type objects have the same memory layout.)</p>
<p>The base type must do the following:</p>
<ul class="simple">
<li><p>Add the flag value <code class="docutils literal notranslate"><span class="pre">Py_TPFLAGS_BASETYPE</span></code> to <code class="docutils literal notranslate"><span class="pre">tp_flags</span></code>.</p></li>
<li><p>Declare and use <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code>, <code class="docutils literal notranslate"><span class="pre">tp_alloc()</span></code> and optional <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code>
slots.</p></li>
<li><p>Declare and use <code class="docutils literal notranslate"><span class="pre">tp_dealloc()</span></code> and <code class="docutils literal notranslate"><span class="pre">tp_free()</span></code>.</p></li>
<li><p>Export its object structure declaration.</p></li>
<li><p>Export a subtyping-aware type-checking macro.</p></li>
</ul>
<p>The requirements and signatures for <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code>, <code class="docutils literal notranslate"><span class="pre">tp_alloc()</span></code> and
<code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> have already been discussed above: <code class="docutils literal notranslate"><span class="pre">tp_alloc()</span></code> should
allocate the memory and initialize it to mostly zeros; <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code>
should call the <code class="docutils literal notranslate"><span class="pre">tp_alloc()</span></code> slot and then proceed to do the
minimally required initialization; <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> should be used for
more extensive initialization of mutable objects.</p>
<p>It should come as no surprise that there are similar conventions
at the end of an object’s lifetime.  The slots involved are
<code class="docutils literal notranslate"><span class="pre">tp_dealloc()</span></code> (familiar to all who have ever implemented a Python
extension type) and <code class="docutils literal notranslate"><span class="pre">tp_free()</span></code>, the new kid on the block.  (The
names aren’t quite symmetric; <code class="docutils literal notranslate"><span class="pre">tp_free()</span></code> corresponds to <code class="docutils literal notranslate"><span class="pre">tp_alloc()</span></code>,
which is fine, but <code class="docutils literal notranslate"><span class="pre">tp_dealloc()</span></code> corresponds to <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code>.  Maybe
the tp_dealloc slot should be renamed?)</p>
<p>The <code class="docutils literal notranslate"><span class="pre">tp_free()</span></code> slot should be used to free the memory and
unregister the object with the garbage collection subsystem, and
can be overridden by a derived class; <code class="docutils literal notranslate"><span class="pre">tp_dealloc()</span></code> should
deinitialize the object (usually by calling <code class="docutils literal notranslate"><span class="pre">Py_XDECREF()</span></code> for
various sub-objects) and then call <code class="docutils literal notranslate"><span class="pre">tp_free()</span></code> to deallocate the
memory.  The signature for <code class="docutils literal notranslate"><span class="pre">tp_dealloc()</span></code> is the same as it always
was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">tp_dealloc</span><span class="p">(</span><span class="n">PyObject</span> <span class="o">*</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
<p>The signature for tp_free() is the same:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">tp_free</span><span class="p">(</span><span class="n">PyObject</span> <span class="o">*</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
<p>(In a previous version of this PEP, there was also a role reserved
for the <code class="docutils literal notranslate"><span class="pre">tp_clear()</span></code> slot.  This turned out to be a bad idea.)</p>
<p>To be usefully subtyped in C, a type must export the structure
declaration for its instances through a header file, as it is
needed to derive a subtype.  The type object for the base type
must also be exported.</p>
<p>If the base type has a type-checking macro (like <code class="docutils literal notranslate"><span class="pre">PyDict_Check()</span></code>),
this macro should be made to recognize subtypes.  This can be done
by using the new <code class="docutils literal notranslate"><span class="pre">PyObject_TypeCheck(object,</span> <span class="pre">type)</span></code> macro, which
calls a function that follows the base class links.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">PyObject_TypeCheck()</span></code> macro contains a slight optimization: it
first compares <code class="docutils literal notranslate"><span class="pre">object-&gt;ob_type</span></code> directly to the type argument, and
if this is a match, bypasses the function call.  This should make
it fast enough for most situations.</p>
<p>Note that this change in the type-checking macro means that C
functions that require an instance of the base type may be invoked
with instances of the derived type.  Before enabling subtyping of
a particular type, its code should be checked to make sure that
this won’t break anything.  It has proved useful in the prototype
to add another type-checking macro for the built-in Python object
types, to check for exact type match too (for example,
<code class="docutils literal notranslate"><span class="pre">PyDict_Check(x)</span></code> is true if x is an instance of dictionary or of a
dictionary subclass, while <code class="docutils literal notranslate"><span class="pre">PyDict_CheckExact(x)</span></code> is true only if x
is a dictionary).</p>
</section>
<section id="creating-a-subtype-of-a-built-in-type-in-c">
<h2><a class="toc-backref" href="#id9">Creating a subtype of a built-in type in C</a><a class="headerlink" href="#creating-a-subtype-of-a-built-in-type-in-c" title="Permalink to this headline">¶</a></h2>
<p>The simplest form of subtyping is subtyping in C.  It is the
simplest form because we can require the C code to be aware of
some of the problems, and it’s acceptable for C code that doesn’t
follow the rules to dump core.  For added simplicity, it is
limited to single inheritance.</p>
<p>Let’s assume we’re deriving from a mutable base type whose
tp_itemsize is zero.  The subtype code is not GC-aware, although
it may inherit GC-awareness from the base type (this is
automatic).  The base type’s allocation uses the standard heap.</p>
<p>The derived type begins by declaring a type structure which
contains the base type’s structure.  For example, here’s the type
structure for a subtype of the built-in list type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
    <span class="n">PyListObject</span> <span class="nb">list</span><span class="p">;</span>
    <span class="nb">int</span> <span class="n">state</span><span class="p">;</span>
<span class="p">}</span> <span class="n">spamlistobject</span><span class="p">;</span>
</pre></div>
</div>
<p>Note that the base type structure member (here <code class="docutils literal notranslate"><span class="pre">PyListObject</span></code>) must
be the first member of the structure; any following members are
additions.  Also note that the base type is not referenced via a
pointer; the actual contents of its structure must be included!
(The goal is for the memory layout of the beginning of the
subtype instance to be the same as that of the base type
instance.)</p>
<p>Next, the derived type must declare a type object and initialize
it.  Most of the slots in the type object may be initialized to
zero, which is a signal that the base type slot must be copied
into it.  Some slots that must be initialized properly:</p>
<ul class="simple">
<li><p>The object header must be filled in as usual; the type should
be <code class="docutils literal notranslate"><span class="pre">&amp;PyType_Type</span></code>.</p></li>
<li><p>The tp_basicsize slot must be set to the size of the subtype
instance struct (in the above example: <code class="docutils literal notranslate"><span class="pre">sizeof(spamlistobject)</span></code>).</p></li>
<li><p>The tp_base slot must be set to the address of the base type’s
type object.</p></li>
<li><p>If the derived slot defines any pointer members, the
<code class="docutils literal notranslate"><span class="pre">tp_dealloc</span></code> slot function requires special attention, see
below; otherwise, it can be set to zero, to inherit the base
type’s deallocation function.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">tp_flags</span></code> slot must be set to the usual <code class="docutils literal notranslate"><span class="pre">Py_TPFLAGS_DEFAULT</span></code>
value.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">tp_name</span></code> slot must be set; it is recommended to set <code class="docutils literal notranslate"><span class="pre">tp_doc</span></code>
as well (these are not inherited).</p></li>
</ul>
<p>If the subtype defines no additional structure members (it only
defines new behavior, no new data), the <code class="docutils literal notranslate"><span class="pre">tp_basicsize</span></code> and the
<code class="docutils literal notranslate"><span class="pre">tp_dealloc</span></code> slots may be left set to zero.</p>
<p>The subtype’s <code class="docutils literal notranslate"><span class="pre">tp_dealloc</span></code> slot deserves special attention.  If the
derived type defines no additional pointer members that need to be
DECREF’ed or freed when the object is deallocated, it can be set
to zero.  Otherwise, the subtype’s <code class="docutils literal notranslate"><span class="pre">tp_dealloc()</span></code> function must call
<code class="docutils literal notranslate"><span class="pre">Py_XDECREF()</span></code> for any <code class="docutils literal notranslate"><span class="pre">PyObject</span> <span class="pre">*</span></code> members and the correct memory
freeing function for any other pointers it owns, and then call the
base class’s <code class="docutils literal notranslate"><span class="pre">tp_dealloc()</span></code> slot.  This call has to be made via the
base type’s type structure, for example, when deriving from the
standard list type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PyList_Type</span><span class="o">.</span><span class="n">tp_dealloc</span><span class="p">(</span><span class="bp">self</span><span class="p">);</span>
</pre></div>
</div>
<p>If the subtype wants to use a different allocation heap than the
base type, the subtype must override both the <code class="docutils literal notranslate"><span class="pre">tp_alloc()</span></code> and the
<code class="docutils literal notranslate"><span class="pre">tp_free()</span></code> slots.  These will be called by the base class’s
<code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> and <code class="docutils literal notranslate"><span class="pre">tp_dealloc()</span></code> slots, respectively.</p>
<p>To complete the initialization of the type, <code class="docutils literal notranslate"><span class="pre">PyType_InitDict()</span></code> must
be called.  This replaces slots initialized to zero in the subtype
with the value of the corresponding base type slots.  (It also
fills in <code class="docutils literal notranslate"><span class="pre">tp_dict</span></code>, the type’s dictionary, and does various other
initializations necessary for type objects.)</p>
<p>A subtype is not usable until <code class="docutils literal notranslate"><span class="pre">PyType_InitDict()</span></code> is called for it;
this is best done during module initialization, assuming the
subtype belongs to a module.  An alternative for subtypes added to
the Python core (which don’t live in a particular module) would be
to initialize the subtype in their constructor function.  It is
allowed to call <code class="docutils literal notranslate"><span class="pre">PyType_InitDict()</span></code> more than once; the second and
further calls have no effect.  To avoid unnecessary calls, a test
for <code class="docutils literal notranslate"><span class="pre">tp_dict==NULL</span></code> can be made.</p>
<p>(During initialization of the Python interpreter, some types are
actually used before they are initialized.  As long as the slots
that are actually needed are initialized, especially <code class="docutils literal notranslate"><span class="pre">tp_dealloc</span></code>,
this works, but it is fragile and not recommended as a general
practice.)</p>
<p>To create a subtype instance, the subtype’s <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> slot is
called.  This should first call the base type’s <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> slot and
then initialize the subtype’s additional data members.  To further
initialize the instance, the <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot is typically called.
Note that the <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> slot should <strong>not</strong> call the <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot;
this is up to <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code>’s caller (typically a factory function).
There are circumstances where it is appropriate not to call
<code class="docutils literal notranslate"><span class="pre">tp_init()</span></code>.</p>
<p>If a subtype defines a <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot, the <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot should
normally first call the base type’s <code class="docutils literal notranslate"><span class="pre">tp_init()</span></code> slot.</p>
<p>(XXX There should be a paragraph or two about argument passing
here.)</p>
</section>
<section id="subtyping-in-python">
<h2><a class="toc-backref" href="#id10">Subtyping in Python</a><a class="headerlink" href="#subtyping-in-python" title="Permalink to this headline">¶</a></h2>
<p>The next step is to allow subtyping of selected built-in types
through a class statement in Python.  Limiting ourselves to single
inheritance for now, here is what happens for a simple class
statement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">B</span><span class="p">):</span>
    <span class="n">var1</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">def</span> <span class="nf">method1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">pass</span>
    <span class="c1"># etc.</span>
</pre></div>
</div>
<p>The body of the class statement is executed in a fresh environment
(basically, a new dictionary used as local namespace), and then C
is created.  The following explains how C is created.</p>
<p>Assume B is a type object.  Since type objects are objects, and
every object has a type, B has a type.  Since B is itself a type,
we also call its type its metatype.  B’s metatype is accessible
via <code class="docutils literal notranslate"><span class="pre">type(B)</span></code> or <code class="docutils literal notranslate"><span class="pre">B.__class__</span></code> (the latter notation is new for types;
it is introduced in <a class="reference external" href="pep-0252.html">PEP 252</a>).  Let’s say this metatype is M (for
Metatype).  The class statement will create a new type, C.  Since
C will be a type object just like B, we view the creation of C as
an instantiation of the metatype, M.  The information that needs
to be provided for the creation of a subclass is:</p>
<ul class="simple">
<li><p>its name (in this example the string “C”);</p></li>
<li><p>its bases (a singleton tuple containing B);</p></li>
<li><p>the results of executing the class body, in the form of a
dictionary (for example
<code class="docutils literal notranslate"><span class="pre">{&quot;var1&quot;:</span> <span class="pre">1,</span> <span class="pre">&quot;method1&quot;:</span> <span class="pre">&lt;functionmethod1</span> <span class="pre">at</span> <span class="pre">...&gt;,</span> <span class="pre">...}</span></code>).</p></li>
</ul>
<p>The class statement will result in the following call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span> <span class="o">=</span> <span class="n">M</span><span class="p">(</span><span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">B</span><span class="p">,),</span> <span class="nb">dict</span><span class="p">)</span>
</pre></div>
</div>
<p>where dict is the dictionary resulting from execution of the
class body.  In other words, the metatype (M) is called.</p>
<p>Note that even though the example has only one base, we still pass
in a (singleton) sequence of bases; this makes the interface
uniform with the multiple-inheritance case.</p>
<p>In current Python, this is called the “Don Beaudry hook” after its
inventor; it is an exceptional case that is only invoked when a
base class is not a regular class.  For a regular base class (or
when no base class is specified), current Python calls
<code class="docutils literal notranslate"><span class="pre">PyClass_New()</span></code>, the C level factory function for classes, directly.</p>
<p>Under the new system this is changed so that Python <strong>always</strong>
determines a metatype and calls it as given above.  When one or
more bases are given, the type of the first base is used as the
metatype; when no base is given, a default metatype is chosen.  By
setting the default metatype to <code class="docutils literal notranslate"><span class="pre">PyClass_Type</span></code>, the metatype of
“classic” classes, the classic behavior of the class statement is
retained.  This default can be changed per module by setting the
global variable <code class="docutils literal notranslate"><span class="pre">__metaclass__</span></code>.</p>
<p>There are two further refinements here.  First, a useful feature
is to be able to specify a metatype directly.  If the class
suite defines a variable <code class="docutils literal notranslate"><span class="pre">__metaclass__</span></code>, that is the metatype
to call.  (Note that setting <code class="docutils literal notranslate"><span class="pre">__metaclass__</span></code> at the module level
only affects class statements without a base class and without an
explicit <code class="docutils literal notranslate"><span class="pre">__metaclass__</span></code> declaration; but setting <code class="docutils literal notranslate"><span class="pre">__metaclass__</span></code> in a
class suite overrides the default metatype unconditionally.)</p>
<p>Second, with multiple bases, not all bases need to have the same
metatype.  This is called a metaclass conflict <a class="footnote-reference brackets" href="#id3" id="id1">1</a>.  Some
metaclass conflicts can be resolved by searching through the set
of bases for a metatype that derives from all other given
metatypes.  If such a metatype cannot be found, an exception is
raised and the class statement fails.</p>
<p>This conflict resolution can be implemented by the metatype
constructors: the class statement just calls the metatype of the first
base (or that specified by the <code class="docutils literal notranslate"><span class="pre">__metaclass__</span></code> variable), and this
metatype’s constructor looks for the most derived metatype.  If
that is itself, it proceeds; otherwise, it calls that metatype’s
constructor.  (Ultimate flexibility: another metatype might choose
to require that all bases have the same metatype, or that there’s
only one base class, or whatever.)</p>
<p>(In <a class="footnote-reference brackets" href="#id3" id="id2">1</a>, a new metaclass is automatically derived that is a
subclass of all given metaclasses.  But since it is questionable
in Python how conflicting method definitions of the various
metaclasses should be merged, I don’t think this is feasible.
Should the need arise, the user can derive such a metaclass
manually and specify it using the <code class="docutils literal notranslate"><span class="pre">__metaclass__</span></code> variable.  It is
also possible to have a new metaclass that does this.)</p>
<p>Note that calling M requires that M itself has a type: the
meta-metatype.  And the meta-metatype has a type, the
meta-meta-metatype.  And so on.  This is normally cut short at
some level by making a metatype be its own metatype.  This is
indeed what happens in Python: the <code class="docutils literal notranslate"><span class="pre">ob_type</span></code> reference in
<code class="docutils literal notranslate"><span class="pre">PyType_Type</span></code> is set to <code class="docutils literal notranslate"><span class="pre">&amp;PyType_Type</span></code>.  In the absence of third party
metatypes, <code class="docutils literal notranslate"><span class="pre">PyType_Type</span></code> is the only metatype in the Python
interpreter.</p>
<p>(In a previous version of this PEP, there was one additional
meta-level, and there was a meta-metatype called “turtle”.  This
turned out to be unnecessary.)</p>
<p>In any case, the work for creating C is done by M’s <code class="docutils literal notranslate"><span class="pre">tp_new()</span></code> slot.
It allocates space for an “extended” type structure, containing:
the type object; the auxiliary structures (as_sequence etc.); the
string object containing the type name (to ensure that this object
isn’t deallocated while the type object is still referencing it); and
some auxiliary storage (to be described later).  It initializes this
storage to zeros except for a few crucial slots (for example, tp_name
is set to point to the type name) and then sets the tp_base slot to
point to B.  Then <code class="docutils literal notranslate"><span class="pre">PyType_InitDict()</span></code> is called to inherit B’s slots.
Finally, C’s <code class="docutils literal notranslate"><span class="pre">tp_dict</span></code> slot is updated with the contents of the
namespace dictionary (the third argument to the call to M).</p>
</section>
<section id="multiple-inheritance">
<h2><a class="toc-backref" href="#id11">Multiple inheritance</a><a class="headerlink" href="#multiple-inheritance" title="Permalink to this headline">¶</a></h2>
<p>The Python class statement supports multiple inheritance, and we
will also support multiple inheritance involving built-in types.</p>
<p>However, there are some restrictions.  The C runtime architecture
doesn’t make it feasible to have a meaningful subtype of two
different built-in types except in a few degenerate cases.
Changing the C runtime to support fully general multiple
inheritance would be too much of an upheaval of the code base.</p>
<p>The main problem with multiple inheritance from different built-in
types stems from the fact that the C implementation of built-in
types accesses structure members directly; the C compiler
generates an offset relative to the object pointer and that’s
that.  For example, the list and dictionary type structures each
declare a number of different but overlapping structure members.
A C function accessing an object expecting a list won’t work when
passed a dictionary, and vice versa, and there’s not much we could
do about this without rewriting all code that accesses lists and
dictionaries.  This would be too much work, so we won’t do this.</p>
<p>The problem with multiple inheritance is caused by conflicting
structure member allocations.  Classes defined in Python normally
don’t store their instance variables in structure members: they
are stored in an instance dictionary.  This is the key to a
partial solution.  Suppose we have the following two classes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">pass</span>

<span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">pass</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
<p>(Here, ‘dictionary’ is the type of built-in dictionary objects,
a.k.a. <code class="docutils literal notranslate"><span class="pre">type({})</span></code> or <code class="docutils literal notranslate"><span class="pre">{}.__class__</span></code> or <code class="docutils literal notranslate"><span class="pre">types.DictType</span></code>.)  If we look at
the structure layout, we find that an A instance has the layout
of a dictionary followed by the <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> pointer, and a B instance
has the same layout; since there are no structure member layout
conflicts, this is okay.</p>
<p>Here’s another example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">X</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">pass</span>

<span class="k">class</span> <span class="nc">Y</span><span class="p">(</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">pass</span>

<span class="k">class</span> <span class="nc">Z</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
<p>(Here, ‘object’ is the base for all built-in types; its structure
layout only contains the <code class="docutils literal notranslate"><span class="pre">ob_refcnt</span></code> and <code class="docutils literal notranslate"><span class="pre">ob_type</span></code> members.)  This
example is more complicated, because the <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> pointer for X
instances has a different offset than that for Y instances.  Where
is the <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> pointer for Z instances?  The answer is that the
offset for the <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> pointer is not hardcoded, it is stored in
the type object.</p>
<p>Suppose on a particular machine an ‘object’ structure is 8 bytes
long, and a ‘dictionary’ struct is 60 bytes, and an object pointer
is 4 bytes.  Then an X structure is 12 bytes (an object structure
followed by a <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> pointer), and a Y structure is 64 bytes (a
dictionary structure followed by a <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> pointer).  The Z
structure has the same layout as the Y structure in this example.
Each type object (X, Y and Z) has a “__dict__ offset” which is
used to find the <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> pointer.  Thus, the recipe for looking
up an instance variable is:</p>
<ol class="arabic simple">
<li><p>get the type of the instance</p></li>
<li><p>get the <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> offset from the type object</p></li>
<li><p>add the <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> offset to the instance pointer</p></li>
<li><p>look in the resulting address to find a dictionary reference</p></li>
<li><p>look up the instance variable name in that dictionary</p></li>
</ol>
<p>Of course, this recipe can only be implemented in C, and I have
left out some details.  But this allows us to use multiple
inheritance patterns similar to the ones we can use with classic
classes.</p>
<p>XXX I should write up the complete algorithm here to determine
base class compatibility, but I can’t be bothered right now.  Look
at <code class="docutils literal notranslate"><span class="pre">best_base()</span></code> in typeobject.c in the implementation mentioned
below.</p>
</section>
<section id="mro-method-resolution-order-the-lookup-rule">
<h2><a class="toc-backref" href="#id12">MRO:  Method resolution order (the lookup rule)</a><a class="headerlink" href="#mro-method-resolution-order-the-lookup-rule" title="Permalink to this headline">¶</a></h2>
<p>With multiple inheritance comes the question of method resolution
order: the order in which a class or type and its bases are
searched looking for a method of a given name.</p>
<p>In classic Python, the rule is given by the following recursive
function, also known as the left-to-right depth-first rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">classic_lookup</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">classic_lookup</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">,</span> <span class="n">name</span>
</pre></div>
</div>
<p>The problem with this becomes apparent when we consider a “diamond
diagram”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
        <span class="o">^</span> <span class="o">^</span>  <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="o">...</span>
       <span class="o">/</span>   \
      <span class="o">/</span>     \
     <span class="o">/</span>       \
    <span class="o">/</span>         \
<span class="k">class</span> <span class="nc">B</span>     <span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
    <span class="o">^</span>         <span class="o">^</span>  <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="o">...</span>
     \       <span class="o">/</span>
      \     <span class="o">/</span>
       \   <span class="o">/</span>
        \ <span class="o">/</span>
      <span class="k">class</span> <span class="nc">D</span>
</pre></div>
</div>
<p>Arrows point from a subtype to its base <code class="docutils literal notranslate"><span class="pre">type(s)</span></code>.  This particular
diagram means B and C derive from A, and D derives from B and C
(and hence also, indirectly, from A).</p>
<p>Assume that C overrides the method <code class="docutils literal notranslate"><span class="pre">save()</span></code>, which is defined in the
base A.  (<code class="docutils literal notranslate"><span class="pre">C.save()</span></code> probably calls <code class="docutils literal notranslate"><span class="pre">A.save()</span></code> and then saves some of
its own state.)  B and D don’t override <code class="docutils literal notranslate"><span class="pre">save()</span></code>.  When we invoke
<code class="docutils literal notranslate"><span class="pre">save()</span></code> on a D instance, which method is called?  According to the
classic lookup rule, <code class="docutils literal notranslate"><span class="pre">A.save()</span></code> is called, ignoring <code class="docutils literal notranslate"><span class="pre">C.save()</span></code>!</p>
<p>This is not good.  It probably breaks C (its state doesn’t get
saved), defeating the whole purpose of inheriting from C in the
first place.</p>
<p>Why was this not a problem in classic Python?  Diamond diagrams
are rarely found in classic Python class hierarchies.  Most class
hierarchies use single inheritance, and multiple inheritance is
usually confined to mix-in classes.  In fact, the problem shown
here is probably the reason why multiple inheritance is unpopular
in classic Python.</p>
<p>Why will this be a problem in the new system?  The ‘object’ type
at the top of the type hierarchy defines a number of methods that
can usefully be extended by subtypes, for example <code class="docutils literal notranslate"><span class="pre">__getattr__()</span></code>.</p>
<p>(Aside: in classic Python, the <code class="docutils literal notranslate"><span class="pre">__getattr__()</span></code> method is not really
the implementation for the get-attribute operation; it is a hook
that only gets invoked when an attribute cannot be found by normal
means.  This has often been cited as a shortcoming – some class
designs have a legitimate need for a <code class="docutils literal notranslate"><span class="pre">__getattr__()</span></code> method that
gets called for <strong>all</strong> attribute references.  But then of course
this method has to be able to invoke the default implementation
directly.  The most natural way is to make the default
implementation available as <code class="docutils literal notranslate"><span class="pre">object.__getattr__(self,</span> <span class="pre">name)</span></code>.)</p>
<p>Thus, a classic class hierarchy like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">B</span>     <span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
    <span class="o">^</span>         <span class="o">^</span>  <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span> <span class="o">...</span>
     \       <span class="o">/</span>
      \     <span class="o">/</span>
       \   <span class="o">/</span>
        \ <span class="o">/</span>
      <span class="k">class</span> <span class="nc">D</span>
</pre></div>
</div>
<p>will change into a diamond diagram under the new system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="nb">object</span><span class="p">:</span>
        <span class="o">^</span> <span class="o">^</span>  <span class="fm">__getattr__</span><span class="p">()</span>
       <span class="o">/</span>   \
      <span class="o">/</span>     \
     <span class="o">/</span>       \
    <span class="o">/</span>         \
<span class="k">class</span> <span class="nc">B</span>     <span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
    <span class="o">^</span>         <span class="o">^</span>  <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span> <span class="o">...</span>
     \       <span class="o">/</span>
      \     <span class="o">/</span>
       \   <span class="o">/</span>
        \ <span class="o">/</span>
      <span class="k">class</span> <span class="nc">D</span>
</pre></div>
</div>
<p>and while in the original diagram <code class="docutils literal notranslate"><span class="pre">C.__getattr__()</span></code> is invoked,
under the new system with the classic lookup rule,
<code class="docutils literal notranslate"><span class="pre">object.__getattr__()</span></code> would be invoked!</p>
<p>Fortunately, there’s a lookup rule that’s better.  It’s a bit
difficult to explain, but it does the right thing in the diamond
diagram, and it is the same as the classic lookup rule when there
are no diamonds in the inheritance graph (when it is a tree).</p>
<p>The new lookup rule constructs a list of all classes in the
inheritance diagram in the order in which they will be searched.
This construction is done at class definition time to save time.
To explain the new lookup rule, let’s first consider what such a
list would look like for the classic lookup rule.  Note that in
the presence of diamonds the classic lookup visits some classes
multiple times.  For example, in the ABCD diamond diagram above,
the classic lookup rule visits the classes in this order:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">D</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">A</span>
</pre></div>
</div>
<p>Note how A occurs twice in the list.  The second occurrence is
redundant, since anything that could be found there would already
have been found when searching the first occurrence.</p>
<p>We use this observation to explain our new lookup rule.  Using the
classic lookup rule, construct the list of classes that would be
searched, including duplicates.  Now for each class that occurs in
the list multiple times, remove all occurrences except for the
last.  The resulting list contains each ancestor class exactly
once (including the most derived class, D in the example).</p>
<p>Searching for methods in this order will do the right thing for
the diamond diagram.  Because of the way the list is constructed,
it does not change the search order in situations where no diamond
is involved.</p>
<p>Isn’t this backwards incompatible?  Won’t it break existing code?
It would, if we changed the method resolution order for all
classes.  However, in Python 2.2, the new lookup rule will only be
applied to types derived from built-in types, which is a new
feature.  Class statements without a base class create “classic
classes”, and so do class statements whose base classes are
themselves classic classes.  For classic classes the classic
lookup rule will be used. (To experiment with the new lookup rule
for classic classes, you will be able to specify a different
metaclass explicitly.)  We’ll also provide a tool that analyzes a
class hierarchy looking for methods that would be affected by a
change in method resolution order.</p>
<p>XXX Another way to explain the motivation for the new MRO, due to
Damian Conway: you never use the method defined in a base class if
it is defined in a derived class that you haven’t explored yet
(using the old search order).</p>
</section>
<section id="xxx-to-be-done">
<h2><a class="toc-backref" href="#id13">XXX To be done</a><a class="headerlink" href="#xxx-to-be-done" title="Permalink to this headline">¶</a></h2>
<p>Additional topics to be discussed in this PEP:</p>
<ul class="simple">
<li><p>backwards compatibility issues!!!</p></li>
<li><p>class methods and static methods</p></li>
<li><p>cooperative methods and <code class="docutils literal notranslate"><span class="pre">super()</span></code></p></li>
<li><p>mapping between type object slots (tp_foo) and special methods
(<code class="docutils literal notranslate"><span class="pre">__foo__</span></code>) (actually, this may belong in <a class="reference external" href="pep-0252.html">PEP 252</a>)</p></li>
<li><p>built-in names for built-in types (object, int, str, list etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__dict__</span></code> and <code class="docutils literal notranslate"><span class="pre">__dictoffset__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__slots__</span></code></p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">HEAPTYPE</span></code> flag bit</p></li>
<li><p>GC support</p></li>
<li><p>API docs for all the new functions</p></li>
<li><p>how to use <code class="docutils literal notranslate"><span class="pre">__new__</span></code></p></li>
<li><p>writing metaclasses (using <code class="docutils literal notranslate"><span class="pre">mro()</span></code> etc.)</p></li>
<li><p>high level user overview</p></li>
</ul>
<section id="open-issues">
<h3><a class="toc-backref" href="#id14">open issues</a><a class="headerlink" href="#open-issues" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>do we need <code class="docutils literal notranslate"><span class="pre">__del__</span></code>?</p></li>
<li><p>assignment to <code class="docutils literal notranslate"><span class="pre">__dict__</span></code>, <code class="docutils literal notranslate"><span class="pre">__bases__</span></code></p></li>
<li><p>inconsistent naming
(e.g. tp_dealloc/tp_new/tp_init/tp_alloc/tp_free)</p></li>
<li><p>add builtin alias ‘dict’ for ‘dictionary’?</p></li>
<li><p>when subclasses of dict/list etc. are passed to system
functions, the <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> overrides (etc.) aren’t always
used</p></li>
</ul>
</section>
</section>
<section id="implementation">
<h2><a class="toc-backref" href="#id15">Implementation</a><a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p>A prototype implementation of this PEP (and for <a class="reference external" href="pep-0252.html">PEP 252</a>) is
available from CVS, and in the series of Python 2.2 alpha and beta
releases.  For some examples of the features described here, see
the file Lib/test/test_descr.py and the extension module
Modules/xxsubtype.c.</p>
</section>
<section id="references">
<h2><a class="toc-backref" href="#id16">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets">1</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id2">2</a>)</span></dt>
<dd><p>“Putting Metaclasses to Work”, by Ira R. Forman and Scott
H. Danforth, Addison-Wesley 1999.
(<a class="reference external" href="http://www.aw.com/product/0,2627,0201433052,00.html">http://www.aw.com/product/0,2627,0201433052,00.html</a>)</p>
</dd>
</dl>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#id17">Copyright</a><a class="headerlink" href="#copyright" title="Permalink to this headline">¶</a></h2>
<p>This document has been placed in the public domain.</p>
</section>
</section>
<span>Source: <a class="reference external" href="https://github.com/python/peps/blob/master/pep-0253.txt">https://github.com/python/peps/blob/master/pep-0253.txt</a></span><div class="zero-height line"><br /></div>
<span>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/master/pep-0253.txt">2021-06-28T11:16:08Z</a></span>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../contents/">PEPs</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">PEP Table of Contents (needed for Sphinx):</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pep-0000/">PEP 0 – Index of Python Enhancement Proposals (PEPs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0001/">PEP 1 – PEP Purpose and Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0002/">PEP 2 – Procedure for Adding New Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0003/">PEP 3 – Guidelines for Handling Bug Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0004/">PEP 4 – Deprecation of Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0005/">PEP 5 – Guidelines for Language Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0006/">PEP 6 – Bug Fix Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0007/">PEP 7 – Style Guide for C Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0008/">PEP 8 – Style Guide for Python Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0009/">PEP 9 – Sample Plaintext PEP Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0010/">PEP 10 – Voting Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0011/">PEP 11 – Removing support for little used platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0012/">PEP 12 – Sample reStructuredText PEP Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0013/">PEP 13 – Python Language Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0020/">PEP 20 – The Zen of Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0042/">PEP 42 – Feature Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0100/">PEP 100 – Python Unicode Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0101/">PEP 101 – Doing Python Releases 101</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0102/">PEP 102 – Doing Python Micro Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0103/">PEP 103 – Collecting information about git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0160/">PEP 160 – Python 1.6 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0200/">PEP 200 – Python 2.0 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0201/">PEP 201 – Lockstep Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0202/">PEP 202 – List Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0203/">PEP 203 – Augmented Assignments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0204/">PEP 204 – Range Literals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0205/">PEP 205 – Weak References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0206/">PEP 206 – Python Advanced Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0207/">PEP 207 – Rich Comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0208/">PEP 208 – Reworking the Coercion Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0209/">PEP 209 – Multi-dimensional Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0210/">PEP 210 – Decoupling the Interpreter Loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0211/">PEP 211 – Adding A New Outer Product Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0212/">PEP 212 – Loop Counter Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0213/">PEP 213 – Attribute Access Handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0214/">PEP 214 – Extended Print Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0215/">PEP 215 – String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0216/">PEP 216 – Docstring Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0217/">PEP 217 – Display Hook for Interactive Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0218/">PEP 218 – Adding a Built-In Set Object Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0219/">PEP 219 – Stackless Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0220/">PEP 220 – Coroutines, Generators, Continuations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0221/">PEP 221 – Import As</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0222/">PEP 222 – Web Library Enhancements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0223/">PEP 223 – Change the Meaning of ``\x`` Escapes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0224/">PEP 224 – Attribute Docstrings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0225/">PEP 225 – Elementwise/Objectwise Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0226/">PEP 226 – Python 2.1 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0227/">PEP 227 – Statically Nested Scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0228/">PEP 228 – Reworking Python’s Numeric Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0229/">PEP 229 – Using Distutils to Build Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0230/">PEP 230 – Warning Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0231/">PEP 231 – __findattr__()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0232/">PEP 232 – Function Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0233/">PEP 233 – Python Online Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0234/">PEP 234 – Iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0235/">PEP 235 – Import on Case-Insensitive Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0236/">PEP 236 – Back to the __future__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0237/">PEP 237 – Unifying Long Integers and Integers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0238/">PEP 238 – Changing the Division Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0239/">PEP 239 – Adding a Rational Type to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0240/">PEP 240 – Adding a Rational Literal to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0241/">PEP 241 – Metadata for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0242/">PEP 242 – Numeric Kinds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0243/">PEP 243 – Module Repository Upload Mechanism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0244/">PEP 244 – The ``directive`` statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0245/">PEP 245 – Python Interface Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0246/">PEP 246 – Object Adaptation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0247/">PEP 247 – API for Cryptographic Hash Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0248/">PEP 248 – Python Database API Specification v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0249/">PEP 249 – Python Database API Specification v2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0250/">PEP 250 – Using site-packages on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0251/">PEP 251 – Python 2.2 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0252/">PEP 252 – Making Types Look More Like Classes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PEP 253 – Subtyping Built-in Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0254/">PEP 254 – Making Classes Look More Like Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0255/">PEP 255 – Simple Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0256/">PEP 256 – Docstring Processing System Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0257/">PEP 257 – Docstring Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0258/">PEP 258 – Docutils Design Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0259/">PEP 259 – Omit printing newline after newline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0260/">PEP 260 – Simplify xrange()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0261/">PEP 261 – Support for “wide” Unicode characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0262/">PEP 262 – A Database of Installed Python Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0263/">PEP 263 – Defining Python Source Code Encodings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0264/">PEP 264 – Future statements in simulated shells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0265/">PEP 265 – Sorting Dictionaries by Value</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0266/">PEP 266 – Optimizing Global Variable/Attribute Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0267/">PEP 267 – Optimized Access to Module Namespaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0268/">PEP 268 – Extended HTTP functionality and WebDAV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0269/">PEP 269 – Pgen Module for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0270/">PEP 270 – uniq method for list objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0271/">PEP 271 – Prefixing sys.path by command line option</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0272/">PEP 272 – API for Block Encryption Algorithms v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0273/">PEP 273 – Import Modules from Zip Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0274/">PEP 274 – Dict Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0275/">PEP 275 – Switching on Multiple Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0276/">PEP 276 – Simple Iterator for ints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0277/">PEP 277 – Unicode file name support for Windows NT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0278/">PEP 278 – Universal Newline Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0279/">PEP 279 – The enumerate() built-in function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0280/">PEP 280 – Optimizing access to globals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0281/">PEP 281 – Loop Counter Iteration with range and xrange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0282/">PEP 282 – A Logging System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0283/">PEP 283 – Python 2.3 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0284/">PEP 284 – Integer for-loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0285/">PEP 285 – Adding a bool type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0286/">PEP 286 – Enhanced Argument Tuples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0287/">PEP 287 – reStructuredText Docstring Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0288/">PEP 288 – Generators Attributes and Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0289/">PEP 289 – Generator Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0290/">PEP 290 – Code Migration and Modernization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0291/">PEP 291 – Backward Compatibility for the Python 2 Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0292/">PEP 292 – Simpler String Substitutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0293/">PEP 293 – Codec Error Handling Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0294/">PEP 294 – Type Names in the types Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0295/">PEP 295 – Interpretation of multiline string constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0296/">PEP 296 – Adding a bytes Object Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0297/">PEP 297 – Support for System Upgrades</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0298/">PEP 298 – The Locked Buffer Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0299/">PEP 299 – Special __main__() function in modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0301/">PEP 301 – Package Index and Metadata for Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0302/">PEP 302 – New Import Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0303/">PEP 303 – Extend divmod() for Multiple Divisors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0304/">PEP 304 – Controlling Generation of Bytecode Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0305/">PEP 305 – CSV File API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0306/">PEP 306 – How to Change Python’s Grammar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0307/">PEP 307 – Extensions to the pickle protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0308/">PEP 308 – Conditional Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0309/">PEP 309 – Partial Function Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0310/">PEP 310 – Reliable Acquisition/Release Pairs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0311/">PEP 311 – Simplified Global Interpreter Lock Acquisition for Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0312/">PEP 312 – Simple Implicit Lambda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0313/">PEP 313 – Adding Roman Numeral Literals to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0314/">PEP 314 – Metadata for Python Software Packages v1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0315/">PEP 315 – Enhanced While Loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0316/">PEP 316 – Programming by Contract for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0317/">PEP 317 – Eliminate Implicit Exception Instantiation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0318/">PEP 318 – Decorators for Functions and Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0319/">PEP 319 – Python Synchronize/Asynchronize Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0320/">PEP 320 – Python 2.4 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0321/">PEP 321 – Date/Time Parsing and Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0322/">PEP 322 – Reverse Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0323/">PEP 323 – Copyable Iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0324/">PEP 324 – subprocess - New process module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0325/">PEP 325 – Resource-Release Support for Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0326/">PEP 326 – A Case for Top and Bottom Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0327/">PEP 327 – Decimal Data Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0328/">PEP 328 – Imports: Multi-Line and Absolute/Relative</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0329/">PEP 329 – Treating Builtins as Constants in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0330/">PEP 330 – Python Bytecode Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0331/">PEP 331 – Locale-Independent Float/String Conversions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0332/">PEP 332 – Byte vectors and String/Unicode Unification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0333/">PEP 333 – Python Web Server Gateway Interface v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0334/">PEP 334 – Simple Coroutines via SuspendIteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0335/">PEP 335 – Overloadable Boolean Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0336/">PEP 336 – Make None Callable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0337/">PEP 337 – Logging Usage in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0338/">PEP 338 – Executing modules as scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0339/">PEP 339 – Design of the CPython Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0340/">PEP 340 – Anonymous Block Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0341/">PEP 341 – Unifying try-except and try-finally</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0342/">PEP 342 – Coroutines via Enhanced Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0343/">PEP 343 – The “with” Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0344/">PEP 344 – Exception Chaining and Embedded Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0345/">PEP 345 – Metadata for Python Software Packages 1.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0346/">PEP 346 – User Defined (“``with``”) Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0347/">PEP 347 – Migrating the Python CVS to Subversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0348/">PEP 348 – Exception Reorganization for Python 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0349/">PEP 349 – Allow str() to return unicode strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0350/">PEP 350 – Codetags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0351/">PEP 351 – The freeze protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0352/">PEP 352 – Required Superclass for Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0353/">PEP 353 – Using ssize_t as the index type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0354/">PEP 354 – Enumerations in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0355/">PEP 355 – Path - Object oriented filesystem paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0356/">PEP 356 – Python 2.5 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0357/">PEP 357 – Allowing Any Object to be Used for Slicing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0358/">PEP 358 – The “bytes” Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0359/">PEP 359 – The “make” Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0360/">PEP 360 – Externally Maintained Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0361/">PEP 361 – Python 2.6 and 3.0 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0362/">PEP 362 – Function Signature Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0363/">PEP 363 – Syntax For Dynamic Attribute Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0364/">PEP 364 – Transitioning to the Py3K Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0365/">PEP 365 – Adding the pkg_resources module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0366/">PEP 366 – Main module explicit relative imports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0367/">PEP 367 – New Super</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0368/">PEP 368 – Standard image protocol and class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0369/">PEP 369 – Post import hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0370/">PEP 370 – Per user site-packages directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0371/">PEP 371 – Addition of the multiprocessing package to the standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0372/">PEP 372 – Adding an ordered dictionary to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0373/">PEP 373 – Python 2.7 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0374/">PEP 374 – Choosing a distributed VCS for the Python project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0375/">PEP 375 – Python 3.1 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0376/">PEP 376 – Database of Installed Python Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0377/">PEP 377 – Allow __enter__() methods to skip the statement body</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0378/">PEP 378 – Format Specifier for Thousands Separator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0379/">PEP 379 – Adding an Assignment Expression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0380/">PEP 380 – Syntax for Delegating to a Subgenerator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0381/">PEP 381 – Mirroring infrastructure for PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0382/">PEP 382 – Namespace Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0383/">PEP 383 – Non-decodable Bytes in System Character Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0384/">PEP 384 – Defining a Stable ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0385/">PEP 385 – Migrating from Subversion to Mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0386/">PEP 386 – Changing the version comparison module in Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0387/">PEP 387 – Backwards Compatibility Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0389/">PEP 389 – argparse - New Command Line Parsing Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0390/">PEP 390 – Static metadata for Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0391/">PEP 391 – Dictionary-Based Configuration For Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0392/">PEP 392 – Python 3.2 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0393/">PEP 393 – Flexible String Representation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0394/">PEP 394 – The “python” Command on Unix-Like Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0395/">PEP 395 – Qualified Names for Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0396/">PEP 396 – Module Version Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0397/">PEP 397 – Python launcher for Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0398/">PEP 398 – Python 3.3 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0399/">PEP 399 – Pure Python/C Accelerator Module Compatibility Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0400/">PEP 400 – Deprecate codecs.StreamReader and codecs.StreamWriter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0401/">PEP 401 – BDFL Retirement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0402/">PEP 402 – Simplified Package Layout and Partitioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0403/">PEP 403 – General purpose decorator clause (aka “&#64;in” clause)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0404/">PEP 404 – Python 2.8 Un-release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0405/">PEP 405 – Python Virtual Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0406/">PEP 406 – Improved Encapsulation of Import State</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0407/">PEP 407 – New release cycle and introducing long-term support versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0408/">PEP 408 – Standard library __preview__ package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0409/">PEP 409 – Suppressing exception context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0410/">PEP 410 – Use decimal.Decimal type for timestamps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0411/">PEP 411 – Provisional packages in the Python standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0412/">PEP 412 – Key-Sharing Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0413/">PEP 413 – Faster evolution of the Python Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0414/">PEP 414 – Explicit Unicode Literal for Python 3.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0415/">PEP 415 – Implement context suppression with exception attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0416/">PEP 416 – Add a frozendict builtin type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0417/">PEP 417 – Including mock in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0418/">PEP 418 – Add monotonic time, performance counter, and process time functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0419/">PEP 419 – Protecting cleanup statements from interruptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0420/">PEP 420 – Implicit Namespace Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0421/">PEP 421 – Adding sys.implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0422/">PEP 422 – Simpler customisation of class creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0423/">PEP 423 – Naming conventions and recipes related to packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0424/">PEP 424 – A method for exposing a length hint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0425/">PEP 425 – Compatibility Tags for Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0426/">PEP 426 – Metadata for Python Software Packages 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0427/">PEP 427 – The Wheel Binary Package Format 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0428/">PEP 428 – The pathlib module – object-oriented filesystem paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0429/">PEP 429 – Python 3.4 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0430/">PEP 430 – Migrating to Python 3 as the default online documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0431/">PEP 431 – Time zone support improvements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0432/">PEP 432 – Restructuring the CPython startup sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0433/">PEP 433 – Easier suppression of file descriptor inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0434/">PEP 434 – IDLE Enhancement Exception for All Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0435/">PEP 435 – Adding an Enum type to the Python standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0436/">PEP 436 – The Argument Clinic DSL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0437/">PEP 437 – A DSL for specifying signatures, annotations and argument converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0438/">PEP 438 – Transitioning to release-file hosting on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0439/">PEP 439 – Inclusion of implicit pip bootstrap in Python installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0440/">PEP 440 – Version Identification and Dependency Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0441/">PEP 441 – Improving Python ZIP Application Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0442/">PEP 442 – Safe object finalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0443/">PEP 443 – Single-dispatch generic functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0444/">PEP 444 – Python Web3 Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0445/">PEP 445 – Add new APIs to customize Python memory allocators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0446/">PEP 446 – Make newly created file descriptors non-inheritable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0447/">PEP 447 – Add __getdescriptor__ method to metaclass</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0448/">PEP 448 – Additional Unpacking Generalizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0449/">PEP 449 – Removal of the PyPI Mirror Auto Discovery and Naming Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0450/">PEP 450 – Adding A Statistics Module To The Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0451/">PEP 451 – A ModuleSpec Type for the Import System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0452/">PEP 452 – API for Cryptographic Hash Functions v2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0453/">PEP 453 – Explicit bootstrapping of pip in Python installations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0454/">PEP 454 – Add a new tracemalloc module to trace Python memory allocations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0455/">PEP 455 – Adding a key-transforming dictionary to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0456/">PEP 456 – Secure and interchangeable hash algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0457/">PEP 457 – Notation For Positional-Only Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0458/">PEP 458 – Secure PyPI downloads with signed repository metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0459/">PEP 459 – Standard Metadata Extensions for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0460/">PEP 460 – Add binary interpolation and formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0461/">PEP 461 – Adding % formatting to bytes and bytearray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0462/">PEP 462 – Core development workflow automation for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0463/">PEP 463 – Exception-catching expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0464/">PEP 464 – Removal of the PyPI Mirror Authenticity API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0465/">PEP 465 – A dedicated infix operator for matrix multiplication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0466/">PEP 466 – Network Security Enhancements for Python 2.7.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0467/">PEP 467 – Minor API improvements for binary sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0468/">PEP 468 – Preserving the order of \*\*kwargs in a function.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0469/">PEP 469 – Migration of dict iteration code to Python 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0470/">PEP 470 – Removing External Hosting Support on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0471/">PEP 471 – os.scandir() function – a better and faster directory iterator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0472/">PEP 472 – Support for indexing with keyword arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0473/">PEP 473 – Adding structured data to built-in exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0474/">PEP 474 – Creating forge.python.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0475/">PEP 475 – Retry system calls failing with EINTR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0476/">PEP 476 – Enabling certificate verification by default for stdlib http clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0477/">PEP 477 – Backport ensurepip (PEP 453) to Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0478/">PEP 478 – Python 3.5 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0479/">PEP 479 – Change StopIteration handling inside generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0480/">PEP 480 – Surviving a Compromise of PyPI: End-to-end signing of packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0481/">PEP 481 – Migrate CPython to Git, Github, and Phabricator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0482/">PEP 482 – Literature Overview for Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0483/">PEP 483 – The Theory of Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0484/">PEP 484 – Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0485/">PEP 485 – A Function for testing approximate equality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0486/">PEP 486 – Make the Python Launcher aware of virtual environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0487/">PEP 487 – Simpler customisation of class creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0488/">PEP 488 – Elimination of PYO files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0489/">PEP 489 – Multi-phase extension module initialization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0490/">PEP 490 – Chain exceptions at C level</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0491/">PEP 491 – The Wheel Binary Package Format 1.9</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0492/">PEP 492 – Coroutines with async and await syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0493/">PEP 493 – HTTPS verification migration tools for Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0494/">PEP 494 – Python 3.6 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0495/">PEP 495 – Local Time Disambiguation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0496/">PEP 496 – Environment Markers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0497/">PEP 497 – A standard mechanism for backward compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0498/">PEP 498 – Literal String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0499/">PEP 499 – ``python -m foo`` should bind ``sys.modules[‘foo’]`` in addition to ``sys.modules[‘__main__’]``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0500/">PEP 500 – A protocol for delegating datetime methods to their
tzinfo implementations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0501/">PEP 501 – General purpose string interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0502/">PEP 502 – String Interpolation - Extended Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0503/">PEP 503 – Simple Repository API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0504/">PEP 504 – Using the System RNG by default</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0505/">PEP 505 – None-aware operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0506/">PEP 506 – Adding A Secrets Module To The Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0507/">PEP 507 – Migrate CPython to Git and GitLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0508/">PEP 508 – Dependency specification for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0509/">PEP 509 – Add a private version to dict</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0510/">PEP 510 – Specialize functions with guards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0511/">PEP 511 – API for code transformers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0512/">PEP 512 – Migrating from hg.python.org to GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0513/">PEP 513 – A Platform Tag for Portable Linux Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0514/">PEP 514 – Python registration in the Windows registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0515/">PEP 515 – Underscores in Numeric Literals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0516/">PEP 516 – Build system abstraction for pip/conda etc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0517/">PEP 517 – A build-system independent format for source trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0518/">PEP 518 – Specifying Minimum Build System Requirements for Python Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0519/">PEP 519 – Adding a file system path protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0520/">PEP 520 – Preserving Class Attribute Definition Order</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0521/">PEP 521 – Managing global context via ‘with’ blocks in generators and coroutines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0522/">PEP 522 – Allow BlockingIOError in security sensitive APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0523/">PEP 523 – Adding a frame evaluation API to CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0524/">PEP 524 – Make os.urandom() blocking on Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0525/">PEP 525 – Asynchronous Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0526/">PEP 526 – Syntax for Variable Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0527/">PEP 527 – Removing Un(der)used file types/extensions on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0528/">PEP 528 – Change Windows console encoding to UTF-8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0529/">PEP 529 – Change Windows filesystem encoding to UTF-8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0530/">PEP 530 – Asynchronous Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0531/">PEP 531 – Existence checking operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0532/">PEP 532 – A circuit breaking protocol and binary operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0533/">PEP 533 – Deterministic cleanup for iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0534/">PEP 534 – Improved Errors for Missing Standard Library Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0535/">PEP 535 – Rich comparison chaining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0536/">PEP 536 – Final Grammar for Literal String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0537/">PEP 537 – Python 3.7 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0538/">PEP 538 – Coercing the legacy C locale to a UTF-8 based locale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0539/">PEP 539 – A New C-API for Thread-Local Storage in CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0540/">PEP 540 – Add a new UTF-8 Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0541/">PEP 541 – Package Index Name Retention</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0542/">PEP 542 – Dot Notation Assignment In Function Header</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0543/">PEP 543 – A Unified TLS API for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0544/">PEP 544 – Protocols: Structural subtyping (static duck typing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0545/">PEP 545 – Python Documentation Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0546/">PEP 546 – Backport ssl.MemoryBIO and ssl.SSLObject to Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0547/">PEP 547 – Running extension modules using the -m option</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0548/">PEP 548 – More Flexible Loop Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0549/">PEP 549 – Instance Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0550/">PEP 550 – Execution Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0551/">PEP 551 – Security transparency in the Python runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0552/">PEP 552 – Deterministic pycs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0553/">PEP 553 – Built-in breakpoint()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0554/">PEP 554 – Multiple Interpreters in the Stdlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0555/">PEP 555 – Context-local variables (contextvars)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0556/">PEP 556 – Threaded garbage collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0557/">PEP 557 – Data Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0558/">PEP 558 – Defined semantics for locals()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0559/">PEP 559 – Built-in noop()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0560/">PEP 560 – Core support for typing module and generic types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0561/">PEP 561 – Distributing and Packaging Type Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0562/">PEP 562 – Module __getattr__ and __dir__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0563/">PEP 563 – Postponed Evaluation of Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0564/">PEP 564 – Add new time functions with nanosecond resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0565/">PEP 565 – Show DeprecationWarning in __main__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0566/">PEP 566 – Metadata for Python Software Packages 2.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0567/">PEP 567 – Context Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0568/">PEP 568 – Generator-sensitivity for Context Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0569/">PEP 569 – Python 3.8 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0570/">PEP 570 – Python Positional-Only Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0571/">PEP 571 – The manylinux2010 Platform Tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0572/">PEP 572 – Assignment Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0573/">PEP 573 – Module State Access from C Extension Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0574/">PEP 574 – Pickle protocol 5 with out-of-band data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0575/">PEP 575 – Unifying function/method classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0576/">PEP 576 – Rationalize Built-in function classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0577/">PEP 577 – Augmented Assignment Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0578/">PEP 578 – Python Runtime Audit Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0579/">PEP 579 – Refactoring C functions and methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0580/">PEP 580 – The C call protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0581/">PEP 581 – Using GitHub Issues for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0582/">PEP 582 – Python local packages directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0583/">PEP 583 – A Concurrency Memory Model for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0584/">PEP 584 – Add Union Operators To dict</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0585/">PEP 585 – Type Hinting Generics In Standard Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0586/">PEP 586 – Literal Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0587/">PEP 587 – Python Initialization Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0588/">PEP 588 – GitHub Issues Migration Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0589/">PEP 589 – TypedDict: Type Hints for Dictionaries with a Fixed Set of Keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0590/">PEP 590 – Vectorcall: a fast calling protocol for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0591/">PEP 591 – Adding a final qualifier to typing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0592/">PEP 592 – Adding “Yank” Support to the Simple API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0593/">PEP 593 – Flexible function and variable annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0594/">PEP 594 – Removing dead batteries from the standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0595/">PEP 595 – Improving bugs.python.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0596/">PEP 596 – Python 3.9 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0597/">PEP 597 – Add optional EncodingWarning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0598/">PEP 598 – Introducing incremental feature releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0599/">PEP 599 – The manylinux2014 Platform Tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0600/">PEP 600 – Future ‘manylinux’ Platform Tags for Portable Linux Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0601/">PEP 601 – Forbid return/break/continue breaking out of finally</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0602/">PEP 602 – Annual Release Cycle for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0603/">PEP 603 – Adding a frozenmap type to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0604/">PEP 604 – Allow writing union types as ``X | Y``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0605/">PEP 605 – A rolling feature release stream for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0606/">PEP 606 – Python Compatibility Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0607/">PEP 607 – Reducing CPython’s Feature Delivery Latency</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0608/">PEP 608 – Coordinated Python release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0609/">PEP 609 – PyPA Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0610/">PEP 610 – Recording the Direct URL Origin of installed distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0611/">PEP 611 – The one million limit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0612/">PEP 612 – Parameter Specification Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0613/">PEP 613 – Explicit Type Aliases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0614/">PEP 614 – Relaxing Grammar Restrictions On Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0615/">PEP 615 – Support for the IANA Time Zone Database in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0616/">PEP 616 – String methods to remove prefixes and suffixes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0617/">PEP 617 – New PEG parser for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0618/">PEP 618 – Add Optional Length-Checking To zip</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0619/">PEP 619 – Python 3.10 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0620/">PEP 620 – Hide implementation details from the C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0621/">PEP 621 – Storing project metadata in pyproject.toml</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0622/">PEP 622 – Structural Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0623/">PEP 623 – Remove wstr from Unicode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0624/">PEP 624 – Remove Py_UNICODE encoder APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0625/">PEP 625 – File name of a Source Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0626/">PEP 626 – Precise line numbers for debugging and other tools.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0627/">PEP 627 – Recording installed projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0628/">PEP 628 – Add ``math.tau``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0629/">PEP 629 – Versioning PyPI’s Simple API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0630/">PEP 630 – Isolating Extension Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0631/">PEP 631 – Dependency specification in pyproject.toml based on PEP 508</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0632/">PEP 632 – Deprecate distutils module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0633/">PEP 633 – Dependency specification in pyproject.toml using an exploded TOML table</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0634/">PEP 634 – Structural Pattern Matching: Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0635/">PEP 635 – Structural Pattern Matching: Motivation and Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0636/">PEP 636 – Structural Pattern Matching: Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0637/">PEP 637 – Support for indexing with keyword arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0638/">PEP 638 – Syntactic Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0639/">PEP 639 – Metadata for Python Software Packages 2.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0640/">PEP 640 – Unused variable syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0641/">PEP 641 – Using an underscore in the version portion of Python 3.10 compatibility tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0642/">PEP 642 – Explicit Pattern Syntax for Structural Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0643/">PEP 643 – Metadata for Package Source Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0644/">PEP 644 – Require OpenSSL 1.1.1 or newer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0645/">PEP 645 – Allow writing optional types as ``x?``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0646/">PEP 646 – Variadic Generics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0647/">PEP 647 – User-Defined Type Guards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0648/">PEP 648 – Extensible customizations of the interpreter at startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0649/">PEP 649 – Deferred Evaluation Of Annotations Using Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0650/">PEP 650 – Specifying Installer Requirements for Python Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0651/">PEP 651 – Robust Stack Overflow Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0652/">PEP 652 – Maintaining the Stable ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0653/">PEP 653 – Precise Semantics for Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0654/">PEP 654 – Exception Groups and except*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0655/">PEP 655 – Marking individual TypedDict items as required or potentially-missing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0656/">PEP 656 – Platform Tag for Linux Distributions Using Musl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0657/">PEP 657 – Include Fine Grained Error Locations in Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0658/">PEP 658 – Serve Distribution Metadata in the Simple Repository API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0659/">PEP 659 – Specializing Adaptive Interpreter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0660/">PEP 660 – Editable installs for pyproject.toml based builds (wheel based)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0661/">PEP 661 – Sentinel Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0662/">PEP 662 – Editable installs via virtual wheels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0666/">PEP 666 – Reject Foolish Indentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0754/">PEP 754 – IEEE 754 Floating Point Special Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0801/">PEP 801 – Reserved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3000/">PEP 3000 – Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3001/">PEP 3001 – Procedure for reviewing and improving standard library modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3002/">PEP 3002 – Procedure for Backwards-Incompatible Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3003/">PEP 3003 – Python Language Moratorium</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3099/">PEP 3099 – Things that will Not Change in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3100/">PEP 3100 – Miscellaneous Python 3.0 Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3101/">PEP 3101 – Advanced String Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3102/">PEP 3102 – Keyword-Only Arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3103/">PEP 3103 – A Switch/Case Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3104/">PEP 3104 – Access to Names in Outer Scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3105/">PEP 3105 – Make print a function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3106/">PEP 3106 – Revamping dict.keys(), .values() and .items()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3107/">PEP 3107 – Function Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3108/">PEP 3108 – Standard Library Reorganization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3109/">PEP 3109 – Raising Exceptions in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3110/">PEP 3110 – Catching Exceptions in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3111/">PEP 3111 – Simple input built-in in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3112/">PEP 3112 – Bytes literals in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3113/">PEP 3113 – Removal of Tuple Parameter Unpacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3114/">PEP 3114 – Renaming iterator.next() to iterator.__next__()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3115/">PEP 3115 – Metaclasses in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3116/">PEP 3116 – New I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3117/">PEP 3117 – Postfix type declarations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3118/">PEP 3118 – Revising the buffer protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3119/">PEP 3119 – Introducing Abstract Base Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3120/">PEP 3120 – Using UTF-8 as the default source encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3121/">PEP 3121 – Extension Module Initialization and Finalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3122/">PEP 3122 – Delineation of the main module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3123/">PEP 3123 – Making PyObject_HEAD conform to standard C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3124/">PEP 3124 – Overloading, Generic Functions, Interfaces, and Adaptation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3125/">PEP 3125 – Remove Backslash Continuation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3126/">PEP 3126 – Remove Implicit String Concatenation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3127/">PEP 3127 – Integer Literal Support and Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3128/">PEP 3128 – BList: A Faster List-like Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3129/">PEP 3129 – Class Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3130/">PEP 3130 – Access to Current Module/Class/Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3131/">PEP 3131 – Supporting Non-ASCII Identifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3132/">PEP 3132 – Extended Iterable Unpacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3133/">PEP 3133 – Introducing Roles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3134/">PEP 3134 – Exception Chaining and Embedded Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3135/">PEP 3135 – New Super</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3136/">PEP 3136 – Labeled break and continue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3137/">PEP 3137 – Immutable Bytes and Mutable Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3138/">PEP 3138 – String representation in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3139/">PEP 3139 – Cleaning out sys and the “interpreter” module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3140/">PEP 3140 – str(container) should call str(item), not repr(item)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3141/">PEP 3141 – A Type Hierarchy for Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3142/">PEP 3142 – Add a “while” clause to generator expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3143/">PEP 3143 – Standard daemon process library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3144/">PEP 3144 – IP Address Manipulation Library for the Python Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3145/">PEP 3145 – Asynchronous I/O For subprocess.Popen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3146/">PEP 3146 – Merging Unladen Swallow into CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3147/">PEP 3147 – PYC Repository Directories</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3148/">PEP 3148 – futures - execute computations asynchronously</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3149/">PEP 3149 – ABI version tagged .so files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3150/">PEP 3150 – Statement local namespaces (aka “given” clause)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3151/">PEP 3151 – Reworking the OS and IO exception hierarchy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3152/">PEP 3152 – Cofunctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3153/">PEP 3153 – Asynchronous IO support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3154/">PEP 3154 – Pickle protocol version 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3155/">PEP 3155 – Qualified name for classes and functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3156/">PEP 3156 – Asynchronous IO Support Rebooted: the “asyncio” Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3333/">PEP 3333 – Python Web Server Gateway Interface v1.0.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8000/">PEP 8000 – Python Language Governance Proposal Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8001/">PEP 8001 – Python Governance Voting Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8002/">PEP 8002 – Open Source Governance Survey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8010/">PEP 8010 – The Technical Leader Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8011/">PEP 8011 – Python Governance Model Lead by Trio of Pythonistas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8012/">PEP 8012 – The Community Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8013/">PEP 8013 – The External Council Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8014/">PEP 8014 – The Commons Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8015/">PEP 8015 – Organization of the Python community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8016/">PEP 8016 – The Steering Council Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8100/">PEP 8100 – January 2019 steering council election</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8101/">PEP 8101 – 2020 Term steering council election</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8102/">PEP 8102 – 2021 Term steering council election</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../contents/">Documentation overview</a><ul>
      <li>Previous: <a href="../pep-0252/" title="previous chapter">PEP 252 – Making Types Look More Like Classes</a></li>
      <li>Next: <a href="../pep-0254/" title="next chapter">PEP 254 – Making Classes Look More Like Types</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
      
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/pep-0253.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>