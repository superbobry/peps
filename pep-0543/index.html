
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>PEP 543 – A Unified TLS API for Python &#8212; peps.python.org</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="PEP 544 – Protocols: Structural subtyping (static duck typing)" href="../pep-0544/" />
    <link rel="prev" title="PEP 542 – Dot Notation Assignment In Function Header" href="../pep-0542/" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pep-543-a-unified-tls-api-for-python">
<h1 class="page-title">PEP 543 – A Unified TLS API for Python<a class="headerlink" href="#pep-543-a-unified-tls-api-for-python" title="Permalink to this headline">¶</a></h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">PEP</dt>
<dd class="field-odd"><p>543</p>
</dd>
<dt class="field-even">Title</dt>
<dd class="field-even"><p>A Unified TLS API for Python</p>
</dd>
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>Cory Benfield &lt;<a class="reference external" href="mailto:cory&#37;&#52;&#48;lukasa&#46;co&#46;uk?subject=PEP%20-1">cory&#32;&#97;t&#32;lukasa.co.uk</a>&gt;,
Christian Heimes &lt;<a class="reference external" href="mailto:christian&#37;&#52;&#48;python&#46;org?subject=PEP%20-1">christian&#32;&#97;t&#32;python.org</a>&gt;</p>
</dd>
<dt class="field-even">Status</dt>
<dd class="field-even"><p>Withdrawn</p>
</dd>
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Standards Track</p>
</dd>
<dt class="field-even">Created</dt>
<dd class="field-even"><p>17-Oct-2016</p>
</dd>
<dt class="field-odd">Python-Version</dt>
<dd class="field-odd"><p>3.7</p>
</dd>
<dt class="field-even">Post-History</dt>
<dd class="field-even"><p>11-Jan-2017, 19-Jan-2017, 02-Feb-2017, 09-Feb-2017</p>
</dd>
</dl>
<hr class="docutils" />
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#abstract" id="id38">Abstract</a></p></li>
<li><p><a class="reference internal" href="#resolution" id="id39">Resolution</a></p></li>
<li><p><a class="reference internal" href="#rationale" id="id40">Rationale</a></p>
<ul>
<li><p><a class="reference internal" href="#problems" id="id41">Problems</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#proposal" id="id42">Proposal</a></p>
<ul>
<li><p><a class="reference internal" href="#interfaces" id="id43">Interfaces</a></p>
<ul>
<li><p><a class="reference internal" href="#configuration" id="id44">Configuration</a></p></li>
<li><p><a class="reference internal" href="#context" id="id45">Context</a></p></li>
<li><p><a class="reference internal" href="#buffer" id="id46">Buffer</a></p></li>
<li><p><a class="reference internal" href="#socket" id="id47">Socket</a></p></li>
<li><p><a class="reference internal" href="#cipher-suites" id="id48">Cipher Suites</a></p>
<ul>
<li><p><a class="reference internal" href="#openssl" id="id49">OpenSSL</a></p></li>
<li><p><a class="reference internal" href="#securetransport" id="id50">SecureTransport</a></p></li>
<li><p><a class="reference internal" href="#schannel" id="id51">SChannel</a></p></li>
<li><p><a class="reference internal" href="#network-security-services-nss" id="id52">Network Security Services (NSS)</a></p></li>
<li><p><a class="reference internal" href="#proposed-interface" id="id53">Proposed Interface</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#protocol-negotiation" id="id54">Protocol Negotiation</a></p></li>
<li><p><a class="reference internal" href="#tls-versions" id="id55">TLS Versions</a></p></li>
<li><p><a class="reference internal" href="#errors" id="id56">Errors</a></p></li>
<li><p><a class="reference internal" href="#certificates" id="id57">Certificates</a></p></li>
<li><p><a class="reference internal" href="#private-keys" id="id58">Private Keys</a></p></li>
<li><p><a class="reference internal" href="#trust-store" id="id59">Trust Store</a></p></li>
<li><p><a class="reference internal" href="#runtime-access" id="id60">Runtime Access</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#changes-to-the-standard-library" id="id61">Changes to the Standard Library</a></p>
<ul>
<li><p><a class="reference internal" href="#migration-of-the-ssl-module" id="id62">Migration of the ssl module</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#future" id="id63">Future</a></p></li>
<li><p><a class="reference internal" href="#credits" id="id64">Credits</a></p></li>
<li><p><a class="reference internal" href="#id1" id="id65">References</a></p></li>
<li><p><a class="reference internal" href="#copyright" id="id66">Copyright</a></p></li>
</ul>
</div>
<section id="abstract">
<h2><a class="toc-backref" href="#id38">Abstract</a><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>This PEP would define a standard TLS interface in the form of a collection of
abstract base classes. This interface would allow Python implementations and
third-party libraries to provide bindings to TLS libraries other than OpenSSL
that can be used by tools that expect the interface provided by the Python
standard library, with the goal of reducing the dependence of the Python
ecosystem on OpenSSL.</p>
</section>
<section id="resolution">
<h2><a class="toc-backref" href="#id39">Resolution</a><a class="headerlink" href="#resolution" title="Permalink to this headline">¶</a></h2>
<p>2020-06-25: With contemporary agreement with one author, and past
agreement with another, this PEP is withdrawn due to changes in the
APIs of the underlying operating systems.</p>
</section>
<section id="rationale">
<h2><a class="toc-backref" href="#id40">Rationale</a><a class="headerlink" href="#rationale" title="Permalink to this headline">¶</a></h2>
<p>In the 21st century it has become increasingly clear that robust and
user-friendly TLS support is an extremely important part of the ecosystem of
any popular programming language. For most of its lifetime, this role in the
Python ecosystem has primarily been served by the <a class="reference external" href="https://docs.python.org/3/library/ssl.html">ssl module</a> <a class="footnote-reference brackets" href="#id2" id="id3">1</a>, which provides
a Python API to the <a class="reference external" href="https://www.openssl.org/">OpenSSL library</a> <a class="footnote-reference brackets" href="#id4" id="id5">2</a>.</p>
<p>Because the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module is distributed with the Python standard library, it
has become the overwhelmingly most-popular method for handling TLS in Python.
An extraordinary majority of Python libraries, both in the standard library and
on the Python Package Index, rely on the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module for their TLS
connectivity.</p>
<p>Unfortunately, the preeminence of the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module has had a number of
unforeseen side-effects that have had the effect of tying the entire Python
ecosystem tightly to OpenSSL. This has forced Python users to use OpenSSL even
in situations where it may provide a worse user experience than alternative TLS
implementations, which imposes a cognitive burden and makes it hard to provide
“platform-native” experiences.</p>
<section id="problems">
<h3><a class="toc-backref" href="#id41">Problems</a><a class="headerlink" href="#problems" title="Permalink to this headline">¶</a></h3>
<p>The fact that the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module is built into the standard library has meant
that all standard-library Python networking libraries are entirely reliant on
the OpenSSL that the Python implementation has been linked against. This
leads to the following issues:</p>
<ul>
<li><p>It is difficult to take advantage of new, higher-security TLS without
recompiling Python to get a new OpenSSL. While there are third-party bindings
to OpenSSL (e.g. <a class="reference external" href="https://pypi.org/project/pyOpenSSL/">pyOpenSSL</a> <a class="footnote-reference brackets" href="#id6" id="id7">3</a>), these need to be shimmed into a format that
the standard library understands, forcing projects that want to use them to
maintain substantial compatibility layers.</p></li>
<li><p>For Windows distributions of Python, they need to be shipped with a copy of
OpenSSL. This puts the CPython development team in the position of being
OpenSSL redistributors, potentially needing to ship security updates to the
Windows Python distributions when OpenSSL vulnerabilities are released.</p></li>
<li><p>For macOS distributions of Python, they need either to be shipped with a copy
of OpenSSL or linked against the system OpenSSL library. Apple has formally
deprecated linking against the system OpenSSL library, and even if they had
not, that library version has been unsupported by upstream for nearly one
year as of the time of writing. The CPython development team has started
shipping newer OpenSSLs with the Python available from python.org, but this
has the same problem as with Windows.</p></li>
<li><p>Many systems, including but not limited to Windows and macOS, do not make
their system certificate stores available to OpenSSL. This forces users to
either obtain their trust roots from elsewhere (e.g. <a class="reference external" href="https://pypi.org/project/certifi/">certifi</a> <a class="footnote-reference brackets" href="#id8" id="id9">4</a>) or to
attempt to export their system trust stores in some form.</p>
<p>Relying on <a class="reference external" href="https://pypi.org/project/certifi/">certifi</a> <a class="footnote-reference brackets" href="#id8" id="id10">4</a> is less than ideal, as most system administrators do
not expect to receive security-critical software updates from PyPI.
Additionally, it is not easy to extend the <a class="reference external" href="https://pypi.org/project/certifi/">certifi</a> <a class="footnote-reference brackets" href="#id8" id="id11">4</a> trust bundle to include
custom roots, or to centrally manage trust using the <a class="reference external" href="https://pypi.org/project/certifi/">certifi</a> <a class="footnote-reference brackets" href="#id8" id="id12">4</a> model.</p>
<p>Even in situations where the system certificate stores are made available to
OpenSSL in some form, the experience is still sub-standard, as OpenSSL will
perform different validation checks than the platform-native TLS
implementation. This can lead to users experiencing different behaviour on
their browsers or other platform-native tools than they experience in Python,
with little or no recourse to resolve the problem.</p>
</li>
<li><p>Users may wish to integrate with TLS libraries other than OpenSSL for many
other reasons, such as OpenSSL missing features (e.g. TLS 1.3 support), or
because OpenSSL is simply too large and unwieldy for the platform (e.g. for
embedded Python). Those users are left with the requirement to use
third-party networking libraries that can interact with their preferred TLS
library or to shim their preferred library into the OpenSSL-specific <code class="docutils literal notranslate"><span class="pre">ssl</span></code>
module API.</p></li>
</ul>
<p>Additionally, the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module as implemented today limits the ability of
CPython itself to add support for alternative TLS backends, or remove OpenSSL
support entirely, should either of these become necessary or useful. The
<code class="docutils literal notranslate"><span class="pre">ssl</span></code> module exposes too many OpenSSL-specific function calls and features to
easily map to an alternative TLS backend.</p>
</section>
</section>
<section id="proposal">
<h2><a class="toc-backref" href="#id42">Proposal</a><a class="headerlink" href="#proposal" title="Permalink to this headline">¶</a></h2>
<p>This PEP proposes to introduce a few new Abstract Base Classes in Python 3.7 to
provide TLS functionality that is not so strongly tied to OpenSSL. It also
proposes to update standard library modules to use only the interface exposed
by these abstract base classes wherever possible. There are three goals here:</p>
<ol class="arabic simple">
<li><p>To provide a common API surface for both core and third-party developers to
target their TLS implementations to. This allows TLS developers to provide
interfaces that can be used by most Python code, and allows network
developers to have an interface that they can target that will work with a
wide range of TLS implementations.</p></li>
<li><p>To provide an API that has few or no OpenSSL-specific concepts leak through.
The <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module today has a number of warts caused by leaking OpenSSL
concepts through to the API: the new ABCs would remove those specific
concepts.</p></li>
<li><p>To provide a path for the core development team to make OpenSSL one of many
possible TLS backends, rather than requiring that it be present on a system
in order for Python to have TLS support.</p></li>
</ol>
<p>The proposed interface is laid out below.</p>
<section id="interfaces">
<h3><a class="toc-backref" href="#id43">Interfaces</a><a class="headerlink" href="#interfaces" title="Permalink to this headline">¶</a></h3>
<p>There are several interfaces that require standardisation. Those interfaces
are:</p>
<ol class="arabic simple">
<li><p>Configuring TLS, currently implemented by the <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext">SSLContext</a> <a class="footnote-reference brackets" href="#id13" id="id14">5</a> class in the
<code class="docutils literal notranslate"><span class="pre">ssl</span></code> module.</p></li>
<li><p>Providing an in-memory buffer for doing in-memory encryption or decryption
with no actual I/O (necessary for asynchronous I/O models), currently
implemented by the <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLObject">SSLObject</a> <a class="footnote-reference brackets" href="#id21" id="id22">7</a> class in the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module.</p></li>
<li><p>Wrapping a socket object, currently implemented by the <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLSocket">SSLSocket</a> <a class="footnote-reference brackets" href="#id19" id="id20">6</a> class
in the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module.</p></li>
<li><p>Applying TLS configuration to the wrapping objects in (2) and (3). Currently
this is also implemented by the <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext">SSLContext</a> <a class="footnote-reference brackets" href="#id13" id="id15">5</a> class in the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module.</p></li>
<li><p>Specifying TLS cipher suites. There is currently no code for doing this in
the standard library: instead, the standard library uses OpenSSL cipher
suite strings.</p></li>
<li><p>Specifying application-layer protocols that can be negotiated during the
TLS handshake.</p></li>
<li><p>Specifying TLS versions.</p></li>
<li><p>Reporting errors to the caller, currently implemented by the <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLError">SSLError</a> <a class="footnote-reference brackets" href="#id23" id="id24">8</a>
class in the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module.</p></li>
<li><p>Specifying certificates to load, either as client or server certificates.</p></li>
<li><p>Specifying which trust database should be used to validate certificates
presented by a remote peer.</p></li>
<li><p>Finding a way to get hold of these interfaces at run time.</p></li>
</ol>
<p>For the sake of simplicity, this PEP proposes to take a unified approach to
(2) and (3) (that is, buffers and sockets). The Python socket API is a
sizeable one, and implementing a wrapped socket that has the same behaviour as
a regular Python socket is a subtle and tricky thing to do. However, it is
entirely possible to implement a <em>generic</em> wrapped socket in terms of wrapped
buffers: that is, it is possible to write a wrapped socket (3) that will work
for any implementation that provides (2). For this reason, this PEP proposes to
provide an ABC for wrapped buffers (2) but a concrete class for wrapped sockets
(3).</p>
<p>This decision has the effect of making it impossible to bind a small number of
TLS libraries to this ABC, because those TLS libraries <em>cannot</em> provide a
wrapped buffer implementation. The most notable of these at this time appears
to be Amazon’s <a class="reference external" href="https://github.com/awslabs/s2n">s2n</a> <a class="footnote-reference brackets" href="#id34" id="id35">13</a>, which currently does not provide an I/O abstraction
layer. However, even this library consider this a missing feature and are
<a class="reference external" href="https://github.com/awslabs/s2n/issues/358">working to add it</a> <a class="footnote-reference brackets" href="#id36" id="id37">14</a>. For this reason, it is safe to assume that a concrete
implementation of (3) in terms of (2) will be a substantial effort-saving
device and a great tool for correctness. Therefore, this PEP proposes doing
just that.</p>
<p>Obviously, (5) doesn’t require an abstract base class: instead, it requires a
richer API for configuring supported cipher suites that can be easily updated
with supported cipher suites for different implementations.</p>
<p>(9) is a thorny problem, because in an ideal world the private keys associated
with these certificates would never end up in-memory in the Python process
(that is, the TLS library would collaborate with a Hardware Security Module
(HSM) to provide the private key in such a way that it cannot be extracted from
process memory). Thus, we need to provide an extensible model of providing
certificates that allows concrete implementations the ability to provide this
higher level of security, while also allowing a lower bar for those
implementations that cannot. This lower bar would be the same as the status
quo: that is, the certificate may be loaded from an in-memory buffer or from a
file on disk.</p>
<p>(10) also represents an issue because different TLS implementations vary wildly
in how they allow users to select trust stores. Some implementations have
specific trust store formats that only they can use (such as the OpenSSL CA
directory format that is created by <code class="docutils literal notranslate"><span class="pre">c_rehash</span></code>), and others may not allow you
to specify a trust store that does not include their default trust store.</p>
<p>For this reason, we need to provide a model that assumes very little about the
form that trust stores take. The “Trust Store” section below goes into more
detail about how this is achieved.</p>
<p>Finally, this API will split the responsibilities currently assumed by the
<a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext">SSLContext</a> <a class="footnote-reference brackets" href="#id13" id="id16">5</a> object: specifically, the responsibility for holding and managing
configuration and the responsibility for using that configuration to build
wrapper objects.</p>
<p>This is necessarily primarily for supporting functionality like Server Name
Indication (SNI). In OpenSSL (and thus in the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module), the server has
the ability to modify the TLS configuration in response to the client telling
the server what hostname it is trying to reach. This is mostly used to change
certificate chain so as to present the correct TLS certificate chain for the
given hostname. The specific mechanism by which this is done is by returning
a new <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext">SSLContext</a> <a class="footnote-reference brackets" href="#id13" id="id17">5</a> object with the appropriate configuration.</p>
<p>This is not a model that maps well to other TLS implementations. Instead, we
need to make it possible to provide a return value from the SNI callback that
can be used to indicate what configuration changes should be made. This means
providing an object that can hold TLS configuration. This object needs to be
applied to specific TLSWrappedBuffer, and TLSWrappedSocket objects.</p>
<p>For this reason, we split the responsibility of <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext">SSLContext</a> <a class="footnote-reference brackets" href="#id13" id="id18">5</a> into two separate
objects. The <code class="docutils literal notranslate"><span class="pre">TLSConfiguration</span></code> object is an object that acts as container
for TLS configuration: the <code class="docutils literal notranslate"><span class="pre">ClientContext</span></code> and <code class="docutils literal notranslate"><span class="pre">ServerContext</span></code> objects are
objects that are instantiated with a <code class="docutils literal notranslate"><span class="pre">TLSConfiguration</span></code> object. All three
objects would be immutable.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following API declarations uniformly use type hints to aid
reading. Some of these type hints cannot actually be used in practice
because they are circularly referential. Consider them more a
guideline than a reflection of the final code in the module.</p>
</div>
<section id="configuration">
<h4><a class="toc-backref" href="#id44">Configuration</a><a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">TLSConfiguration</span></code> concrete class defines an object that can hold and
manage TLS configuration. The goals of this class are as follows:</p>
<ol class="arabic simple">
<li><p>To provide a method of specifying TLS configuration that avoids the risk of
errors in typing (this excludes the use of a simple dictionary).</p></li>
<li><p>To provide an object that can be safely compared to other configuration
objects to detect changes in TLS configuration, for use with the SNI
callback.</p></li>
</ol>
<p>This class is not an ABC, primarily because it is not expected to have
implementation-specific behaviour. The responsibility for transforming a
<code class="docutils literal notranslate"><span class="pre">TLSConfiguration</span></code> object into a useful set of configuration for a given TLS
implementation belongs to the Context objects discussed below.</p>
<p>This class has one other notable property: it is immutable. This is a desirable
trait for a few reasons. The most important one is that it allows these objects
to be used as dictionary keys, which is potentially extremely valuable for
certain TLS backends and their SNI configuration. On top of this, it frees
implementations from needing to worry about their configuration objects being
changed under their feet, which allows them to avoid needing to carefully
synchronize changes between their concrete data structures and the
configuration object.</p>
<p>This object is extendable: that is, future releases of Python may add
configuration fields to this object as they become useful. For
backwards-compatibility purposes, new fields are only appended to this object.
Existing fields will never be removed, renamed, or reordered.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">TLSConfiguration</span></code> object would be defined by the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ServerNameCallback</span> <span class="o">=</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">TLSBufferObject</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">TLSConfiguration</span><span class="p">],</span> <span class="n">Any</span><span class="p">]</span>


<span class="n">_configuration_fields</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;validate_certificates&#39;</span><span class="p">,</span>
    <span class="s1">&#39;certificate_chain&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ciphers&#39;</span><span class="p">,</span>
    <span class="s1">&#39;inner_protocols&#39;</span><span class="p">,</span>
    <span class="s1">&#39;lowest_supported_version&#39;</span><span class="p">,</span>
    <span class="s1">&#39;highest_supported_version&#39;</span><span class="p">,</span>
    <span class="s1">&#39;trust_store&#39;</span><span class="p">,</span>
    <span class="s1">&#39;sni_callback&#39;</span><span class="p">,</span>
<span class="p">]</span>


<span class="n">_DEFAULT_VALUE</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">TLSConfiguration</span><span class="p">(</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;TLSConfiguration&#39;</span><span class="p">,</span> <span class="n">_configuration_fields</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An immutable TLS Configuration object. This object has the following</span>
<span class="sd">    properties:</span>

<span class="sd">    :param validate_certificates bool: Whether to validate the TLS</span>
<span class="sd">        certificates. This switch operates at a very broad scope: either</span>
<span class="sd">        validation is enabled, in which case all forms of validation are</span>
<span class="sd">        performed including hostname validation if possible, or validation</span>
<span class="sd">        is disabled, in which case no validation is performed.</span>

<span class="sd">        Not all backends support having their certificate validation</span>
<span class="sd">        disabled. If a backend does not support having their certificate</span>
<span class="sd">        validation disabled, attempting to set this property to ``False``</span>
<span class="sd">        will throw a ``TLSError`` when this object is passed into a</span>
<span class="sd">        context object.</span>

<span class="sd">    :param certificate_chain Tuple[Tuple[Certificate],PrivateKey]: The</span>
<span class="sd">        certificate, intermediate certificate, and the corresponding</span>
<span class="sd">        private key for the leaf certificate. These certificates will be</span>
<span class="sd">        offered to the remote peer during the handshake if required.</span>

<span class="sd">        The first Certificate in the list must be the leaf certificate. All</span>
<span class="sd">        subsequent certificates will be offered as intermediate additional</span>
<span class="sd">        certificates.</span>

<span class="sd">    :param ciphers Tuple[Union[CipherSuite, int]]:</span>
<span class="sd">        The available ciphers for TLS connections created with this</span>
<span class="sd">        configuration, in priority order.</span>

<span class="sd">    :param inner_protocols Tuple[Union[NextProtocol, bytes]]:</span>
<span class="sd">        Protocols that connections created with this configuration should</span>
<span class="sd">        advertise as supported during the TLS handshake. These may be</span>
<span class="sd">        advertised using either or both of ALPN or NPN. This list of</span>
<span class="sd">        protocols should be ordered by preference.</span>

<span class="sd">    :param lowest_supported_version TLSVersion:</span>
<span class="sd">        The minimum version of TLS that should be allowed on TLS</span>
<span class="sd">        connections using this configuration.</span>

<span class="sd">    :param highest_supported_version TLSVersion:</span>
<span class="sd">        The maximum version of TLS that should be allowed on TLS</span>
<span class="sd">        connections using this configuration.</span>

<span class="sd">    :param trust_store TrustStore:</span>
<span class="sd">        The trust store that connections using this configuration will use</span>
<span class="sd">        to validate certificates.</span>

<span class="sd">    :param sni_callback Optional[ServerNameCallback]:</span>
<span class="sd">        A callback function that will be called after the TLS Client Hello</span>
<span class="sd">        handshake message has been received by the TLS server when the TLS</span>
<span class="sd">        client specifies a server name indication.</span>

<span class="sd">        Only one callback can be set per ``TLSConfiguration``. If the</span>
<span class="sd">        ``sni_callback`` is ``None`` then the callback is disabled. If the</span>
<span class="sd">        ``TLSConfiguration`` is used for a ``ClientContext`` then this</span>
<span class="sd">        setting will be ignored.</span>

<span class="sd">        The ``callback`` function will be called with three arguments: the</span>
<span class="sd">        first will be the ``TLSBufferObject`` for the connection; the</span>
<span class="sd">        second will be a string that represents the server name that the</span>
<span class="sd">        client is intending to communicate (or ``None`` if the TLS Client</span>
<span class="sd">        Hello does not contain a server name); and the third argument will</span>
<span class="sd">        be the original ``TLSConfiguration`` that configured the</span>
<span class="sd">        connection. The server name argument will be the IDNA *decoded*</span>
<span class="sd">        server name.</span>

<span class="sd">        The ``callback`` must return a ``TLSConfiguration`` to allow</span>
<span class="sd">        negotiation to continue. Other return values signal errors.</span>
<span class="sd">        Attempting to control what error is signaled by the underlying TLS</span>
<span class="sd">        implementation is not specified in this API, but is up to the</span>
<span class="sd">        concrete implementation to handle.</span>

<span class="sd">        The Context will do its best to apply the ``TLSConfiguration``</span>
<span class="sd">        changes from its original configuration to the incoming connection.</span>
<span class="sd">        This will usually include changing the certificate chain, but may</span>
<span class="sd">        also include changes to allowable ciphers or any other</span>
<span class="sd">        configuration settings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">validate_certificates</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="n">certificate_chain</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Certificate</span><span class="p">],</span> <span class="n">PrivateKey</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="n">ciphers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">CipherSuite</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="n">inner_protocols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">NextProtocol</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="n">lowest_supported_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TLSVersion</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="n">highest_supported_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TLSVersion</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="n">trust_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TrustStore</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="n">sni_callback</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServerNameCallback</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">validate_certificates</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">validate_certificates</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">ciphers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ciphers</span> <span class="o">=</span> <span class="n">DEFAULT_CIPHER_LIST</span>

        <span class="k">if</span> <span class="n">inner_protocols</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">inner_protocols</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">lowest_supported_version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">lowest_supported_version</span> <span class="o">=</span> <span class="n">TLSVersion</span><span class="o">.</span><span class="n">TLSv1</span>

        <span class="k">if</span> <span class="n">highest_supported_version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">highest_supported_version</span> <span class="o">=</span> <span class="n">TLSVersion</span><span class="o">.</span><span class="n">MAXIMUM_SUPPORTED</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span> <span class="n">validate_certificates</span><span class="p">,</span> <span class="n">certificate_chain</span><span class="p">,</span> <span class="n">ciphers</span><span class="p">,</span>
            <span class="n">inner_protocols</span><span class="p">,</span> <span class="n">lowest_supported_version</span><span class="p">,</span>
            <span class="n">highest_supported_version</span><span class="p">,</span> <span class="n">trust_store</span><span class="p">,</span> <span class="n">sni_callback</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">validate_certificates</span><span class="o">=</span><span class="n">_DEFAULT_VALUE</span><span class="p">,</span>
                     <span class="n">certificate_chain</span><span class="o">=</span><span class="n">_DEFAULT_VALUE</span><span class="p">,</span>
                     <span class="n">ciphers</span><span class="o">=</span><span class="n">_DEFAULT_VALUE</span><span class="p">,</span>
                     <span class="n">inner_protocols</span><span class="o">=</span><span class="n">_DEFAULT_VALUE</span><span class="p">,</span>
                     <span class="n">lowest_supported_version</span><span class="o">=</span><span class="n">_DEFAULT_VALUE</span><span class="p">,</span>
                     <span class="n">highest_supported_version</span><span class="o">=</span><span class="n">_DEFAULT_VALUE</span><span class="p">,</span>
                     <span class="n">trust_store</span><span class="o">=</span><span class="n">_DEFAULT_VALUE</span><span class="p">,</span>
                     <span class="n">sni_callback</span><span class="o">=</span><span class="n">_DEFAULT_VALUE</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new ``TLSConfiguration``, overriding some of the settings</span>
<span class="sd">        on the original configuration with the new settings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">validate_certificates</span> <span class="ow">is</span> <span class="n">_DEFAULT_VALUE</span><span class="p">:</span>
            <span class="n">validate_certificates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_certificates</span>

        <span class="k">if</span> <span class="n">certificate_chain</span> <span class="ow">is</span> <span class="n">_DEFAULT_VALUE</span><span class="p">:</span>
            <span class="n">certificate_chain</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">certificate_chain</span>

        <span class="k">if</span> <span class="n">ciphers</span> <span class="ow">is</span> <span class="n">_DEFAULT_VALUE</span><span class="p">:</span>
            <span class="n">ciphers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ciphers</span>

        <span class="k">if</span> <span class="n">inner_protocols</span> <span class="ow">is</span> <span class="n">_DEFAULT_VALUE</span><span class="p">:</span>
            <span class="n">inner_protocols</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inner_protocols</span>

        <span class="k">if</span> <span class="n">lowest_supported_version</span> <span class="ow">is</span> <span class="n">_DEFAULT_VALUE</span><span class="p">:</span>
            <span class="n">lowest_supported_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lowest_supported_version</span>

        <span class="k">if</span> <span class="n">highest_supported_version</span> <span class="ow">is</span> <span class="n">_DEFAULT_VALUE</span><span class="p">:</span>
            <span class="n">highest_supported_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">highest_supported_version</span>

        <span class="k">if</span> <span class="n">trust_store</span> <span class="ow">is</span> <span class="n">_DEFAULT_VALUE</span><span class="p">:</span>
            <span class="n">trust_store</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">trust_store</span>

        <span class="k">if</span> <span class="n">sni_callback</span> <span class="ow">is</span> <span class="n">_DEFAULT_VALUE</span><span class="p">:</span>
            <span class="n">sni_callback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sni_callback</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">validate_certificates</span><span class="p">,</span> <span class="n">certificate_chain</span><span class="p">,</span> <span class="n">ciphers</span><span class="p">,</span>
            <span class="n">inner_protocols</span><span class="p">,</span> <span class="n">lowest_supported_version</span><span class="p">,</span>
            <span class="n">highest_supported_version</span><span class="p">,</span> <span class="n">trust_store</span><span class="p">,</span> <span class="n">sni_callback</span>
        <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="context">
<h4><a class="toc-backref" href="#id45">Context</a><a class="headerlink" href="#context" title="Permalink to this headline">¶</a></h4>
<p>We define two Context abstract base classes. These ABCs define objects that
allow configuration of TLS to be applied to specific connections. They can be
thought of as factories for <code class="docutils literal notranslate"><span class="pre">TLSWrappedSocket</span></code> and <code class="docutils literal notranslate"><span class="pre">TLSWrappedBuffer</span></code>
objects.</p>
<p>Unlike the current <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module, we provide two context classes instead of
one. Specifically, we provide the <code class="docutils literal notranslate"><span class="pre">ClientContext</span></code> and <code class="docutils literal notranslate"><span class="pre">ServerContext</span></code>
classes. This simplifies the APIs (for example, there is no sense in the server
providing the <code class="docutils literal notranslate"><span class="pre">server_hostname</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">ssl.SSLContext.wrap_socket</span></code>,
but because there is only one context class that parameter is still available),
and ensures that implementations know as early as possible which side of a TLS
connection they will serve. Additionally, it allows implementations to opt-out
of one or either side of the connection. For example, SecureTransport on macOS
is not really intended for server use and has an enormous amount of
functionality missing for server-side use. This would allow SecureTransport
implementations to simply not define a concrete subclass of <code class="docutils literal notranslate"><span class="pre">ServerContext</span></code>
to signal their lack of support.</p>
<p>One of the other major differences to the current <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module is that a
number of flags and options have been removed. Most of these are self-evident,
but it is worth noting that <code class="docutils literal notranslate"><span class="pre">auto_handshake</span></code> has been removed from
<code class="docutils literal notranslate"><span class="pre">wrap_socket</span></code>. This was removed because it fundamentally represents an odd
design wart that saves very minimal effort at the cost of a complexity increase
both for users and implementers. This PEP requires that all users call
<code class="docutils literal notranslate"><span class="pre">do_handshake</span></code> explicitly after connecting.</p>
<p>As much as possible implementers should aim to make these classes immutable:
that is, they should prefer not to allow users to mutate their internal state
directly, instead preferring to create new contexts from new TLSConfiguration
objects. Obviously, the ABCs cannot enforce this constraint, and so they do not
attempt to.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Context</span></code> abstract base class has the following class definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TLSBufferObject</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="n">TLSWrappedSocket</span><span class="p">,</span> <span class="n">TLSWrappedBuffer</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">_BaseContext</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">configuration</span><span class="p">:</span> <span class="n">TLSConfiguration</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new context object from a given TLS configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TLSConfiguration</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the TLS configuration that was used to create the context.</span>
<span class="sd">        &quot;&quot;&quot;</span>


<span class="k">class</span> <span class="nc">ClientContext</span><span class="p">(</span><span class="n">_BaseContext</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrap_socket</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">socket</span><span class="p">:</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">,</span>
                    <span class="n">server_hostname</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TLSWrappedSocket</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Wrap an existing Python socket object ``socket`` and return a</span>
<span class="sd">        ``TLSWrappedSocket`` object. ``socket`` must be a ``SOCK_STREAM``</span>
<span class="sd">        socket: all other socket types are unsupported.</span>

<span class="sd">        The returned SSL socket is tied to the context, its settings and</span>
<span class="sd">        certificates. The socket object originally passed to this method</span>
<span class="sd">        should not be used again: attempting to use it in any way will lead</span>
<span class="sd">        to undefined behaviour, especially across different TLS</span>
<span class="sd">        implementations. To get the original socket object back once it has</span>
<span class="sd">        been wrapped in TLS, see the ``unwrap`` method of the</span>
<span class="sd">        TLSWrappedSocket.</span>

<span class="sd">        The parameter ``server_hostname`` specifies the hostname of the</span>
<span class="sd">        service which we are connecting to. This allows a single server to</span>
<span class="sd">        host multiple SSL-based services with distinct certificates, quite</span>
<span class="sd">        similarly to HTTP virtual hosts. This is also used to validate the</span>
<span class="sd">        TLS certificate for the given hostname. If hostname validation is</span>
<span class="sd">        not desired, then pass ``None`` for this parameter. This parameter</span>
<span class="sd">        has no default value because opting-out of hostname validation is</span>
<span class="sd">        dangerous, and should not be the default behaviour.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">buffer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrap_buffers</span><span class="p">(</span><span class="n">server_hostname</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">TLSWrappedSocket</span><span class="p">(</span><span class="n">socket</span><span class="p">,</span> <span class="n">buffer</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">wrap_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_hostname</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TLSWrappedBuffer</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an in-memory stream for TLS, using memory buffers to store</span>
<span class="sd">        incoming and outgoing ciphertext. The TLS routines will read</span>
<span class="sd">        received TLS data from one buffer, and write TLS data that needs to</span>
<span class="sd">        be emitted to another buffer.</span>

<span class="sd">        The implementation details of how this buffering works are up to</span>
<span class="sd">        the individual TLS implementation. This allows TLS libraries that</span>
<span class="sd">        have their own specialised support to continue to do so, while</span>
<span class="sd">        allowing those without to use whatever Python objects they see fit.</span>

<span class="sd">        The ``server_hostname`` parameter has the same meaning as in</span>
<span class="sd">        ``wrap_socket``.</span>
<span class="sd">        &quot;&quot;&quot;</span>


<span class="k">class</span> <span class="nc">ServerContext</span><span class="p">(</span><span class="n">_BaseContext</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrap_socket</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">socket</span><span class="p">:</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TLSWrappedSocket</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Wrap an existing Python socket object ``socket`` and return a</span>
<span class="sd">        ``TLSWrappedSocket`` object. ``socket`` must be a ``SOCK_STREAM``</span>
<span class="sd">        socket: all other socket types are unsupported.</span>

<span class="sd">        The returned SSL socket is tied to the context, its settings and</span>
<span class="sd">        certificates. The socket object originally passed to this method</span>
<span class="sd">        should not be used again: attempting to use it in any way will lead</span>
<span class="sd">        to undefined behaviour, especially across different TLS</span>
<span class="sd">        implementations. To get the original socket object back once it has</span>
<span class="sd">        been wrapped in TLS, see the ``unwrap`` method of the</span>
<span class="sd">        TLSWrappedSocket.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">buffer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrap_buffers</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">TLSWrappedSocket</span><span class="p">(</span><span class="n">socket</span><span class="p">,</span> <span class="n">buffer</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">wrap_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TLSWrappedBuffer</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an in-memory stream for TLS, using memory buffers to store</span>
<span class="sd">        incoming and outgoing ciphertext. The TLS routines will read</span>
<span class="sd">        received TLS data from one buffer, and write TLS data that needs to</span>
<span class="sd">        be emitted to another buffer.</span>

<span class="sd">        The implementation details of how this buffering works are up to</span>
<span class="sd">        the individual TLS implementation. This allows TLS libraries that</span>
<span class="sd">        have their own specialised support to continue to do so, while</span>
<span class="sd">        allowing those without to use whatever Python objects they see fit.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="buffer">
<h4><a class="toc-backref" href="#id46">Buffer</a><a class="headerlink" href="#buffer" title="Permalink to this headline">¶</a></h4>
<p>The buffer-wrapper ABC will be defined by the <code class="docutils literal notranslate"><span class="pre">TLSWrappedBuffer</span></code> ABC, which
has the following definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TLSWrappedBuffer</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amt</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read up to ``amt`` bytes of data from the input buffer and return</span>
<span class="sd">        the result as a ``bytes`` instance.</span>

<span class="sd">        Once EOF is reached, all further calls to this method return the</span>
<span class="sd">        empty byte string ``b&#39;&#39;``.</span>

<span class="sd">        May read &quot;short&quot;: that is, fewer bytes may be returned than were</span>
<span class="sd">        requested.</span>

<span class="sd">        Raise ``WantReadError`` or ``WantWriteError`` if there is</span>
<span class="sd">        insufficient data in either the input or output buffer and the</span>
<span class="sd">        operation would have caused data to be written or read.</span>

<span class="sd">        May raise ``RaggedEOF`` if the connection has been closed without a</span>
<span class="sd">        graceful TLS shutdown. Whether this is an exception that should be</span>
<span class="sd">        ignored or not is up to the specific application.</span>

<span class="sd">        As at any time a re-negotiation is possible, a call to ``read()``</span>
<span class="sd">        can also cause write operations.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">readinto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">amt</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read up to ``amt`` bytes of data from the input buffer into</span>
<span class="sd">        ``buffer``, which must be an object that implements the buffer</span>
<span class="sd">        protocol. Returns the number of bytes read.</span>

<span class="sd">        Once EOF is reached, all further calls to this method return the</span>
<span class="sd">        empty byte string ``b&#39;&#39;``.</span>

<span class="sd">        Raises ``WantReadError`` or ``WantWriteError`` if there is</span>
<span class="sd">        insufficient data in either the input or output buffer and the</span>
<span class="sd">        operation would have caused data to be written or read.</span>

<span class="sd">        May read &quot;short&quot;: that is, fewer bytes may be read than were</span>
<span class="sd">        requested.</span>

<span class="sd">        May raise ``RaggedEOF`` if the connection has been closed without a</span>
<span class="sd">        graceful TLS shutdown. Whether this is an exception that should be</span>
<span class="sd">        ignored or not is up to the specific application.</span>

<span class="sd">        As at any time a re-negotiation is possible, a call to</span>
<span class="sd">        ``readinto()`` can also cause write operations.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buf</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write ``buf`` in encrypted form to the output buffer and return the</span>
<span class="sd">        number of bytes written. The ``buf`` argument must be an object</span>
<span class="sd">        supporting the buffer interface.</span>

<span class="sd">        Raise ``WantReadError`` or ``WantWriteError`` if there is</span>
<span class="sd">        insufficient data in either the input or output buffer and the</span>
<span class="sd">        operation would have caused data to be written or read. In either</span>
<span class="sd">        case, users should endeavour to resolve that situation and then</span>
<span class="sd">        re-call this method. When re-calling this method users *should*</span>
<span class="sd">        re-use the exact same ``buf`` object, as some backends require that</span>
<span class="sd">        the exact same buffer be used.</span>

<span class="sd">        This operation may write &quot;short&quot;: that is, fewer bytes may be</span>
<span class="sd">        written than were in the buffer.</span>

<span class="sd">        As at any time a re-negotiation is possible, a call to ``write()``</span>
<span class="sd">        can also cause read operations.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">do_handshake</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs the TLS handshake. Also performs certificate validation</span>
<span class="sd">        and hostname verification.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">cipher</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">CipherSuite</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the CipherSuite entry for the cipher that has been</span>
<span class="sd">        negotiated on the connection. If no connection has been negotiated,</span>
<span class="sd">        returns ``None``. If the cipher negotiated is not defined in</span>
<span class="sd">        CipherSuite, returns the 16-bit integer representing that cipher</span>
<span class="sd">        directly.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">negotiated_protocol</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">NextProtocol</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the protocol that was selected during the TLS handshake.</span>
<span class="sd">        This selection may have been made using ALPN, NPN, or some future</span>
<span class="sd">        negotiation mechanism.</span>

<span class="sd">        If the negotiated protocol is one of the protocols defined in the</span>
<span class="sd">        ``NextProtocol`` enum, the value from that enum will be returned.</span>
<span class="sd">        Otherwise, the raw bytestring of the negotiated protocol will be</span>
<span class="sd">        returned.</span>

<span class="sd">        If ``Context.set_inner_protocols()`` was not called, if the other</span>
<span class="sd">        party does not support protocol negotiation, if this socket does</span>
<span class="sd">        not support any of the peer&#39;s proposed protocols, or if the</span>
<span class="sd">        handshake has not happened yet, ``None`` is returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Context</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The ``Context`` object this buffer is tied to.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractproperty</span>
    <span class="k">def</span> <span class="nf">negotiated_tls_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TLSVersion</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The version of TLS that has been negotiated on this connection.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs a clean TLS shut down. This should generally be used</span>
<span class="sd">        whenever possible to signal to the remote peer that the content is</span>
<span class="sd">        finished.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">receive_from_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Receives some TLS data from the network and stores it in an</span>
<span class="sd">        internal buffer.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">peek_outgoing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the next ``amt`` bytes of data that should be written to</span>
<span class="sd">        the network from the outgoing data buffer, without removing it from</span>
<span class="sd">        the internal buffer.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">consume_outgoing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Discard the next ``amt`` bytes from the outgoing data buffer. This</span>
<span class="sd">        should be used when ``amt`` bytes have been sent on the network, to</span>
<span class="sd">        signal that the data no longer needs to be buffered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="socket">
<h4><a class="toc-backref" href="#id47">Socket</a><a class="headerlink" href="#socket" title="Permalink to this headline">¶</a></h4>
<p>The socket-wrapper class will be a concrete class that accepts two items in its
constructor: a regular socket object, and a <code class="docutils literal notranslate"><span class="pre">TLSWrappedBuffer</span></code> object. This
object will be too large to recreate in this PEP, but will be submitted as part
of the work to build the module.</p>
<p>The wrapped socket will implement all of the socket API, though it will have
stub implementations of methods that only work for sockets with types other
than <code class="docutils literal notranslate"><span class="pre">SOCK_STREAM</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">sendto</span></code>/<code class="docutils literal notranslate"><span class="pre">recvfrom</span></code>). That limitation can be
lifted as-and-when support for DTLS is added to this module.</p>
<p>In addition, the socket class will include the following <em>extra</em> methods on top
of the regular socket methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TLSWrappedSocket</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">do_handshake</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs the TLS handshake. Also performs certificate validation</span>
<span class="sd">        and hostname verification. This must be called after the socket has</span>
<span class="sd">        connected (either via ``connect`` or ``accept``), before any other</span>
<span class="sd">        operation is performed on the socket.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">cipher</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">CipherSuite</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the CipherSuite entry for the cipher that has been</span>
<span class="sd">        negotiated on the connection. If no connection has been negotiated,</span>
<span class="sd">        returns ``None``. If the cipher negotiated is not defined in</span>
<span class="sd">        CipherSuite, returns the 16-bit integer representing that cipher</span>
<span class="sd">        directly.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">negotiated_protocol</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">NextProtocol</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the protocol that was selected during the TLS handshake.</span>
<span class="sd">        This selection may have been made using ALPN, NPN, or some future</span>
<span class="sd">        negotiation mechanism.</span>

<span class="sd">        If the negotiated protocol is one of the protocols defined in the</span>
<span class="sd">        ``NextProtocol`` enum, the value from that enum will be returned.</span>
<span class="sd">        Otherwise, the raw bytestring of the negotiated protocol will be</span>
<span class="sd">        returned.</span>

<span class="sd">        If ``Context.set_inner_protocols()`` was not called, if the other</span>
<span class="sd">        party does not support protocol negotiation, if this socket does</span>
<span class="sd">        not support any of the peer&#39;s proposed protocols, or if the</span>
<span class="sd">        handshake has not happened yet, ``None`` is returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Context</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The ``Context`` object this socket is tied to.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">negotiated_tls_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TLSVersion</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The version of TLS that has been negotiated on this connection.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">unwrap</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cleanly terminate the TLS connection on this wrapped socket. Once</span>
<span class="sd">        called, this ``TLSWrappedSocket`` can no longer be used to transmit</span>
<span class="sd">        data. Returns the socket that was wrapped with TLS.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="cipher-suites">
<h4><a class="toc-backref" href="#id48">Cipher Suites</a><a class="headerlink" href="#cipher-suites" title="Permalink to this headline">¶</a></h4>
<p>Supporting cipher suites in a truly library-agnostic fashion is a remarkably
difficult undertaking. Different TLS implementations often have <em>radically</em>
different APIs for specifying cipher suites, but more problematically these
APIs frequently differ in capability as well as in style. Some examples are
shown below:</p>
<section id="openssl">
<h5><a class="toc-backref" href="#id49">OpenSSL</a><a class="headerlink" href="#openssl" title="Permalink to this headline">¶</a></h5>
<p>OpenSSL uses a well-known cipher string format. This format has been adopted as
a configuration language by most products that use OpenSSL, including Python.
This format is relatively easy to read, but has a number of downsides: it is
a string, which makes it remarkably easy to provide bad inputs; it lacks much
detailed validation, meaning that it is possible to configure OpenSSL in a way
that doesn’t allow it to negotiate any cipher at all; and it allows specifying
cipher suites in a number of different ways that make it tricky to parse. The
biggest problem with this format is that there is no formal specification for
it, meaning that the only way to parse a given string the way OpenSSL would is
to get OpenSSL to parse it.</p>
<p>OpenSSL’s cipher strings can look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;ECDH+AESGCM:ECDH+CHACHA20:DH+AESGCM:DH+CHACHA20:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:RSA+AESGCM:RSA+AES:!aNULL:!eNULL:!MD5&#39;</span>
</pre></div>
</div>
<p>This string demonstrates some of the complexity of the OpenSSL format. For
example, it is possible for one entry to specify multiple cipher suites: the
entry <code class="docutils literal notranslate"><span class="pre">ECDH+AESGCM</span></code> means “all ciphers suites that include both
elliptic-curve Diffie-Hellman key exchange and AES in Galois Counter Mode”.
More explicitly, that will expand to four cipher suites:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256&quot;</span>
</pre></div>
</div>
<p>That makes parsing a complete OpenSSL cipher string extremely tricky. Add to
the fact that there are other meta-characters, such as “!” (exclude all cipher
suites that match this criterion, even if they would otherwise be included:
“!MD5” means that no cipher suites using the MD5 hash algorithm should be
included), “-” (exclude matching ciphers if they were already included, but
allow them to be re-added later if they get included again), and “+” (include
the matching ciphers, but place them at the end of the list), and you get an
<em>extremely</em> complex format to parse. On top of this complexity it should be
noted that the actual result depends on the OpenSSL version, as an OpenSSL
cipher string is valid so long as it contains at least one cipher that OpenSSL
recognises.</p>
<p>OpenSSL also uses different names for its ciphers than the names used in the
relevant specifications. See the manual page for <code class="docutils literal notranslate"><span class="pre">ciphers(1)</span></code> for more
details.</p>
<p>The actual API inside OpenSSL for the cipher string is simple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">char</span> <span class="o">*</span><span class="n">cipher_list</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">some</span> <span class="n">cipher</span> <span class="nb">list</span><span class="o">&gt;</span><span class="p">;</span>
<span class="nb">int</span> <span class="n">rc</span> <span class="o">=</span> <span class="n">SSL_CTX_set_cipher_list</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">cipher_list</span><span class="p">);</span>
</pre></div>
</div>
<p>This means that any format that is used by this module must be able to be
converted to an OpenSSL cipher string for use with OpenSSL.</p>
</section>
<section id="securetransport">
<h5><a class="toc-backref" href="#id50">SecureTransport</a><a class="headerlink" href="#securetransport" title="Permalink to this headline">¶</a></h5>
<p>SecureTransport is the macOS system TLS library. This library is substantially
more restricted than OpenSSL in many ways, as it has a much more restricted
class of users. One of these substantial restrictions is in controlling
supported cipher suites.</p>
<p>Ciphers in SecureTransport are represented by a C <code class="docutils literal notranslate"><span class="pre">enum</span></code>. This enum has one
entry per cipher suite, with no aggregate entries, meaning that it is not
possible to reproduce the meaning of an OpenSSL cipher string like
“ECDH+AESGCM” without hand-coding which categories each enum member falls into.</p>
<p>However, the names of most of the enum members are in line with the formal
names of the cipher suites: that is, the cipher suite that OpenSSL calls
“ECDHE-ECDSA-AES256-GCM-SHA384” is called
“TLS_ECDHE_ECDHSA_WITH_AES_256_GCM_SHA384” in SecureTransport.</p>
<p>The API for configuring cipher suites inside SecureTransport is simple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SSLCipherSuite</span> <span class="n">ciphers</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="n">TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</span><span class="p">,</span> <span class="o">...</span><span class="p">};</span>
<span class="n">OSStatus</span> <span class="n">status</span> <span class="o">=</span> <span class="n">SSLSetEnabledCiphers</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">ciphers</span><span class="p">,</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">ciphers</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="schannel">
<h5><a class="toc-backref" href="#id51">SChannel</a><a class="headerlink" href="#schannel" title="Permalink to this headline">¶</a></h5>
<p>SChannel is the Windows system TLS library.</p>
<p>SChannel has extremely restrictive support for controlling available TLS
cipher suites, and additionally adopts a third method of expressing what TLS
cipher suites are supported.</p>
<p>Specifically, SChannel defines a set of <code class="docutils literal notranslate"><span class="pre">ALG_ID</span></code> constants (C unsigned ints).
Each of these constants does not refer to an entire cipher suite, but instead
an individual algorithm. Some examples are <code class="docutils literal notranslate"><span class="pre">CALG_3DES</span></code> and <code class="docutils literal notranslate"><span class="pre">CALG_AES_256</span></code>,
which refer to the bulk encryption algorithm used in a cipher suite,
<code class="docutils literal notranslate"><span class="pre">CALG_DH_EPHEM</span></code> and <code class="docutils literal notranslate"><span class="pre">CALG_RSA_KEYX</span></code> which refer to part of the key exchange
algorithm used in a cipher suite, <code class="docutils literal notranslate"><span class="pre">CALG_SHA1</span></code> and <code class="docutils literal notranslate"><span class="pre">CALG_MD5</span></code> which refer to
the message authentication code used in a cipher suite, and <code class="docutils literal notranslate"><span class="pre">CALG_ECDSA</span></code> and
<code class="docutils literal notranslate"><span class="pre">CALG_RSA_SIGN</span></code> which refer to the signing portions of the key exchange
algorithm.</p>
<p>This can be thought of as the half of OpenSSL’s functionality that
SecureTransport doesn’t have: SecureTransport only allows specifying exact
cipher suites, while SChannel only allows specifying <em>parts</em> of the cipher
suite, while OpenSSL allows both.</p>
<p>Determining which cipher suites are allowed on a given connection is done by
providing a pointer to an array of these <code class="docutils literal notranslate"><span class="pre">ALG_ID</span></code> constants. This means that
any suitable API must allow the Python code to determine which <code class="docutils literal notranslate"><span class="pre">ALG_ID</span></code>
constants must be provided.</p>
</section>
<section id="network-security-services-nss">
<h5><a class="toc-backref" href="#id52">Network Security Services (NSS)</a><a class="headerlink" href="#network-security-services-nss" title="Permalink to this headline">¶</a></h5>
<p>NSS is Mozilla’s crypto and TLS library. It’s used in Firefox, Thunderbird,
and as alternative to OpenSSL in multiple libraries, e.g. curl.</p>
<p>By default, NSS comes with secure configuration of allowed ciphers. On some
platforms such as Fedora, the list of enabled ciphers is globally configured
in a system policy. Generally, applications should not modify cipher suites
unless they have specific reasons to do so.</p>
<p>NSS has both process global and per-connection settings for cipher suites. It
does not have a concept of SSLContext like OpenSSL. A SSLContext-like behavior
can be easily emulated. Specifically, ciphers can be enabled or disabled
globally with <code class="docutils literal notranslate"><span class="pre">`SSL_CipherPrefSetDefault(PRInt32</span> <span class="pre">cipher,</span> <span class="pre">PRBool</span> <span class="pre">enabled)`</span></code>,
and <code class="docutils literal notranslate"><span class="pre">`SSL_CipherPrefSet(PRFileDesc</span> <span class="pre">*fd,</span> <span class="pre">PRInt32</span> <span class="pre">cipher,</span> <span class="pre">PRBool</span> <span class="pre">enabled)`</span></code>
for a connection. The cipher <code class="docutils literal notranslate"><span class="pre">`PRInt32`</span></code> number is a signed 32bit integer
that directly corresponds to an registered IANA id, e.g. <code class="docutils literal notranslate"><span class="pre">`0x1301`</span></code>
is <code class="docutils literal notranslate"><span class="pre">`TLS_AES_128_GCM_SHA256`</span></code>. Contrary to OpenSSL, the preference order
of ciphers is fixed and cannot be modified at runtime.</p>
<p>Like SecureTransport, NSS has no API for aggregated entries. Some consumers
of NSS have implemented custom mappings from OpenSSL cipher names and rules
to NSS ciphers, e.g. <code class="docutils literal notranslate"><span class="pre">`mod_nss`</span></code>.</p>
</section>
<section id="proposed-interface">
<h5><a class="toc-backref" href="#id53">Proposed Interface</a><a class="headerlink" href="#proposed-interface" title="Permalink to this headline">¶</a></h5>
<p>The proposed interface for the new module is influenced by the combined set of
limitations of the above implementations. Specifically, as every implementation
<em>except</em> OpenSSL requires that each individual cipher be provided, there is no
option but to provide that lowest-common denominator approach.</p>
<p>The simplest approach is to provide an enumerated type that includes a large
subset of the cipher suites defined for TLS. The values of the enum members
will be their two-octet cipher identifier as used in the TLS handshake,
stored as a 16 bit integer. The names of the enum members will be their
IANA-registered cipher suite names.</p>
<p>As of now, the <a class="reference external" href="https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-4">IANA cipher suite registry</a> <a class="footnote-reference brackets" href="#id29" id="id30">11</a> contains over 320 cipher suites.
A large portion of the cipher suites are irrelevant for TLS connections to
network services. Other suites specify deprecated and insecure algorithms
that are no longer provided by recent versions of implementations. The enum
does not contain ciphers with:</p>
<ul class="simple">
<li><p>key exchange: NULL, Kerberos (KRB5), pre-shared key (PSK), secure remote
transport (TLS-SRP)</p></li>
<li><p>authentication: NULL, anonymous, export grade, Kerberos (KRB5),
pre-shared key (PSK), secure remote transport (TLS-SRP), DSA cert (DSS)</p></li>
<li><p>encryption: NULL, ARIA, DES, RC2, export grade 40bit</p></li>
<li><p>PRF: MD5</p></li>
<li><p>SCSV cipher suites</p></li>
</ul>
<p>3DES, RC4, SEED, and IDEA are included for legacy applications. Further more
five additional cipher suites from the TLS 1.3 draft (draft-ietf-tls-tls13-18)
are included, too. TLS 1.3 does not share any cipher suites with TLS 1.2 and
earlier. The resulting enum will contain roughly 110 suites.</p>
<p>Because of these limitations, and because the enum doesn’t contain every
defined cipher, and also to allow for forward-looking applications, all parts
of this API that accept <code class="docutils literal notranslate"><span class="pre">CipherSuite</span></code> objects will also accept raw 16-bit
integers directly.</p>
<p>Rather than populate this enum by hand, we have a <a class="reference external" href="https://github.com/tiran/tlsdb/blob/master/tlspep_ciphersuite.py">TLS enum script</a> <a class="footnote-reference brackets" href="#id25" id="id26">9</a> that
builds it from Christian Heimes’ <a class="reference external" href="https://github.com/tiran/tlsdb/blob/master/tlsdb.json">tlsdb JSON file</a> <a class="footnote-reference brackets" href="#id27" id="id28">10</a> (warning:
large file) and <a class="reference external" href="https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-4">IANA cipher suite registry</a> <a class="footnote-reference brackets" href="#id29" id="id31">11</a>. The TLSDB also opens up the
possibility of extending the API with additional querying function,
such as determining which TLS versions support which ciphers, if that
functionality is found to be useful or necessary.</p>
<p>If users find this approach to be onerous, a future extension to this API can
provide helpers that can reintroduce OpenSSL’s aggregation functionality.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CipherSuite</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
    <span class="n">TLS_RSA_WITH_RC4_128_SHA</span> <span class="o">=</span> <span class="mh">0x0005</span>
    <span class="n">TLS_RSA_WITH_IDEA_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0007</span>
    <span class="n">TLS_RSA_WITH_3DES_EDE_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x000a</span>
    <span class="n">TLS_DH_RSA_WITH_3DES_EDE_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0010</span>
    <span class="n">TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0016</span>
    <span class="n">TLS_RSA_WITH_AES_128_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x002f</span>
    <span class="n">TLS_DH_RSA_WITH_AES_128_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0031</span>
    <span class="n">TLS_DHE_RSA_WITH_AES_128_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0033</span>
    <span class="n">TLS_RSA_WITH_AES_256_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0035</span>
    <span class="n">TLS_DH_RSA_WITH_AES_256_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0037</span>
    <span class="n">TLS_DHE_RSA_WITH_AES_256_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0039</span>
    <span class="n">TLS_RSA_WITH_AES_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x003c</span>
    <span class="n">TLS_RSA_WITH_AES_256_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x003d</span>
    <span class="n">TLS_DH_RSA_WITH_AES_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x003f</span>
    <span class="n">TLS_RSA_WITH_CAMELLIA_128_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0041</span>
    <span class="n">TLS_DH_RSA_WITH_CAMELLIA_128_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0043</span>
    <span class="n">TLS_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0045</span>
    <span class="n">TLS_DHE_RSA_WITH_AES_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x0067</span>
    <span class="n">TLS_DH_RSA_WITH_AES_256_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x0069</span>
    <span class="n">TLS_DHE_RSA_WITH_AES_256_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x006b</span>
    <span class="n">TLS_RSA_WITH_CAMELLIA_256_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0084</span>
    <span class="n">TLS_DH_RSA_WITH_CAMELLIA_256_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0086</span>
    <span class="n">TLS_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0088</span>
    <span class="n">TLS_RSA_WITH_SEED_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0096</span>
    <span class="n">TLS_DH_RSA_WITH_SEED_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x0098</span>
    <span class="n">TLS_DHE_RSA_WITH_SEED_CBC_SHA</span> <span class="o">=</span> <span class="mh">0x009a</span>
    <span class="n">TLS_RSA_WITH_AES_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0x009c</span>
    <span class="n">TLS_RSA_WITH_AES_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0x009d</span>
    <span class="n">TLS_DHE_RSA_WITH_AES_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0x009e</span>
    <span class="n">TLS_DHE_RSA_WITH_AES_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0x009f</span>
    <span class="n">TLS_DH_RSA_WITH_AES_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0x00a0</span>
    <span class="n">TLS_DH_RSA_WITH_AES_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0x00a1</span>
    <span class="n">TLS_RSA_WITH_CAMELLIA_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x00ba</span>
    <span class="n">TLS_DH_RSA_WITH_CAMELLIA_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x00bc</span>
    <span class="n">TLS_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x00be</span>
    <span class="n">TLS_RSA_WITH_CAMELLIA_256_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x00c0</span>
    <span class="n">TLS_DH_RSA_WITH_CAMELLIA_256_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x00c2</span>
    <span class="n">TLS_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0x00c4</span>
    <span class="n">TLS_AES_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0x1301</span>
    <span class="n">TLS_AES_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0x1302</span>
    <span class="n">TLS_CHACHA20_POLY1305_SHA256</span> <span class="o">=</span> <span class="mh">0x1303</span>
    <span class="n">TLS_AES_128_CCM_SHA256</span> <span class="o">=</span> <span class="mh">0x1304</span>
    <span class="n">TLS_AES_128_CCM_8_SHA256</span> <span class="o">=</span> <span class="mh">0x1305</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_RC4_128_SHA</span> <span class="o">=</span> <span class="mh">0xc002</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc003</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc004</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc005</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_RC4_128_SHA</span> <span class="o">=</span> <span class="mh">0xc007</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc008</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc009</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc00a</span>
    <span class="n">TLS_ECDH_RSA_WITH_RC4_128_SHA</span> <span class="o">=</span> <span class="mh">0xc00c</span>
    <span class="n">TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc00d</span>
    <span class="n">TLS_ECDH_RSA_WITH_AES_128_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc00e</span>
    <span class="n">TLS_ECDH_RSA_WITH_AES_256_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc00f</span>
    <span class="n">TLS_ECDHE_RSA_WITH_RC4_128_SHA</span> <span class="o">=</span> <span class="mh">0xc011</span>
    <span class="n">TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc012</span>
    <span class="n">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc013</span>
    <span class="n">TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA</span> <span class="o">=</span> <span class="mh">0xc014</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0xc023</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384</span> <span class="o">=</span> <span class="mh">0xc024</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0xc025</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384</span> <span class="o">=</span> <span class="mh">0xc026</span>
    <span class="n">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0xc027</span>
    <span class="n">TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384</span> <span class="o">=</span> <span class="mh">0xc028</span>
    <span class="n">TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0xc029</span>
    <span class="n">TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384</span> <span class="o">=</span> <span class="mh">0xc02a</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0xc02b</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0xc02c</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0xc02d</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0xc02e</span>
    <span class="n">TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0xc02f</span>
    <span class="n">TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0xc030</span>
    <span class="n">TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0xc031</span>
    <span class="n">TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0xc032</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_CAMELLIA_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0xc072</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_CAMELLIA_256_CBC_SHA384</span> <span class="o">=</span> <span class="mh">0xc073</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_CAMELLIA_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0xc074</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_CAMELLIA_256_CBC_SHA384</span> <span class="o">=</span> <span class="mh">0xc075</span>
    <span class="n">TLS_ECDHE_RSA_WITH_CAMELLIA_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0xc076</span>
    <span class="n">TLS_ECDHE_RSA_WITH_CAMELLIA_256_CBC_SHA384</span> <span class="o">=</span> <span class="mh">0xc077</span>
    <span class="n">TLS_ECDH_RSA_WITH_CAMELLIA_128_CBC_SHA256</span> <span class="o">=</span> <span class="mh">0xc078</span>
    <span class="n">TLS_ECDH_RSA_WITH_CAMELLIA_256_CBC_SHA384</span> <span class="o">=</span> <span class="mh">0xc079</span>
    <span class="n">TLS_RSA_WITH_CAMELLIA_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0xc07a</span>
    <span class="n">TLS_RSA_WITH_CAMELLIA_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0xc07b</span>
    <span class="n">TLS_DHE_RSA_WITH_CAMELLIA_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0xc07c</span>
    <span class="n">TLS_DHE_RSA_WITH_CAMELLIA_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0xc07d</span>
    <span class="n">TLS_DH_RSA_WITH_CAMELLIA_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0xc07e</span>
    <span class="n">TLS_DH_RSA_WITH_CAMELLIA_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0xc07f</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_CAMELLIA_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0xc086</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_CAMELLIA_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0xc087</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_CAMELLIA_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0xc088</span>
    <span class="n">TLS_ECDH_ECDSA_WITH_CAMELLIA_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0xc089</span>
    <span class="n">TLS_ECDHE_RSA_WITH_CAMELLIA_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0xc08a</span>
    <span class="n">TLS_ECDHE_RSA_WITH_CAMELLIA_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0xc08b</span>
    <span class="n">TLS_ECDH_RSA_WITH_CAMELLIA_128_GCM_SHA256</span> <span class="o">=</span> <span class="mh">0xc08c</span>
    <span class="n">TLS_ECDH_RSA_WITH_CAMELLIA_256_GCM_SHA384</span> <span class="o">=</span> <span class="mh">0xc08d</span>
    <span class="n">TLS_RSA_WITH_AES_128_CCM</span> <span class="o">=</span> <span class="mh">0xc09c</span>
    <span class="n">TLS_RSA_WITH_AES_256_CCM</span> <span class="o">=</span> <span class="mh">0xc09d</span>
    <span class="n">TLS_DHE_RSA_WITH_AES_128_CCM</span> <span class="o">=</span> <span class="mh">0xc09e</span>
    <span class="n">TLS_DHE_RSA_WITH_AES_256_CCM</span> <span class="o">=</span> <span class="mh">0xc09f</span>
    <span class="n">TLS_RSA_WITH_AES_128_CCM_8</span> <span class="o">=</span> <span class="mh">0xc0a0</span>
    <span class="n">TLS_RSA_WITH_AES_256_CCM_8</span> <span class="o">=</span> <span class="mh">0xc0a1</span>
    <span class="n">TLS_DHE_RSA_WITH_AES_128_CCM_8</span> <span class="o">=</span> <span class="mh">0xc0a2</span>
    <span class="n">TLS_DHE_RSA_WITH_AES_256_CCM_8</span> <span class="o">=</span> <span class="mh">0xc0a3</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_AES_128_CCM</span> <span class="o">=</span> <span class="mh">0xc0ac</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_AES_256_CCM</span> <span class="o">=</span> <span class="mh">0xc0ad</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_AES_128_CCM_8</span> <span class="o">=</span> <span class="mh">0xc0ae</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_AES_256_CCM_8</span> <span class="o">=</span> <span class="mh">0xc0af</span>
    <span class="n">TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256</span> <span class="o">=</span> <span class="mh">0xcca8</span>
    <span class="n">TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256</span> <span class="o">=</span> <span class="mh">0xcca9</span>
    <span class="n">TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256</span> <span class="o">=</span> <span class="mh">0xccaa</span>
</pre></div>
</div>
<p>Enum members can be mapped to OpenSSL cipher names:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ssl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLContext</span><span class="p">(</span><span class="n">ssl</span><span class="o">.</span><span class="n">PROTOCOL_TLS</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">set_ciphers</span><span class="p">(</span><span class="s1">&#39;ALL:COMPLEMENTOFALL&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ciphers</span> <span class="o">=</span> <span class="p">{</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">:</span> <span class="n">c</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">ctx</span><span class="o">.</span><span class="n">get_ciphers</span><span class="p">()}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ciphers</span><span class="p">[</span><span class="n">CipherSuite</span><span class="o">.</span><span class="n">TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</span><span class="p">]</span>
<span class="go">&#39;ECDHE-RSA-AES128-GCM-SHA256&#39;</span>
</pre></div>
</div>
<p>For SecureTransport, these enum members directly refer to the values of the
cipher suite constants. For example, SecureTransport defines the cipher suite
enum member <code class="docutils literal notranslate"><span class="pre">TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</span></code> as having the value
<code class="docutils literal notranslate"><span class="pre">0xC02C</span></code>. Not coincidentally, that is identical to its value in the above
enum. This makes mapping between SecureTransport and the above enum very easy
indeed.</p>
<p>For SChannel there is no easy direct mapping, due to the fact that SChannel
configures ciphers, instead of cipher suites. This represents an ongoing
concern with SChannel, which is that it is very difficult to configure in a
specific manner compared to other TLS implementations.</p>
<p>For the purposes of this PEP, any SChannel implementation will need to
determine which ciphers to choose based on the enum members. This may be more
open than the actual cipher suite list actually wants to allow, or it may be
more restrictive, depending on the choices of the implementation. This PEP
recommends that it be more restrictive, but of course this cannot be enforced.</p>
</section>
</section>
<section id="protocol-negotiation">
<h4><a class="toc-backref" href="#id54">Protocol Negotiation</a><a class="headerlink" href="#protocol-negotiation" title="Permalink to this headline">¶</a></h4>
<p>Both NPN and ALPN allow for protocol negotiation as part of the HTTP/2
handshake. While NPN and ALPN are, at their fundamental level, built on top of
bytestrings, string-based APIs are frequently problematic as they allow for
errors in typing that can be hard to detect.</p>
<p>For this reason, this module would define a type that protocol negotiation
implementations can pass and be passed. This type would wrap a bytestring to
allow for aliases for well-known protocols. This allows us to avoid the
problems inherent in typos for well-known protocols, while allowing the full
extensibility of the protocol negotiation layer if needed by letting users pass
byte strings directly.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NextProtocol</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">H2</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;h2&#39;</span>
    <span class="n">H2C</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;h2c&#39;</span>
    <span class="n">HTTP1</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;http/1.1&#39;</span>
    <span class="n">WEBRTC</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;webrtc&#39;</span>
    <span class="n">C_WEBRTC</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;c-webrtc&#39;</span>
    <span class="n">FTP</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;ftp&#39;</span>
    <span class="n">STUN</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;stun.nat-discovery&#39;</span>
    <span class="n">TURN</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;stun.turn&#39;</span>
</pre></div>
</div>
</section>
<section id="tls-versions">
<h4><a class="toc-backref" href="#id55">TLS Versions</a><a class="headerlink" href="#tls-versions" title="Permalink to this headline">¶</a></h4>
<p>It is often useful to be able to restrict the versions of TLS you’re willing to
support. There are many security advantages in refusing to use old versions of
TLS, and some misbehaving servers will mishandle TLS clients advertising
support for newer versions.</p>
<p>The following enumerated type can be used to gate TLS versions. Forward-looking
applications should almost never set a maximum TLS version unless they
absolutely must, as a TLS backend that is newer than the Python that uses it
may support TLS versions that are not in this enumerated type.</p>
<p>Additionally, this enumerated type defines two additional flags that can always
be used to request either the lowest or highest TLS version supported by an
implementation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TLSVersion</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">MINIMUM_SUPPORTED</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">SSLv2</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">SSLv3</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">TLSv1</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">TLSv1_1</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">TLSv1_2</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">TLSv1_3</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">MAXIMUM_SUPPORTED</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="errors">
<h4><a class="toc-backref" href="#id56">Errors</a><a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h4>
<p>This module would define four base classes for use with error handling. Unlike
many of the other classes defined here, these classes are not abstract, as
they have no behaviour. They exist simply to signal certain common behaviours.
Backends should subclass these exceptions in their own packages, but needn’t
define any behaviour for them.</p>
<p>In general, concrete implementations should subclass these exceptions rather
than throw them directly. This makes it moderately easier to determine which
concrete TLS implementation is in use during debugging of unexpected errors.
However, this is not mandatory.</p>
<p>The definitions of the errors are below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TLSError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The base exception for all TLS related errors from any backend.</span>
<span class="sd">    Catching this error should be sufficient to catch *all* TLS errors,</span>
<span class="sd">    regardless of what backend is used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">WantWriteError</span><span class="p">(</span><span class="n">TLSError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A special signaling exception used only when non-blocking or</span>
<span class="sd">    buffer-only I/O is used. This error signals that the requested</span>
<span class="sd">    operation cannot complete until more data is written to the network,</span>
<span class="sd">    or until the output buffer is drained.</span>

<span class="sd">    This error is should only be raised when it is completely impossible</span>
<span class="sd">    to write any data. If a partial write is achievable then this should</span>
<span class="sd">    not be raised.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">WantReadError</span><span class="p">(</span><span class="n">TLSError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A special signaling exception used only when non-blocking or</span>
<span class="sd">    buffer-only I/O is used. This error signals that the requested</span>
<span class="sd">    operation cannot complete until more data is read from the network, or</span>
<span class="sd">    until more data is available in the input buffer.</span>

<span class="sd">    This error should only be raised when it is completely impossible to</span>
<span class="sd">    write any data. If a partial write is achievable then this should not</span>
<span class="sd">    be raised.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">RaggedEOF</span><span class="p">(</span><span class="n">TLSError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A special signaling exception used when a TLS connection has been</span>
<span class="sd">    closed gracelessly: that is, when a TLS CloseNotify was not received</span>
<span class="sd">    from the peer before the underlying TCP socket reached EOF. This is a</span>
<span class="sd">    so-called &quot;ragged EOF&quot;.</span>

<span class="sd">    This exception is not guaranteed to be raised in the face of a ragged</span>
<span class="sd">    EOF: some implementations may not be able to detect or report the</span>
<span class="sd">    ragged EOF.</span>

<span class="sd">    This exception is not always a problem. Ragged EOFs are a concern only</span>
<span class="sd">    when protocols are vulnerable to length truncation attacks. Any</span>
<span class="sd">    protocol that can detect length truncation attacks at the application</span>
<span class="sd">    layer (e.g. HTTP/1.1 and HTTP/2) is not vulnerable to this kind of</span>
<span class="sd">    attack and so can ignore this exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="certificates">
<h4><a class="toc-backref" href="#id57">Certificates</a><a class="headerlink" href="#certificates" title="Permalink to this headline">¶</a></h4>
<p>This module would define an abstract X509 certificate class. This class would
have almost no behaviour, as the goal of this module is not to provide all
possible relevant cryptographic functionality that could be provided by X509
certificates. Instead, all we need is the ability to signal the source of a
certificate to a concrete implementation.</p>
<p>For that reason, this certificate implementation defines only constructors. In
essence, the certificate object in this module could be as abstract as a handle
that can be used to locate a specific certificate.</p>
<p>Concrete implementations may choose to provide alternative constructors, e.g.
to load certificates from HSMs. If a common interface emerges for doing this,
this module may be updated to provide a standard constructor for this use-case
as well.</p>
<p>Concrete implementations should aim to have Certificate objects be hashable if
at all possible. This will help ensure that TLSConfiguration objects used with
an individual concrete implementation are also hashable.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Certificate</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
    <span class="nd">@abstractclassmethod</span>
    <span class="k">def</span> <span class="nf">from_buffer</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a Certificate object from a byte buffer. This byte buffer</span>
<span class="sd">        may be either PEM-encoded or DER-encoded. If the buffer is PEM</span>
<span class="sd">        encoded it *must* begin with the standard PEM preamble (a series of</span>
<span class="sd">        dashes followed by the ASCII bytes &quot;BEGIN CERTIFICATE&quot; and another</span>
<span class="sd">        series of dashes). In the absence of that preamble, the</span>
<span class="sd">        implementation may assume that the certificate is DER-encoded</span>
<span class="sd">        instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractclassmethod</span>
    <span class="k">def</span> <span class="nf">from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">AnyStr</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a Certificate object from a file on disk. This method may</span>
<span class="sd">        be a convenience method that wraps ``open`` and ``from_buffer``,</span>
<span class="sd">        but some TLS implementations may be able to provide more-secure or</span>
<span class="sd">        faster methods of loading certificates that do not involve Python</span>
<span class="sd">        code.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="private-keys">
<h4><a class="toc-backref" href="#id58">Private Keys</a><a class="headerlink" href="#private-keys" title="Permalink to this headline">¶</a></h4>
<p>This module would define an abstract private key class. Much like the
Certificate class, this class has almost no behaviour in order to give as much
freedom as possible to the concrete implementations to treat keys carefully.</p>
<p>This class has all the caveats of the <code class="docutils literal notranslate"><span class="pre">Certificate</span></code> class.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PrivateKey</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
    <span class="nd">@abstractclassmethod</span>
    <span class="k">def</span> <span class="nf">from_buffer</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
                    <span class="n">buffer</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span>
                    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[],</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">]],</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a PrivateKey object from a byte buffer. This byte buffer</span>
<span class="sd">        may be either PEM-encoded or DER-encoded. If the buffer is PEM</span>
<span class="sd">        encoded it *must* begin with the standard PEM preamble (a series of</span>
<span class="sd">        dashes followed by the ASCII bytes &quot;BEGIN&quot;, the key type, and</span>
<span class="sd">        another series of dashes). In the absence of that preamble, the</span>
<span class="sd">        implementation may assume that the certificate is DER-encoded</span>
<span class="sd">        instead.</span>

<span class="sd">        The key may additionally be encrypted. If it is, the ``password``</span>
<span class="sd">        argument can be used to decrypt the key. The ``password`` argument</span>
<span class="sd">        may be a function to call to get the password for decrypting the</span>
<span class="sd">        private key. It will only be called if the private key is encrypted</span>
<span class="sd">        and a password is necessary. It will be called with no arguments,</span>
<span class="sd">        and it should return either bytes or bytearray containing the</span>
<span class="sd">        password. Alternatively a bytes, or bytearray value may be supplied</span>
<span class="sd">        directly as the password argument. It will be ignored if the</span>
<span class="sd">        private key is not encrypted and no password is needed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractclassmethod</span>
    <span class="k">def</span> <span class="nf">from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
                  <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
                  <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[],</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">]],</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a PrivateKey object from a file on disk. This method may</span>
<span class="sd">        be a convenience method that wraps ``open`` and ``from_buffer``,</span>
<span class="sd">        but some TLS implementations may be able to provide more-secure or</span>
<span class="sd">        faster methods of loading certificates that do not involve Python</span>
<span class="sd">        code.</span>

<span class="sd">        The ``password`` parameter behaves exactly as the equivalent</span>
<span class="sd">        parameter on ``from_buffer``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="trust-store">
<h4><a class="toc-backref" href="#id59">Trust Store</a><a class="headerlink" href="#trust-store" title="Permalink to this headline">¶</a></h4>
<p>As discussed above, loading a trust store represents an issue because different
TLS implementations vary wildly in how they allow users to select trust stores.
For this reason, we need to provide a model that assumes very little about the
form that trust stores take.</p>
<p>This problem is the same as the one that the Certificate and PrivateKey types
need to solve. For this reason, we use the exact same model, by creating an
opaque type that can encapsulate the various means that TLS backends may open
a trust store.</p>
<p>A given TLS implementation is not required to implement all of the
constructors. However, it is strongly recommended that a given TLS
implementation provide the <code class="docutils literal notranslate"><span class="pre">system</span></code> constructor if at all possible, as this
is the most common validation trust store that is used. Concrete
implementations may also add their own constructors.</p>
<p>Concrete implementations should aim to have TrustStore objects be hashable if
at all possible. This will help ensure that TLSConfiguration objects used with
an individual concrete implementation are also hashable.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TrustStore</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
    <span class="nd">@abstractclassmethod</span>
    <span class="k">def</span> <span class="nf">system</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TrustStore</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a TrustStore object that represents the system trust</span>
<span class="sd">        database.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractclassmethod</span>
    <span class="k">def</span> <span class="nf">from_pem_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TrustStore</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes a trust store from a single file full of PEMs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="runtime-access">
<h4><a class="toc-backref" href="#id60">Runtime Access</a><a class="headerlink" href="#runtime-access" title="Permalink to this headline">¶</a></h4>
<p>A not-uncommon use case for library users is to want to allow the library to
control the TLS configuration, but to want to select what backend is in use.
For example, users of Requests may want to be able to select between OpenSSL or
a platform-native solution on Windows and macOS, or between OpenSSL and NSS on
some Linux platforms. These users, however, may not care about exactly how
their TLS configuration is done.</p>
<p>This poses a problem: given an arbitrary concrete implementation, how can a
library work out how to load certificates into the trust store? There are two
options: either all concrete implementations can be required to fit into a
specific naming scheme, or we can provide an API that makes it possible to grab
these objects.</p>
<p>This PEP proposes that we use the second approach. This grants the greatest
freedom to concrete implementations to structure their code as they see fit,
requiring only that they provide a single object that has the appropriate
properties in place. Users can then pass this “backend” object to libraries
that support it, and those libraries can take care of configuring and using the
concrete implementation.</p>
<p>All concrete implementations must provide a method of obtaining a <code class="docutils literal notranslate"><span class="pre">Backend</span></code>
object. The <code class="docutils literal notranslate"><span class="pre">Backend</span></code> object can be a global singleton or can be created by a
callable if there is an advantage in doing that.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Backend</span></code> object has the following definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Backend</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span>
    <span class="s1">&#39;Backend&#39;</span><span class="p">,</span>
    <span class="p">[</span><span class="s1">&#39;client_context&#39;</span><span class="p">,</span> <span class="s1">&#39;server_context&#39;</span><span class="p">,</span>
     <span class="s1">&#39;certificate&#39;</span><span class="p">,</span> <span class="s1">&#39;private_key&#39;</span><span class="p">,</span> <span class="s1">&#39;trust_store&#39;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Each of the properties must provide the concrete implementation of the relevant
ABC. This ensures that code like this will work for any backend:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">trust_store</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">trust_store</span><span class="o">.</span><span class="n">system</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="changes-to-the-standard-library">
<h2><a class="toc-backref" href="#id61">Changes to the Standard Library</a><a class="headerlink" href="#changes-to-the-standard-library" title="Permalink to this headline">¶</a></h2>
<p>The portions of the standard library that interact with TLS should be revised
to use these ABCs. This will allow them to function with other TLS backends.
This includes the following modules:</p>
<ul class="simple">
<li><p>asyncio</p></li>
<li><p>ftplib</p></li>
<li><p>http</p></li>
<li><p>imaplib</p></li>
<li><p>nntplib</p></li>
<li><p>poplib</p></li>
<li><p>smtplib</p></li>
<li><p>urllib</p></li>
</ul>
<section id="migration-of-the-ssl-module">
<h3><a class="toc-backref" href="#id62">Migration of the ssl module</a><a class="headerlink" href="#migration-of-the-ssl-module" title="Permalink to this headline">¶</a></h3>
<p>Naturally, we will need to extend the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module itself to conform to these
ABCs. This extension will take the form of new classes, potentially in an
entirely new module. This will allow applications that take advantage of the
current <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module to continue to do so, while enabling the new APIs for
applications and libraries that want to use them.</p>
<p>In general, migrating from the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module to the new ABCs is not expected
to be one-to-one. This is normally acceptable: most tools that use the <code class="docutils literal notranslate"><span class="pre">ssl</span></code>
module hide it from the user, and so refactoring to use the new module should
be invisible.</p>
<p>However, a specific problem comes from libraries or applications that leak
exceptions from the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module, either as part of their defined API or by
accident (which is easily done). Users of those tools may have written code
that tolerates and handles exceptions from the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module being raised:
migrating to the ABCs presented here would potentially cause the exceptions
defined above to be thrown instead, and existing <code class="docutils literal notranslate"><span class="pre">except</span></code> blocks will not
catch them.</p>
<p>For this reason, part of the migration of the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module would require that
the exceptions in the <code class="docutils literal notranslate"><span class="pre">ssl</span></code> module alias those defined above. That is, they
would require the following statements to all succeed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLError</span> <span class="ow">is</span> <span class="n">tls</span><span class="o">.</span><span class="n">TLSError</span>
<span class="k">assert</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLWantReadError</span> <span class="ow">is</span> <span class="n">tls</span><span class="o">.</span><span class="n">WantReadError</span>
<span class="k">assert</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLWantWriteError</span> <span class="ow">is</span> <span class="n">tls</span><span class="o">.</span><span class="n">WantWriteError</span>
</pre></div>
</div>
<p>The exact mechanics of how this will be done are beyond the scope of this PEP,
as they are made more complex due to the fact that the current <code class="docutils literal notranslate"><span class="pre">ssl</span></code>
exceptions are defined in C code, but more details can be found in
<a class="reference external" href="https://mail.python.org/pipermail/security-sig/2017-January/000213.html">an email sent to the Security-SIG by Christian Heimes</a> <a class="footnote-reference brackets" href="#id32" id="id33">12</a>.</p>
</section>
</section>
<section id="future">
<h2><a class="toc-backref" href="#id63">Future</a><a class="headerlink" href="#future" title="Permalink to this headline">¶</a></h2>
<p>Major future TLS features may require revisions of these ABCs. These revisions
should be made cautiously: many backends may not be able to move forward
swiftly, and will be invalidated by changes in these ABCs. This is acceptable,
but wherever possible features that are specific to individual implementations
should not be added to the ABCs. The ABCs should restrict themselves to
high-level descriptions of IETF-specified features.</p>
<p>However, well-justified extensions to this API absolutely should be made. The
focus of this API is to provide a unifying lowest-common-denominator
configuration option for the Python community. TLS is not a static target, and
as TLS evolves so must this API.</p>
</section>
<section id="credits">
<h2><a class="toc-backref" href="#id64">Credits</a><a class="headerlink" href="#credits" title="Permalink to this headline">¶</a></h2>
<p>This document has received extensive review from a number of individuals in the
community who have substantially helped shape it. Detailed review was provided
by:</p>
<ul class="simple">
<li><p>Alex Chan</p></li>
<li><p>Alex Gaynor</p></li>
<li><p>Antoine Pitrou</p></li>
<li><p>Ashwini Oruganti</p></li>
<li><p>Donald Stufft</p></li>
<li><p>Ethan Furman</p></li>
<li><p>Glyph</p></li>
<li><p>Hynek Schlawack</p></li>
<li><p>Jim J Jewett</p></li>
<li><p>Nathaniel J. Smith</p></li>
<li><p>Nick Coghlan</p></li>
<li><p>Paul Kehrer</p></li>
<li><p>Steve Dower</p></li>
<li><p>Steven Fackler</p></li>
<li><p>Wes Turner</p></li>
<li><p>Will Bond</p></li>
</ul>
<p>Further review was provided by the Security-SIG and python-ideas mailing lists.</p>
</section>
<section id="id1">
<h2><a class="toc-backref" href="#id65">References</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/ssl.html">https://docs.python.org/3/library/ssl.html</a></p>
</dd>
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id5">2</a></span></dt>
<dd><p><a class="reference external" href="https://www.openssl.org/">https://www.openssl.org/</a></p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id7">3</a></span></dt>
<dd><p><a class="reference external" href="https://pypi.org/project/pyOpenSSL/">https://pypi.org/project/pyOpenSSL/</a></p>
</dd>
<dt class="label" id="id8"><span class="brackets">4</span><span class="fn-backref">(<a href="#id9">1</a>,<a href="#id10">2</a>,<a href="#id11">3</a>,<a href="#id12">4</a>)</span></dt>
<dd><p><a class="reference external" href="https://pypi.org/project/certifi/">https://pypi.org/project/certifi/</a></p>
</dd>
<dt class="label" id="id13"><span class="brackets">5</span><span class="fn-backref">(<a href="#id14">1</a>,<a href="#id15">2</a>,<a href="#id16">3</a>,<a href="#id17">4</a>,<a href="#id18">5</a>)</span></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext">https://docs.python.org/3/library/ssl.html#ssl.SSLContext</a></p>
</dd>
<dt class="label" id="id19"><span class="brackets"><a class="fn-backref" href="#id20">6</a></span></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLSocket">https://docs.python.org/3/library/ssl.html#ssl.SSLSocket</a></p>
</dd>
<dt class="label" id="id21"><span class="brackets"><a class="fn-backref" href="#id22">7</a></span></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLObject">https://docs.python.org/3/library/ssl.html#ssl.SSLObject</a></p>
</dd>
<dt class="label" id="id23"><span class="brackets"><a class="fn-backref" href="#id24">8</a></span></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLError">https://docs.python.org/3/library/ssl.html#ssl.SSLError</a></p>
</dd>
<dt class="label" id="id25"><span class="brackets"><a class="fn-backref" href="#id26">9</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/tiran/tlsdb/blob/master/tlspep_ciphersuite.py">https://github.com/tiran/tlsdb/blob/master/tlspep_ciphersuite.py</a></p>
</dd>
<dt class="label" id="id27"><span class="brackets"><a class="fn-backref" href="#id28">10</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/tiran/tlsdb/blob/master/tlsdb.json">https://github.com/tiran/tlsdb/blob/master/tlsdb.json</a></p>
</dd>
<dt class="label" id="id29"><span class="brackets">11</span><span class="fn-backref">(<a href="#id30">1</a>,<a href="#id31">2</a>)</span></dt>
<dd><p><a class="reference external" href="https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-4">https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-4</a></p>
</dd>
<dt class="label" id="id32"><span class="brackets"><a class="fn-backref" href="#id33">12</a></span></dt>
<dd><p><a class="reference external" href="https://mail.python.org/pipermail/security-sig/2017-January/000213.html">https://mail.python.org/pipermail/security-sig/2017-January/000213.html</a></p>
</dd>
<dt class="label" id="id34"><span class="brackets"><a class="fn-backref" href="#id35">13</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/awslabs/s2n">https://github.com/awslabs/s2n</a></p>
</dd>
<dt class="label" id="id36"><span class="brackets"><a class="fn-backref" href="#id37">14</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/awslabs/s2n/issues/358">https://github.com/awslabs/s2n/issues/358</a></p>
</dd>
</dl>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#id66">Copyright</a><a class="headerlink" href="#copyright" title="Permalink to this headline">¶</a></h2>
<p>This document has been placed in the public domain.</p>
</section>
</section>
<span>Source: <a class="reference external" href="https://github.com/python/peps/blob/master/pep-0543.rst">https://github.com/python/peps/blob/master/pep-0543.rst</a></span><div class="zero-height line"><br /></div>
<span>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/master/pep-0543.rst">2021-06-28T11:16:08Z</a></span>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../contents/">PEPs</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">PEP Table of Contents (needed for Sphinx):</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pep-0000/">PEP 0 – Index of Python Enhancement Proposals (PEPs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0001/">PEP 1 – PEP Purpose and Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0002/">PEP 2 – Procedure for Adding New Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0003/">PEP 3 – Guidelines for Handling Bug Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0004/">PEP 4 – Deprecation of Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0005/">PEP 5 – Guidelines for Language Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0006/">PEP 6 – Bug Fix Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0007/">PEP 7 – Style Guide for C Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0008/">PEP 8 – Style Guide for Python Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0009/">PEP 9 – Sample Plaintext PEP Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0010/">PEP 10 – Voting Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0011/">PEP 11 – Removing support for little used platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0012/">PEP 12 – Sample reStructuredText PEP Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0013/">PEP 13 – Python Language Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0020/">PEP 20 – The Zen of Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0042/">PEP 42 – Feature Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0100/">PEP 100 – Python Unicode Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0101/">PEP 101 – Doing Python Releases 101</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0102/">PEP 102 – Doing Python Micro Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0103/">PEP 103 – Collecting information about git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0160/">PEP 160 – Python 1.6 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0200/">PEP 200 – Python 2.0 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0201/">PEP 201 – Lockstep Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0202/">PEP 202 – List Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0203/">PEP 203 – Augmented Assignments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0204/">PEP 204 – Range Literals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0205/">PEP 205 – Weak References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0206/">PEP 206 – Python Advanced Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0207/">PEP 207 – Rich Comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0208/">PEP 208 – Reworking the Coercion Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0209/">PEP 209 – Multi-dimensional Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0210/">PEP 210 – Decoupling the Interpreter Loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0211/">PEP 211 – Adding A New Outer Product Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0212/">PEP 212 – Loop Counter Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0213/">PEP 213 – Attribute Access Handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0214/">PEP 214 – Extended Print Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0215/">PEP 215 – String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0216/">PEP 216 – Docstring Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0217/">PEP 217 – Display Hook for Interactive Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0218/">PEP 218 – Adding a Built-In Set Object Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0219/">PEP 219 – Stackless Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0220/">PEP 220 – Coroutines, Generators, Continuations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0221/">PEP 221 – Import As</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0222/">PEP 222 – Web Library Enhancements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0223/">PEP 223 – Change the Meaning of ``\x`` Escapes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0224/">PEP 224 – Attribute Docstrings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0225/">PEP 225 – Elementwise/Objectwise Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0226/">PEP 226 – Python 2.1 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0227/">PEP 227 – Statically Nested Scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0228/">PEP 228 – Reworking Python’s Numeric Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0229/">PEP 229 – Using Distutils to Build Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0230/">PEP 230 – Warning Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0231/">PEP 231 – __findattr__()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0232/">PEP 232 – Function Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0233/">PEP 233 – Python Online Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0234/">PEP 234 – Iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0235/">PEP 235 – Import on Case-Insensitive Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0236/">PEP 236 – Back to the __future__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0237/">PEP 237 – Unifying Long Integers and Integers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0238/">PEP 238 – Changing the Division Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0239/">PEP 239 – Adding a Rational Type to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0240/">PEP 240 – Adding a Rational Literal to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0241/">PEP 241 – Metadata for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0242/">PEP 242 – Numeric Kinds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0243/">PEP 243 – Module Repository Upload Mechanism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0244/">PEP 244 – The ``directive`` statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0245/">PEP 245 – Python Interface Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0246/">PEP 246 – Object Adaptation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0247/">PEP 247 – API for Cryptographic Hash Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0248/">PEP 248 – Python Database API Specification v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0249/">PEP 249 – Python Database API Specification v2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0250/">PEP 250 – Using site-packages on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0251/">PEP 251 – Python 2.2 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0252/">PEP 252 – Making Types Look More Like Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0253/">PEP 253 – Subtyping Built-in Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0254/">PEP 254 – Making Classes Look More Like Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0255/">PEP 255 – Simple Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0256/">PEP 256 – Docstring Processing System Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0257/">PEP 257 – Docstring Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0258/">PEP 258 – Docutils Design Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0259/">PEP 259 – Omit printing newline after newline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0260/">PEP 260 – Simplify xrange()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0261/">PEP 261 – Support for “wide” Unicode characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0262/">PEP 262 – A Database of Installed Python Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0263/">PEP 263 – Defining Python Source Code Encodings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0264/">PEP 264 – Future statements in simulated shells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0265/">PEP 265 – Sorting Dictionaries by Value</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0266/">PEP 266 – Optimizing Global Variable/Attribute Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0267/">PEP 267 – Optimized Access to Module Namespaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0268/">PEP 268 – Extended HTTP functionality and WebDAV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0269/">PEP 269 – Pgen Module for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0270/">PEP 270 – uniq method for list objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0271/">PEP 271 – Prefixing sys.path by command line option</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0272/">PEP 272 – API for Block Encryption Algorithms v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0273/">PEP 273 – Import Modules from Zip Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0274/">PEP 274 – Dict Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0275/">PEP 275 – Switching on Multiple Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0276/">PEP 276 – Simple Iterator for ints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0277/">PEP 277 – Unicode file name support for Windows NT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0278/">PEP 278 – Universal Newline Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0279/">PEP 279 – The enumerate() built-in function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0280/">PEP 280 – Optimizing access to globals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0281/">PEP 281 – Loop Counter Iteration with range and xrange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0282/">PEP 282 – A Logging System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0283/">PEP 283 – Python 2.3 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0284/">PEP 284 – Integer for-loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0285/">PEP 285 – Adding a bool type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0286/">PEP 286 – Enhanced Argument Tuples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0287/">PEP 287 – reStructuredText Docstring Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0288/">PEP 288 – Generators Attributes and Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0289/">PEP 289 – Generator Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0290/">PEP 290 – Code Migration and Modernization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0291/">PEP 291 – Backward Compatibility for the Python 2 Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0292/">PEP 292 – Simpler String Substitutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0293/">PEP 293 – Codec Error Handling Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0294/">PEP 294 – Type Names in the types Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0295/">PEP 295 – Interpretation of multiline string constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0296/">PEP 296 – Adding a bytes Object Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0297/">PEP 297 – Support for System Upgrades</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0298/">PEP 298 – The Locked Buffer Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0299/">PEP 299 – Special __main__() function in modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0301/">PEP 301 – Package Index and Metadata for Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0302/">PEP 302 – New Import Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0303/">PEP 303 – Extend divmod() for Multiple Divisors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0304/">PEP 304 – Controlling Generation of Bytecode Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0305/">PEP 305 – CSV File API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0306/">PEP 306 – How to Change Python’s Grammar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0307/">PEP 307 – Extensions to the pickle protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0308/">PEP 308 – Conditional Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0309/">PEP 309 – Partial Function Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0310/">PEP 310 – Reliable Acquisition/Release Pairs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0311/">PEP 311 – Simplified Global Interpreter Lock Acquisition for Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0312/">PEP 312 – Simple Implicit Lambda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0313/">PEP 313 – Adding Roman Numeral Literals to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0314/">PEP 314 – Metadata for Python Software Packages v1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0315/">PEP 315 – Enhanced While Loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0316/">PEP 316 – Programming by Contract for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0317/">PEP 317 – Eliminate Implicit Exception Instantiation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0318/">PEP 318 – Decorators for Functions and Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0319/">PEP 319 – Python Synchronize/Asynchronize Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0320/">PEP 320 – Python 2.4 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0321/">PEP 321 – Date/Time Parsing and Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0322/">PEP 322 – Reverse Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0323/">PEP 323 – Copyable Iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0324/">PEP 324 – subprocess - New process module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0325/">PEP 325 – Resource-Release Support for Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0326/">PEP 326 – A Case for Top and Bottom Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0327/">PEP 327 – Decimal Data Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0328/">PEP 328 – Imports: Multi-Line and Absolute/Relative</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0329/">PEP 329 – Treating Builtins as Constants in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0330/">PEP 330 – Python Bytecode Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0331/">PEP 331 – Locale-Independent Float/String Conversions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0332/">PEP 332 – Byte vectors and String/Unicode Unification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0333/">PEP 333 – Python Web Server Gateway Interface v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0334/">PEP 334 – Simple Coroutines via SuspendIteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0335/">PEP 335 – Overloadable Boolean Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0336/">PEP 336 – Make None Callable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0337/">PEP 337 – Logging Usage in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0338/">PEP 338 – Executing modules as scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0339/">PEP 339 – Design of the CPython Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0340/">PEP 340 – Anonymous Block Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0341/">PEP 341 – Unifying try-except and try-finally</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0342/">PEP 342 – Coroutines via Enhanced Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0343/">PEP 343 – The “with” Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0344/">PEP 344 – Exception Chaining and Embedded Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0345/">PEP 345 – Metadata for Python Software Packages 1.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0346/">PEP 346 – User Defined (“``with``”) Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0347/">PEP 347 – Migrating the Python CVS to Subversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0348/">PEP 348 – Exception Reorganization for Python 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0349/">PEP 349 – Allow str() to return unicode strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0350/">PEP 350 – Codetags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0351/">PEP 351 – The freeze protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0352/">PEP 352 – Required Superclass for Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0353/">PEP 353 – Using ssize_t as the index type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0354/">PEP 354 – Enumerations in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0355/">PEP 355 – Path - Object oriented filesystem paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0356/">PEP 356 – Python 2.5 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0357/">PEP 357 – Allowing Any Object to be Used for Slicing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0358/">PEP 358 – The “bytes” Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0359/">PEP 359 – The “make” Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0360/">PEP 360 – Externally Maintained Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0361/">PEP 361 – Python 2.6 and 3.0 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0362/">PEP 362 – Function Signature Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0363/">PEP 363 – Syntax For Dynamic Attribute Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0364/">PEP 364 – Transitioning to the Py3K Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0365/">PEP 365 – Adding the pkg_resources module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0366/">PEP 366 – Main module explicit relative imports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0367/">PEP 367 – New Super</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0368/">PEP 368 – Standard image protocol and class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0369/">PEP 369 – Post import hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0370/">PEP 370 – Per user site-packages directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0371/">PEP 371 – Addition of the multiprocessing package to the standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0372/">PEP 372 – Adding an ordered dictionary to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0373/">PEP 373 – Python 2.7 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0374/">PEP 374 – Choosing a distributed VCS for the Python project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0375/">PEP 375 – Python 3.1 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0376/">PEP 376 – Database of Installed Python Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0377/">PEP 377 – Allow __enter__() methods to skip the statement body</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0378/">PEP 378 – Format Specifier for Thousands Separator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0379/">PEP 379 – Adding an Assignment Expression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0380/">PEP 380 – Syntax for Delegating to a Subgenerator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0381/">PEP 381 – Mirroring infrastructure for PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0382/">PEP 382 – Namespace Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0383/">PEP 383 – Non-decodable Bytes in System Character Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0384/">PEP 384 – Defining a Stable ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0385/">PEP 385 – Migrating from Subversion to Mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0386/">PEP 386 – Changing the version comparison module in Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0387/">PEP 387 – Backwards Compatibility Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0389/">PEP 389 – argparse - New Command Line Parsing Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0390/">PEP 390 – Static metadata for Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0391/">PEP 391 – Dictionary-Based Configuration For Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0392/">PEP 392 – Python 3.2 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0393/">PEP 393 – Flexible String Representation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0394/">PEP 394 – The “python” Command on Unix-Like Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0395/">PEP 395 – Qualified Names for Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0396/">PEP 396 – Module Version Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0397/">PEP 397 – Python launcher for Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0398/">PEP 398 – Python 3.3 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0399/">PEP 399 – Pure Python/C Accelerator Module Compatibility Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0400/">PEP 400 – Deprecate codecs.StreamReader and codecs.StreamWriter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0401/">PEP 401 – BDFL Retirement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0402/">PEP 402 – Simplified Package Layout and Partitioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0403/">PEP 403 – General purpose decorator clause (aka “&#64;in” clause)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0404/">PEP 404 – Python 2.8 Un-release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0405/">PEP 405 – Python Virtual Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0406/">PEP 406 – Improved Encapsulation of Import State</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0407/">PEP 407 – New release cycle and introducing long-term support versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0408/">PEP 408 – Standard library __preview__ package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0409/">PEP 409 – Suppressing exception context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0410/">PEP 410 – Use decimal.Decimal type for timestamps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0411/">PEP 411 – Provisional packages in the Python standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0412/">PEP 412 – Key-Sharing Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0413/">PEP 413 – Faster evolution of the Python Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0414/">PEP 414 – Explicit Unicode Literal for Python 3.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0415/">PEP 415 – Implement context suppression with exception attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0416/">PEP 416 – Add a frozendict builtin type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0417/">PEP 417 – Including mock in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0418/">PEP 418 – Add monotonic time, performance counter, and process time functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0419/">PEP 419 – Protecting cleanup statements from interruptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0420/">PEP 420 – Implicit Namespace Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0421/">PEP 421 – Adding sys.implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0422/">PEP 422 – Simpler customisation of class creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0423/">PEP 423 – Naming conventions and recipes related to packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0424/">PEP 424 – A method for exposing a length hint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0425/">PEP 425 – Compatibility Tags for Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0426/">PEP 426 – Metadata for Python Software Packages 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0427/">PEP 427 – The Wheel Binary Package Format 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0428/">PEP 428 – The pathlib module – object-oriented filesystem paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0429/">PEP 429 – Python 3.4 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0430/">PEP 430 – Migrating to Python 3 as the default online documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0431/">PEP 431 – Time zone support improvements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0432/">PEP 432 – Restructuring the CPython startup sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0433/">PEP 433 – Easier suppression of file descriptor inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0434/">PEP 434 – IDLE Enhancement Exception for All Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0435/">PEP 435 – Adding an Enum type to the Python standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0436/">PEP 436 – The Argument Clinic DSL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0437/">PEP 437 – A DSL for specifying signatures, annotations and argument converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0438/">PEP 438 – Transitioning to release-file hosting on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0439/">PEP 439 – Inclusion of implicit pip bootstrap in Python installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0440/">PEP 440 – Version Identification and Dependency Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0441/">PEP 441 – Improving Python ZIP Application Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0442/">PEP 442 – Safe object finalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0443/">PEP 443 – Single-dispatch generic functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0444/">PEP 444 – Python Web3 Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0445/">PEP 445 – Add new APIs to customize Python memory allocators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0446/">PEP 446 – Make newly created file descriptors non-inheritable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0447/">PEP 447 – Add __getdescriptor__ method to metaclass</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0448/">PEP 448 – Additional Unpacking Generalizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0449/">PEP 449 – Removal of the PyPI Mirror Auto Discovery and Naming Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0450/">PEP 450 – Adding A Statistics Module To The Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0451/">PEP 451 – A ModuleSpec Type for the Import System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0452/">PEP 452 – API for Cryptographic Hash Functions v2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0453/">PEP 453 – Explicit bootstrapping of pip in Python installations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0454/">PEP 454 – Add a new tracemalloc module to trace Python memory allocations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0455/">PEP 455 – Adding a key-transforming dictionary to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0456/">PEP 456 – Secure and interchangeable hash algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0457/">PEP 457 – Notation For Positional-Only Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0458/">PEP 458 – Secure PyPI downloads with signed repository metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0459/">PEP 459 – Standard Metadata Extensions for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0460/">PEP 460 – Add binary interpolation and formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0461/">PEP 461 – Adding % formatting to bytes and bytearray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0462/">PEP 462 – Core development workflow automation for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0463/">PEP 463 – Exception-catching expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0464/">PEP 464 – Removal of the PyPI Mirror Authenticity API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0465/">PEP 465 – A dedicated infix operator for matrix multiplication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0466/">PEP 466 – Network Security Enhancements for Python 2.7.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0467/">PEP 467 – Minor API improvements for binary sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0468/">PEP 468 – Preserving the order of \*\*kwargs in a function.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0469/">PEP 469 – Migration of dict iteration code to Python 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0470/">PEP 470 – Removing External Hosting Support on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0471/">PEP 471 – os.scandir() function – a better and faster directory iterator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0472/">PEP 472 – Support for indexing with keyword arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0473/">PEP 473 – Adding structured data to built-in exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0474/">PEP 474 – Creating forge.python.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0475/">PEP 475 – Retry system calls failing with EINTR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0476/">PEP 476 – Enabling certificate verification by default for stdlib http clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0477/">PEP 477 – Backport ensurepip (PEP 453) to Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0478/">PEP 478 – Python 3.5 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0479/">PEP 479 – Change StopIteration handling inside generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0480/">PEP 480 – Surviving a Compromise of PyPI: End-to-end signing of packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0481/">PEP 481 – Migrate CPython to Git, Github, and Phabricator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0482/">PEP 482 – Literature Overview for Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0483/">PEP 483 – The Theory of Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0484/">PEP 484 – Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0485/">PEP 485 – A Function for testing approximate equality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0486/">PEP 486 – Make the Python Launcher aware of virtual environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0487/">PEP 487 – Simpler customisation of class creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0488/">PEP 488 – Elimination of PYO files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0489/">PEP 489 – Multi-phase extension module initialization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0490/">PEP 490 – Chain exceptions at C level</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0491/">PEP 491 – The Wheel Binary Package Format 1.9</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0492/">PEP 492 – Coroutines with async and await syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0493/">PEP 493 – HTTPS verification migration tools for Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0494/">PEP 494 – Python 3.6 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0495/">PEP 495 – Local Time Disambiguation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0496/">PEP 496 – Environment Markers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0497/">PEP 497 – A standard mechanism for backward compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0498/">PEP 498 – Literal String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0499/">PEP 499 – ``python -m foo`` should bind ``sys.modules[‘foo’]`` in addition to ``sys.modules[‘__main__’]``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0500/">PEP 500 – A protocol for delegating datetime methods to their
tzinfo implementations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0501/">PEP 501 – General purpose string interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0502/">PEP 502 – String Interpolation - Extended Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0503/">PEP 503 – Simple Repository API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0504/">PEP 504 – Using the System RNG by default</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0505/">PEP 505 – None-aware operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0506/">PEP 506 – Adding A Secrets Module To The Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0507/">PEP 507 – Migrate CPython to Git and GitLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0508/">PEP 508 – Dependency specification for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0509/">PEP 509 – Add a private version to dict</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0510/">PEP 510 – Specialize functions with guards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0511/">PEP 511 – API for code transformers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0512/">PEP 512 – Migrating from hg.python.org to GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0513/">PEP 513 – A Platform Tag for Portable Linux Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0514/">PEP 514 – Python registration in the Windows registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0515/">PEP 515 – Underscores in Numeric Literals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0516/">PEP 516 – Build system abstraction for pip/conda etc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0517/">PEP 517 – A build-system independent format for source trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0518/">PEP 518 – Specifying Minimum Build System Requirements for Python Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0519/">PEP 519 – Adding a file system path protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0520/">PEP 520 – Preserving Class Attribute Definition Order</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0521/">PEP 521 – Managing global context via ‘with’ blocks in generators and coroutines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0522/">PEP 522 – Allow BlockingIOError in security sensitive APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0523/">PEP 523 – Adding a frame evaluation API to CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0524/">PEP 524 – Make os.urandom() blocking on Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0525/">PEP 525 – Asynchronous Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0526/">PEP 526 – Syntax for Variable Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0527/">PEP 527 – Removing Un(der)used file types/extensions on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0528/">PEP 528 – Change Windows console encoding to UTF-8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0529/">PEP 529 – Change Windows filesystem encoding to UTF-8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0530/">PEP 530 – Asynchronous Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0531/">PEP 531 – Existence checking operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0532/">PEP 532 – A circuit breaking protocol and binary operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0533/">PEP 533 – Deterministic cleanup for iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0534/">PEP 534 – Improved Errors for Missing Standard Library Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0535/">PEP 535 – Rich comparison chaining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0536/">PEP 536 – Final Grammar for Literal String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0537/">PEP 537 – Python 3.7 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0538/">PEP 538 – Coercing the legacy C locale to a UTF-8 based locale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0539/">PEP 539 – A New C-API for Thread-Local Storage in CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0540/">PEP 540 – Add a new UTF-8 Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0541/">PEP 541 – Package Index Name Retention</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0542/">PEP 542 – Dot Notation Assignment In Function Header</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PEP 543 – A Unified TLS API for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0544/">PEP 544 – Protocols: Structural subtyping (static duck typing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0545/">PEP 545 – Python Documentation Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0546/">PEP 546 – Backport ssl.MemoryBIO and ssl.SSLObject to Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0547/">PEP 547 – Running extension modules using the -m option</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0548/">PEP 548 – More Flexible Loop Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0549/">PEP 549 – Instance Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0550/">PEP 550 – Execution Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0551/">PEP 551 – Security transparency in the Python runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0552/">PEP 552 – Deterministic pycs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0553/">PEP 553 – Built-in breakpoint()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0554/">PEP 554 – Multiple Interpreters in the Stdlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0555/">PEP 555 – Context-local variables (contextvars)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0556/">PEP 556 – Threaded garbage collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0557/">PEP 557 – Data Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0558/">PEP 558 – Defined semantics for locals()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0559/">PEP 559 – Built-in noop()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0560/">PEP 560 – Core support for typing module and generic types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0561/">PEP 561 – Distributing and Packaging Type Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0562/">PEP 562 – Module __getattr__ and __dir__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0563/">PEP 563 – Postponed Evaluation of Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0564/">PEP 564 – Add new time functions with nanosecond resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0565/">PEP 565 – Show DeprecationWarning in __main__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0566/">PEP 566 – Metadata for Python Software Packages 2.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0567/">PEP 567 – Context Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0568/">PEP 568 – Generator-sensitivity for Context Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0569/">PEP 569 – Python 3.8 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0570/">PEP 570 – Python Positional-Only Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0571/">PEP 571 – The manylinux2010 Platform Tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0572/">PEP 572 – Assignment Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0573/">PEP 573 – Module State Access from C Extension Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0574/">PEP 574 – Pickle protocol 5 with out-of-band data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0575/">PEP 575 – Unifying function/method classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0576/">PEP 576 – Rationalize Built-in function classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0577/">PEP 577 – Augmented Assignment Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0578/">PEP 578 – Python Runtime Audit Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0579/">PEP 579 – Refactoring C functions and methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0580/">PEP 580 – The C call protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0581/">PEP 581 – Using GitHub Issues for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0582/">PEP 582 – Python local packages directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0583/">PEP 583 – A Concurrency Memory Model for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0584/">PEP 584 – Add Union Operators To dict</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0585/">PEP 585 – Type Hinting Generics In Standard Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0586/">PEP 586 – Literal Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0587/">PEP 587 – Python Initialization Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0588/">PEP 588 – GitHub Issues Migration Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0589/">PEP 589 – TypedDict: Type Hints for Dictionaries with a Fixed Set of Keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0590/">PEP 590 – Vectorcall: a fast calling protocol for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0591/">PEP 591 – Adding a final qualifier to typing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0592/">PEP 592 – Adding “Yank” Support to the Simple API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0593/">PEP 593 – Flexible function and variable annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0594/">PEP 594 – Removing dead batteries from the standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0595/">PEP 595 – Improving bugs.python.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0596/">PEP 596 – Python 3.9 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0597/">PEP 597 – Add optional EncodingWarning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0598/">PEP 598 – Introducing incremental feature releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0599/">PEP 599 – The manylinux2014 Platform Tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0600/">PEP 600 – Future ‘manylinux’ Platform Tags for Portable Linux Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0601/">PEP 601 – Forbid return/break/continue breaking out of finally</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0602/">PEP 602 – Annual Release Cycle for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0603/">PEP 603 – Adding a frozenmap type to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0604/">PEP 604 – Allow writing union types as ``X | Y``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0605/">PEP 605 – A rolling feature release stream for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0606/">PEP 606 – Python Compatibility Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0607/">PEP 607 – Reducing CPython’s Feature Delivery Latency</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0608/">PEP 608 – Coordinated Python release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0609/">PEP 609 – PyPA Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0610/">PEP 610 – Recording the Direct URL Origin of installed distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0611/">PEP 611 – The one million limit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0612/">PEP 612 – Parameter Specification Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0613/">PEP 613 – Explicit Type Aliases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0614/">PEP 614 – Relaxing Grammar Restrictions On Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0615/">PEP 615 – Support for the IANA Time Zone Database in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0616/">PEP 616 – String methods to remove prefixes and suffixes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0617/">PEP 617 – New PEG parser for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0618/">PEP 618 – Add Optional Length-Checking To zip</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0619/">PEP 619 – Python 3.10 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0620/">PEP 620 – Hide implementation details from the C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0621/">PEP 621 – Storing project metadata in pyproject.toml</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0622/">PEP 622 – Structural Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0623/">PEP 623 – Remove wstr from Unicode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0624/">PEP 624 – Remove Py_UNICODE encoder APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0625/">PEP 625 – File name of a Source Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0626/">PEP 626 – Precise line numbers for debugging and other tools.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0627/">PEP 627 – Recording installed projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0628/">PEP 628 – Add ``math.tau``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0629/">PEP 629 – Versioning PyPI’s Simple API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0630/">PEP 630 – Isolating Extension Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0631/">PEP 631 – Dependency specification in pyproject.toml based on PEP 508</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0632/">PEP 632 – Deprecate distutils module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0633/">PEP 633 – Dependency specification in pyproject.toml using an exploded TOML table</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0634/">PEP 634 – Structural Pattern Matching: Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0635/">PEP 635 – Structural Pattern Matching: Motivation and Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0636/">PEP 636 – Structural Pattern Matching: Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0637/">PEP 637 – Support for indexing with keyword arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0638/">PEP 638 – Syntactic Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0639/">PEP 639 – Metadata for Python Software Packages 2.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0640/">PEP 640 – Unused variable syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0641/">PEP 641 – Using an underscore in the version portion of Python 3.10 compatibility tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0642/">PEP 642 – Explicit Pattern Syntax for Structural Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0643/">PEP 643 – Metadata for Package Source Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0644/">PEP 644 – Require OpenSSL 1.1.1 or newer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0645/">PEP 645 – Allow writing optional types as ``x?``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0646/">PEP 646 – Variadic Generics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0647/">PEP 647 – User-Defined Type Guards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0648/">PEP 648 – Extensible customizations of the interpreter at startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0649/">PEP 649 – Deferred Evaluation Of Annotations Using Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0650/">PEP 650 – Specifying Installer Requirements for Python Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0651/">PEP 651 – Robust Stack Overflow Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0652/">PEP 652 – Maintaining the Stable ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0653/">PEP 653 – Precise Semantics for Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0654/">PEP 654 – Exception Groups and except*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0655/">PEP 655 – Marking individual TypedDict items as required or potentially-missing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0656/">PEP 656 – Platform Tag for Linux Distributions Using Musl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0657/">PEP 657 – Include Fine Grained Error Locations in Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0658/">PEP 658 – Serve Distribution Metadata in the Simple Repository API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0659/">PEP 659 – Specializing Adaptive Interpreter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0660/">PEP 660 – Editable installs for pyproject.toml based builds (wheel based)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0661/">PEP 661 – Sentinel Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0662/">PEP 662 – Editable installs via virtual wheels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0666/">PEP 666 – Reject Foolish Indentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0754/">PEP 754 – IEEE 754 Floating Point Special Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0801/">PEP 801 – Reserved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3000/">PEP 3000 – Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3001/">PEP 3001 – Procedure for reviewing and improving standard library modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3002/">PEP 3002 – Procedure for Backwards-Incompatible Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3003/">PEP 3003 – Python Language Moratorium</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3099/">PEP 3099 – Things that will Not Change in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3100/">PEP 3100 – Miscellaneous Python 3.0 Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3101/">PEP 3101 – Advanced String Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3102/">PEP 3102 – Keyword-Only Arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3103/">PEP 3103 – A Switch/Case Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3104/">PEP 3104 – Access to Names in Outer Scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3105/">PEP 3105 – Make print a function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3106/">PEP 3106 – Revamping dict.keys(), .values() and .items()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3107/">PEP 3107 – Function Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3108/">PEP 3108 – Standard Library Reorganization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3109/">PEP 3109 – Raising Exceptions in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3110/">PEP 3110 – Catching Exceptions in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3111/">PEP 3111 – Simple input built-in in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3112/">PEP 3112 – Bytes literals in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3113/">PEP 3113 – Removal of Tuple Parameter Unpacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3114/">PEP 3114 – Renaming iterator.next() to iterator.__next__()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3115/">PEP 3115 – Metaclasses in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3116/">PEP 3116 – New I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3117/">PEP 3117 – Postfix type declarations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3118/">PEP 3118 – Revising the buffer protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3119/">PEP 3119 – Introducing Abstract Base Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3120/">PEP 3120 – Using UTF-8 as the default source encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3121/">PEP 3121 – Extension Module Initialization and Finalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3122/">PEP 3122 – Delineation of the main module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3123/">PEP 3123 – Making PyObject_HEAD conform to standard C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3124/">PEP 3124 – Overloading, Generic Functions, Interfaces, and Adaptation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3125/">PEP 3125 – Remove Backslash Continuation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3126/">PEP 3126 – Remove Implicit String Concatenation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3127/">PEP 3127 – Integer Literal Support and Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3128/">PEP 3128 – BList: A Faster List-like Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3129/">PEP 3129 – Class Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3130/">PEP 3130 – Access to Current Module/Class/Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3131/">PEP 3131 – Supporting Non-ASCII Identifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3132/">PEP 3132 – Extended Iterable Unpacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3133/">PEP 3133 – Introducing Roles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3134/">PEP 3134 – Exception Chaining and Embedded Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3135/">PEP 3135 – New Super</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3136/">PEP 3136 – Labeled break and continue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3137/">PEP 3137 – Immutable Bytes and Mutable Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3138/">PEP 3138 – String representation in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3139/">PEP 3139 – Cleaning out sys and the “interpreter” module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3140/">PEP 3140 – str(container) should call str(item), not repr(item)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3141/">PEP 3141 – A Type Hierarchy for Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3142/">PEP 3142 – Add a “while” clause to generator expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3143/">PEP 3143 – Standard daemon process library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3144/">PEP 3144 – IP Address Manipulation Library for the Python Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3145/">PEP 3145 – Asynchronous I/O For subprocess.Popen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3146/">PEP 3146 – Merging Unladen Swallow into CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3147/">PEP 3147 – PYC Repository Directories</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3148/">PEP 3148 – futures - execute computations asynchronously</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3149/">PEP 3149 – ABI version tagged .so files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3150/">PEP 3150 – Statement local namespaces (aka “given” clause)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3151/">PEP 3151 – Reworking the OS and IO exception hierarchy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3152/">PEP 3152 – Cofunctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3153/">PEP 3153 – Asynchronous IO support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3154/">PEP 3154 – Pickle protocol version 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3155/">PEP 3155 – Qualified name for classes and functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3156/">PEP 3156 – Asynchronous IO Support Rebooted: the “asyncio” Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3333/">PEP 3333 – Python Web Server Gateway Interface v1.0.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8000/">PEP 8000 – Python Language Governance Proposal Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8001/">PEP 8001 – Python Governance Voting Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8002/">PEP 8002 – Open Source Governance Survey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8010/">PEP 8010 – The Technical Leader Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8011/">PEP 8011 – Python Governance Model Lead by Trio of Pythonistas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8012/">PEP 8012 – The Community Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8013/">PEP 8013 – The External Council Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8014/">PEP 8014 – The Commons Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8015/">PEP 8015 – Organization of the Python community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8016/">PEP 8016 – The Steering Council Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8100/">PEP 8100 – January 2019 steering council election</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8101/">PEP 8101 – 2020 Term steering council election</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8102/">PEP 8102 – 2021 Term steering council election</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../contents/">Documentation overview</a><ul>
      <li>Previous: <a href="../pep-0542/" title="previous chapter">PEP 542 – Dot Notation Assignment In Function Header</a></li>
      <li>Next: <a href="../pep-0544/" title="next chapter">PEP 544 – Protocols: Structural subtyping (static duck typing)</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
      
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/pep-0543.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>