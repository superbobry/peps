
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>PEP 3333 – Python Web Server Gateway Interface v1.0.1 &#8212; peps.python.org</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="PEP 8000 – Python Language Governance Proposal Overview" href="../pep-8000/" />
    <link rel="prev" title="PEP 3156 – Asynchronous IO Support Rebooted: the “asyncio” Module" href="../pep-3156/" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pep-3333-python-web-server-gateway-interface-v1-0-1">
<h1 class="page-title">PEP 3333 – Python Web Server Gateway Interface v1.0.1<a class="headerlink" href="#pep-3333-python-web-server-gateway-interface-v1-0-1" title="Permalink to this headline">¶</a></h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">PEP</dt>
<dd class="field-odd"><p>3333</p>
</dd>
<dt class="field-even">Title</dt>
<dd class="field-even"><p>Python Web Server Gateway Interface v1.0.1</p>
</dd>
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>P.J. Eby &lt;<a class="reference external" href="mailto:pje&#37;&#52;&#48;telecommunity&#46;com?subject=PEP%20-1">pje&#32;&#97;t&#32;telecommunity.com</a>&gt;</p>
</dd>
<dt class="field-even">Discussions-To</dt>
<dd class="field-even"><p>Python Web-SIG &lt;<a class="reference external" href="mailto:web-sig&#37;&#52;&#48;python&#46;org">web-sig<span>&#64;</span>python<span>&#46;</span>org</a>&gt;</p>
</dd>
<dt class="field-odd">Status</dt>
<dd class="field-odd"><p>Final</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Informational</p>
</dd>
<dt class="field-odd">Created</dt>
<dd class="field-odd"><p>26-Sep-2010</p>
</dd>
<dt class="field-even">Post-History</dt>
<dd class="field-even"><p>26-Sep-2010, 04-Oct-2010</p>
</dd>
<dt class="field-odd">Replaces</dt>
<dd class="field-odd"><p><a class="reference external" href="pep-0333.html">333</a></p>
</dd>
</dl>
<hr class="docutils" />
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#preface-for-readers-of-pep-333" id="id15">Preface for Readers of PEP 333</a></p></li>
<li><p><a class="reference internal" href="#abstract" id="id16">Abstract</a></p></li>
<li><p><a class="reference internal" href="#original-rationale-and-goals-from-pep-333" id="id17">Original Rationale and Goals (from PEP 333)</a></p></li>
<li><p><a class="reference internal" href="#specification-overview" id="id18">Specification Overview</a></p>
<ul>
<li><p><a class="reference internal" href="#a-note-on-string-types" id="id19">A Note On String Types</a></p></li>
<li><p><a class="reference internal" href="#the-application-framework-side" id="id20">The Application/Framework Side</a></p></li>
<li><p><a class="reference internal" href="#the-server-gateway-side" id="id21">The Server/Gateway Side</a></p></li>
<li><p><a class="reference internal" href="#middleware-components-that-play-both-sides" id="id22">Middleware: Components that Play Both Sides</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#specification-details" id="id23">Specification Details</a></p>
<ul>
<li><p><a class="reference internal" href="#environ-variables" id="id24"><code class="docutils literal notranslate"><span class="pre">environ</span></code> Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#input-and-error-streams" id="id25">Input and Error Streams</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#the-start-response-callable" id="id26">The <code class="docutils literal notranslate"><span class="pre">start_response()</span></code> Callable</a></p>
<ul>
<li><p><a class="reference internal" href="#handling-the-content-length-header" id="id27">Handling the <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> Header</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#buffering-and-streaming" id="id28">Buffering and Streaming</a></p>
<ul>
<li><p><a class="reference internal" href="#middleware-handling-of-block-boundaries" id="id29">Middleware Handling of Block Boundaries</a></p></li>
<li><p><a class="reference internal" href="#the-write-callable" id="id30">The <code class="docutils literal notranslate"><span class="pre">write()</span></code> Callable</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#unicode-issues" id="id31">Unicode Issues</a></p></li>
<li><p><a class="reference internal" href="#error-handling" id="id32">Error Handling</a></p></li>
<li><p><a class="reference internal" href="#http-1-1-expect-continue" id="id33">HTTP 1.1 Expect/Continue</a></p></li>
<li><p><a class="reference internal" href="#other-http-features" id="id34">Other HTTP Features</a></p></li>
<li><p><a class="reference internal" href="#thread-support" id="id35">Thread Support</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#implementation-application-notes" id="id36">Implementation/Application Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#server-extension-apis" id="id37">Server Extension APIs</a></p></li>
<li><p><a class="reference internal" href="#application-configuration" id="id38">Application Configuration</a></p></li>
<li><p><a class="reference internal" href="#url-reconstruction" id="id39">URL Reconstruction</a></p></li>
<li><p><a class="reference internal" href="#supporting-older-2-2-versions-of-python" id="id40">Supporting Older (&lt;2.2) Versions of Python</a></p></li>
<li><p><a class="reference internal" href="#optional-platform-specific-file-handling" id="id41">Optional Platform-Specific File Handling</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#questions-and-answers" id="id42">Questions and Answers</a></p></li>
<li><p><a class="reference internal" href="#proposed-under-discussion" id="id43">Proposed/Under Discussion</a></p></li>
<li><p><a class="reference internal" href="#acknowledgements" id="id44">Acknowledgements</a></p></li>
<li><p><a class="reference internal" href="#references" id="id45">References</a></p></li>
<li><p><a class="reference internal" href="#copyright" id="id46">Copyright</a></p></li>
</ul>
</div>
<section id="preface-for-readers-of-pep-333">
<h2><a class="toc-backref" href="#id15">Preface for Readers of PEP 333</a><a class="headerlink" href="#preface-for-readers-of-pep-333" title="Permalink to this headline">¶</a></h2>
<p>This is an updated version of <a class="reference external" href="pep-0333.html">PEP 333</a>, modified slightly to improve
usability under Python 3, and to incorporate several long-standing
de facto amendments to the WSGI protocol.  (Its code samples have
also been ported to Python 3.)</p>
<p>While for procedural reasons <a class="footnote-reference brackets" href="#id13" id="id1">6</a>, this must be a distinct PEP, no
changes were made that invalidate previously-compliant servers or
applications under Python 2.x.  If your 2.x application or server
is compliant to PEP 333, it is also compliant with this PEP.</p>
<p>Under Python 3, however, your app or server must also follow the
rules outlined in the sections below titled, <a class="reference internal" href="#a-note-on-string-types">A Note On String
Types</a>, and <a class="reference internal" href="#unicode-issues">Unicode Issues</a>.</p>
<p>For detailed, line-by-line diffs between this document and PEP 333,
you may view its SVN revision history <a class="footnote-reference brackets" href="#id14" id="id2">7</a>, from revision 84854 forward.</p>
</section>
<section id="abstract">
<h2><a class="toc-backref" href="#id16">Abstract</a><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>This document specifies a proposed standard interface between web
servers and Python web applications or frameworks, to promote web
application portability across a variety of web servers.</p>
</section>
<section id="original-rationale-and-goals-from-pep-333">
<h2><a class="toc-backref" href="#id17">Original Rationale and Goals (from PEP 333)</a><a class="headerlink" href="#original-rationale-and-goals-from-pep-333" title="Permalink to this headline">¶</a></h2>
<p>Python currently boasts a wide variety of web application frameworks,
such as Zope, Quixote, Webware, SkunkWeb, PSO, and Twisted Web – to
name just a few <a class="footnote-reference brackets" href="#id8" id="id3">1</a>.  This wide variety of choices can be a problem
for new Python users, because generally speaking, their choice of web
framework will limit their choice of usable web servers, and vice
versa.</p>
<p>By contrast, although Java has just as many web application frameworks
available, Java’s “servlet” API makes it possible for applications
written with any Java web application framework to run in any web
server that supports the servlet API.</p>
<p>The availability and widespread use of such an API in web servers for
Python – whether those servers are written in Python (e.g. Medusa),
embed Python (e.g. mod_python), or invoke Python via a gateway
protocol (e.g. CGI, FastCGI, etc.) – would separate choice of
framework from choice of web server, freeing users to choose a pairing
that suits them, while freeing framework and server developers to
focus on their preferred area of specialization.</p>
<p>This PEP, therefore, proposes a simple and universal interface between
web servers and web applications or frameworks: the Python Web Server
Gateway Interface (WSGI).</p>
<p>But the mere existence of a WSGI spec does nothing to address the
existing state of servers and frameworks for Python web applications.
Server and framework authors and maintainers must actually implement
WSGI for there to be any effect.</p>
<p>However, since no existing servers or frameworks support WSGI, there
is little immediate reward for an author who implements WSGI support.
Thus, WSGI <strong>must</strong> be easy to implement, so that an author’s initial
investment in the interface can be reasonably low.</p>
<p>Thus, simplicity of implementation on <em>both</em> the server and framework
sides of the interface is absolutely critical to the utility of the
WSGI interface, and is therefore the principal criterion for any
design decisions.</p>
<p>Note, however, that simplicity of implementation for a framework
author is not the same thing as ease of use for a web application
author.  WSGI presents an absolutely “no frills” interface to the
framework author, because bells and whistles like response objects and
cookie handling would just get in the way of existing frameworks’
handling of these issues.  Again, the goal of WSGI is to facilitate
easy interconnection of existing servers and applications or
frameworks, not to create a new web framework.</p>
<p>Note also that this goal precludes WSGI from requiring anything that
is not already available in deployed versions of Python.  Therefore,
new standard library modules are not proposed or required by this
specification, and nothing in WSGI requires a Python version greater
than 2.2.2.  (It would be a good idea, however, for future versions
of Python to include support for this interface in web servers
provided by the standard library.)</p>
<p>In addition to ease of implementation for existing and future
frameworks and servers, it should also be easy to create request
preprocessors, response postprocessors, and other WSGI-based
“middleware” components that look like an application to their
containing server, while acting as a server for their contained
applications.</p>
<p>If middleware can be both simple and robust, and WSGI is widely
available in servers and frameworks, it allows for the possibility
of an entirely new kind of Python web application framework: one
consisting of loosely-coupled WSGI middleware components.  Indeed,
existing framework authors may even choose to refactor their
frameworks’ existing services to be provided in this way, becoming
more like libraries used with WSGI, and less like monolithic
frameworks.  This would then allow application developers to choose
“best-of-breed” components for specific functionality, rather than
having to commit to all the pros and cons of a single framework.</p>
<p>Of course, as of this writing, that day is doubtless quite far off.
In the meantime, it is a sufficient short-term goal for WSGI to
enable the use of any framework with any server.</p>
<p>Finally, it should be mentioned that the current version of WSGI
does not prescribe any particular mechanism for “deploying” an
application for use with a web server or server gateway.  At the
present time, this is necessarily implementation-defined by the
server or gateway.  After a sufficient number of servers and
frameworks have implemented WSGI to provide field experience with
varying deployment requirements, it may make sense to create
another PEP, describing a deployment standard for WSGI servers and
application frameworks.</p>
</section>
<section id="specification-overview">
<h2><a class="toc-backref" href="#id18">Specification Overview</a><a class="headerlink" href="#specification-overview" title="Permalink to this headline">¶</a></h2>
<p>The WSGI interface has two sides: the “server” or “gateway” side, and
the “application” or “framework” side.  The server side invokes a
callable object that is provided by the application side.  The
specifics of how that object is provided are up to the server or
gateway.  It is assumed that some servers or gateways will require an
application’s deployer to write a short script to create an instance
of the server or gateway, and supply it with the application object.
Other servers and gateways may use configuration files or other
mechanisms to specify where an application object should be
imported from, or otherwise obtained.</p>
<p>In addition to “pure” servers/gateways and applications/frameworks,
it is also possible to create “middleware” components that implement
both sides of this specification.  Such components act as an
application to their containing server, and as a server to a
contained application, and can be used to provide extended APIs,
content transformation, navigation, and other useful functions.</p>
<p>Throughout this specification, we will use the term “a callable” to
mean “a function, method, class, or an instance with a <code class="docutils literal notranslate"><span class="pre">__call__</span></code>
method”.  It is up to the server, gateway, or application implementing
the callable to choose the appropriate implementation technique for
their needs.  Conversely, a server, gateway, or application that is
invoking a callable <strong>must not</strong> have any dependency on what kind of
callable was provided to it.  Callables are only to be called, not
introspected upon.</p>
<section id="a-note-on-string-types">
<h3><a class="toc-backref" href="#id19">A Note On String Types</a><a class="headerlink" href="#a-note-on-string-types" title="Permalink to this headline">¶</a></h3>
<p>In general, HTTP deals with bytes, which means that this specification
is mostly about handling bytes.</p>
<p>However, the content of those bytes often has some kind of textual
interpretation, and in Python, strings are the most convenient way
to handle text.</p>
<p>But in many Python versions and implementations, strings are Unicode,
rather than bytes.  This requires a careful balance between a usable
API and correct translations between bytes and text in the context of
HTTP…  especially to support porting code between Python
implementations with different <code class="docutils literal notranslate"><span class="pre">str</span></code> types.</p>
<p>WSGI therefore defines two kinds of “string”:</p>
<ul class="simple">
<li><p>“Native” strings (which are always implemented using the type
named <code class="docutils literal notranslate"><span class="pre">str</span></code>) that are used for request/response headers and
metadata</p></li>
<li><p>“Bytestrings” (which are implemented using the <code class="docutils literal notranslate"><span class="pre">bytes</span></code> type
in Python 3, and <code class="docutils literal notranslate"><span class="pre">str</span></code> elsewhere), that are used for the bodies
of requests and responses (e.g. POST/PUT input data and HTML page
outputs).</p></li>
</ul>
<p>Do not be confused however: even if Python’s <code class="docutils literal notranslate"><span class="pre">str</span></code> type is actually
Unicode “under the hood”, the <em>content</em> of native strings must
still be translatable to bytes via the Latin-1 encoding!  (See
the section on <a class="reference internal" href="#unicode-issues">Unicode Issues</a> later in  this document for more
details.)</p>
<p>In short: where you see the word “string” in this document, it refers
to a “native” string, i.e., an object of type <code class="docutils literal notranslate"><span class="pre">str</span></code>, whether it is
internally implemented as bytes or unicode.  Where you see references
to “bytestring”, this should be read as “an object of type <code class="docutils literal notranslate"><span class="pre">bytes</span></code>
under Python 3, or type <code class="docutils literal notranslate"><span class="pre">str</span></code> under Python 2”.</p>
<p>And so, even though HTTP is in some sense “really just bytes”, there
are  many API conveniences to be had by using whatever Python’s
default  <code class="docutils literal notranslate"><span class="pre">str</span></code> type is.</p>
</section>
<section id="the-application-framework-side">
<h3><a class="toc-backref" href="#id20">The Application/Framework Side</a><a class="headerlink" href="#the-application-framework-side" title="Permalink to this headline">¶</a></h3>
<p>The application object is simply a callable object that accepts
two arguments.  The term “object” should not be misconstrued as
requiring an actual object instance: a function, method, class,
or instance with a <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method are all acceptable for
use as an application object.  Application objects must be able
to be invoked more than once, as virtually all servers/gateways
(other than CGI) will make such repeated requests.</p>
<p>(Note: although we refer to it as an “application” object, this
should not be construed to mean that application developers will use
WSGI as a web programming API!  It is assumed that application
developers will continue to use existing, high-level framework
services to develop their applications.  WSGI is a tool for
framework and server developers, and is not intended to directly
support application developers.)</p>
<p>Here are two example application objects; one is a function, and the
other is a class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HELLO_WORLD</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;Hello world!</span><span class="se">\n</span><span class="s2">&quot;</span>

<span class="k">def</span> <span class="nf">simple_app</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Simplest possible application object&quot;&quot;&quot;</span>
    <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;200 OK&#39;</span>
    <span class="n">response_headers</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Content-type&#39;</span><span class="p">,</span> <span class="s1">&#39;text/plain&#39;</span><span class="p">)]</span>
    <span class="n">start_response</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">response_headers</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">HELLO_WORLD</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">AppClass</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Produce the same output, but using a class</span>

<span class="sd">    (Note: &#39;AppClass&#39; is the &quot;application&quot; here, so calling it</span>
<span class="sd">    returns an instance of &#39;AppClass&#39;, which is then the iterable</span>
<span class="sd">    return value of the &quot;application callable&quot; as required by</span>
<span class="sd">    the spec.</span>

<span class="sd">    If we wanted to use *instances* of &#39;AppClass&#39; as application</span>
<span class="sd">    objects instead, we would have to implement a &#39;__call__&#39;</span>
<span class="sd">    method, which would be invoked to execute the application,</span>
<span class="sd">    and we would need to create an instance for use by the</span>
<span class="sd">    server or gateway.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">environ</span> <span class="o">=</span> <span class="n">environ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start_response</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;200 OK&#39;</span>
        <span class="n">response_headers</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Content-type&#39;</span><span class="p">,</span> <span class="s1">&#39;text/plain&#39;</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">response_headers</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">HELLO_WORLD</span>
</pre></div>
</div>
</section>
<section id="the-server-gateway-side">
<h3><a class="toc-backref" href="#id21">The Server/Gateway Side</a><a class="headerlink" href="#the-server-gateway-side" title="Permalink to this headline">¶</a></h3>
<p>The server or gateway invokes the application callable once for each
request it receives from an HTTP client, that is directed at the
application.  To illustrate, here is a simple CGI gateway, implemented
as a function taking an application object.  Note that this simple
example has limited error handling, because by default an uncaught
exception will be dumped to <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code> and logged by the web
server.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>

<span class="n">enc</span><span class="p">,</span> <span class="n">esc</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">getfilesystemencoding</span><span class="p">(),</span> <span class="s1">&#39;surrogateescape&#39;</span>

<span class="k">def</span> <span class="nf">unicode_to_wsgi</span><span class="p">(</span><span class="n">u</span><span class="p">):</span>
    <span class="c1"># Convert an environment variable to a WSGI &quot;bytes-as-unicode&quot; string</span>
    <span class="k">return</span> <span class="n">u</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">enc</span><span class="p">,</span> <span class="n">esc</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;iso-8859-1&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">wsgi_to_bytes</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;iso-8859-1&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run_with_cgi</span><span class="p">(</span><span class="n">application</span><span class="p">):</span>
    <span class="n">environ</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">unicode_to_wsgi</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.input&#39;</span><span class="p">]</span>        <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">buffer</span>
    <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.errors&#39;</span><span class="p">]</span>       <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span>
    <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.version&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.multithread&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="kc">False</span>
    <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.multiprocess&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.run_once&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;HTTPS&#39;</span><span class="p">,</span> <span class="s1">&#39;off&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;on&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">):</span>
        <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.url_scheme&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;https&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.url_scheme&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;http&#39;</span>

    <span class="n">headers_set</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">headers_sent</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">buffer</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">headers_set</span><span class="p">:</span>
             <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s2">&quot;write() before start_response()&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="ow">not</span> <span class="n">headers_sent</span><span class="p">:</span>
             <span class="c1"># Before the first output, send the stored headers</span>
             <span class="n">status</span><span class="p">,</span> <span class="n">response_headers</span> <span class="o">=</span> <span class="n">headers_sent</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">headers_set</span>
             <span class="n">out</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">wsgi_to_bytes</span><span class="p">(</span><span class="s1">&#39;Status: </span><span class="si">%s</span><span class="se">\r\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">status</span><span class="p">))</span>
             <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">response_headers</span><span class="p">:</span>
                 <span class="n">out</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">wsgi_to_bytes</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="se">\r\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">header</span><span class="p">))</span>
             <span class="n">out</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">wsgi_to_bytes</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\r\n</span><span class="s1">&#39;</span><span class="p">))</span>

        <span class="n">out</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">out</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">start_response</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">response_headers</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">exc_info</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">headers_sent</span><span class="p">:</span>
                    <span class="c1"># Re-raise original exception if headers sent</span>
                    <span class="k">raise</span> <span class="n">exc_info</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">exc_info</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="k">finally</span><span class="p">:</span>
                <span class="n">exc_info</span> <span class="o">=</span> <span class="kc">None</span>     <span class="c1"># avoid dangling circular ref</span>
        <span class="k">elif</span> <span class="n">headers_set</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s2">&quot;Headers already set!&quot;</span><span class="p">)</span>

        <span class="n">headers_set</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[</span><span class="n">status</span><span class="p">,</span> <span class="n">response_headers</span><span class="p">]</span>

        <span class="c1"># Note: error checking on the headers should happen here,</span>
        <span class="c1"># *after* the headers are set.  That way, if an error</span>
        <span class="c1"># occurs, start_response can only be re-called with</span>
        <span class="c1"># exc_info set.</span>

        <span class="k">return</span> <span class="n">write</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">application</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">:</span>    <span class="c1"># don&#39;t send headers until body appears</span>
                <span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">headers_sent</span><span class="p">:</span>
            <span class="n">write</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>   <span class="c1"># send headers now if body was empty</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="middleware-components-that-play-both-sides">
<h3><a class="toc-backref" href="#id22">Middleware: Components that Play Both Sides</a><a class="headerlink" href="#middleware-components-that-play-both-sides" title="Permalink to this headline">¶</a></h3>
<p>Note that a single object may play the role of a server with respect
to some application(s), while also acting as an application with
respect to some server(s).  Such “middleware” components can perform
such functions as:</p>
<ul class="simple">
<li><p>Routing a request to different application objects based on the
target URL, after rewriting the <code class="docutils literal notranslate"><span class="pre">environ</span></code> accordingly.</p></li>
<li><p>Allowing multiple applications or frameworks to run side by side
in the same process</p></li>
<li><p>Load balancing and remote processing, by forwarding requests and
responses over a network</p></li>
<li><p>Perform content postprocessing, such as applying XSL stylesheets</p></li>
</ul>
<p>The presence of middleware in general is transparent to both the
“server/gateway” and the “application/framework” sides of the
interface, and should require no special support.  A user who
desires to incorporate middleware into an application simply
provides the middleware component to the server, as if it were
an application, and configures the middleware component to
invoke the application, as if the middleware component were a
server.  Of course, the “application” that the middleware wraps
may in fact be another middleware component wrapping another
application, and so on, creating what is referred to as a
“middleware stack”.</p>
<p>For the most part, middleware must conform to the restrictions
and requirements of both the server and application sides of
WSGI.  In some cases, however, requirements for middleware
are more stringent than for a “pure” server or application,
and these points will be noted in the specification.</p>
<p>Here is a (tongue-in-cheek) example of a middleware component that
converts <code class="docutils literal notranslate"><span class="pre">text/plain</span></code> responses to pig Latin, using Joe Strout’s
<code class="docutils literal notranslate"><span class="pre">piglatin.py</span></code>.  (Note: a “real” middleware component would
probably use a more robust way of checking the content type, and
should also check for a content encoding.  Also, this simple
example ignores the possibility that a word might be split across
a block boundary.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">piglatin</span> <span class="kn">import</span> <span class="n">piglatin</span>

<span class="k">class</span> <span class="nc">LatinIter</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Transform iterated output to piglatin, if it&#39;s okay to do so</span>

<span class="sd">    Note that the &quot;okayness&quot; can change until the application yields</span>
<span class="sd">    its first non-empty bytestring, so &#39;transform_ok&#39; has to be a mutable</span>
<span class="sd">    truth value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">transform_ok</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">close</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">close</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_next</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="o">.</span><span class="fm">__next__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transform_ok</span> <span class="o">=</span> <span class="n">transform_ok</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform_ok</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">piglatin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_next</span><span class="p">())</span>   <span class="c1"># call must be byte-safe on Py3</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">Latinator</span><span class="p">:</span>

    <span class="c1"># by default, don&#39;t transform output</span>
    <span class="n">transform</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">application</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">application</span> <span class="o">=</span> <span class="n">application</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>

        <span class="n">transform_ok</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">def</span> <span class="nf">start_latin</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">response_headers</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

            <span class="c1"># Reset ok flag, in case this is a repeat call</span>
            <span class="k">del</span> <span class="n">transform_ok</span><span class="p">[:]</span>

            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">response_headers</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;content-type&#39;</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;text/plain&#39;</span><span class="p">:</span>
                    <span class="n">transform_ok</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="c1"># Strip content-length if present, else it&#39;ll be wrong</span>
                    <span class="n">response_headers</span> <span class="o">=</span> <span class="p">[(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">response_headers</span>
                            <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;content-length&#39;</span>
                    <span class="p">]</span>
                    <span class="k">break</span>

            <span class="n">write</span> <span class="o">=</span> <span class="n">start_response</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">response_headers</span><span class="p">,</span> <span class="n">exc_info</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">transform_ok</span><span class="p">:</span>
                <span class="k">def</span> <span class="nf">write_latin</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
                    <span class="n">write</span><span class="p">(</span><span class="n">piglatin</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>   <span class="c1"># call must be byte-safe on Py3</span>
                <span class="k">return</span> <span class="n">write_latin</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">write</span>

        <span class="k">return</span> <span class="n">LatinIter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">application</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_latin</span><span class="p">),</span> <span class="n">transform_ok</span><span class="p">)</span>


<span class="c1"># Run foo_app under a Latinator&#39;s control, using the example CGI gateway</span>
<span class="kn">from</span> <span class="nn">foo_app</span> <span class="kn">import</span> <span class="n">foo_app</span>
<span class="n">run_with_cgi</span><span class="p">(</span><span class="n">Latinator</span><span class="p">(</span><span class="n">foo_app</span><span class="p">))</span>
</pre></div>
</div>
</section>
</section>
<section id="specification-details">
<h2><a class="toc-backref" href="#id23">Specification Details</a><a class="headerlink" href="#specification-details" title="Permalink to this headline">¶</a></h2>
<p>The application object must accept two positional arguments.  For
the sake of illustration, we have named them <code class="docutils literal notranslate"><span class="pre">environ</span></code> and
<code class="docutils literal notranslate"><span class="pre">start_response</span></code>, but they are not required to have these names.
A server or gateway <strong>must</strong> invoke the application object using
positional (not keyword) arguments.  (E.g. by calling
<code class="docutils literal notranslate"><span class="pre">result</span> <span class="pre">=</span> <span class="pre">application(environ,</span> <span class="pre">start_response)</span></code> as shown above.)</p>
<p>The <code class="docutils literal notranslate"><span class="pre">environ</span></code> parameter is a dictionary object, containing CGI-style
environment variables.  This object <strong>must</strong> be a builtin Python
dictionary (<em>not</em> a subclass, <code class="docutils literal notranslate"><span class="pre">UserDict</span></code> or other dictionary
emulation), and the application is allowed to modify the dictionary
in any way it desires.  The dictionary must also include certain
WSGI-required variables (described in a later section), and may
also include server-specific extension variables, named according
to a convention that will be described below.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">start_response</span></code> parameter is a callable accepting two
required positional arguments, and one optional argument.  For the sake
of illustration, we have named these arguments <code class="docutils literal notranslate"><span class="pre">status</span></code>,
<code class="docutils literal notranslate"><span class="pre">response_headers</span></code>, and <code class="docutils literal notranslate"><span class="pre">exc_info</span></code>, but they are not required to
have these names, and the application <strong>must</strong> invoke the
<code class="docutils literal notranslate"><span class="pre">start_response</span></code> callable using positional arguments (e.g.
<code class="docutils literal notranslate"><span class="pre">start_response(status,</span> <span class="pre">response_headers)</span></code>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">status</span></code> parameter is a status string of the form
<code class="docutils literal notranslate"><span class="pre">&quot;999</span> <span class="pre">Message</span> <span class="pre">here&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">response_headers</span></code> is a list of
<code class="docutils literal notranslate"><span class="pre">(header_name,</span> <span class="pre">header_value)</span></code> tuples describing the HTTP response
header.  The optional <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> parameter is described below in the
sections on <a class="reference internal" href="#the-start-response-callable">The start_response() Callable</a> and <a class="reference internal" href="#error-handling">Error Handling</a>.
It is used only when the application has trapped an error and is
attempting to display an error message to the browser.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">start_response</span></code> callable must return a <code class="docutils literal notranslate"><span class="pre">write(body_data)</span></code>
callable that takes one positional parameter: a bytestring to be written
as part of the HTTP response body.  (Note: the <code class="docutils literal notranslate"><span class="pre">write()</span></code> callable is
provided only to support certain existing frameworks’ imperative output
APIs; it should not be used by new applications or frameworks if it
can be avoided.  See the <a class="reference internal" href="#buffering-and-streaming">Buffering and Streaming</a> section for more
details.)</p>
<p>When called by the server, the application object must return an
iterable yielding zero or more bytestrings.  This can be accomplished in a
variety of ways, such as by returning a list of bytestrings, or by the
application being a generator function that yields bytestrings, or
by the application being a class whose instances are iterable.
Regardless of how it is accomplished, the application object must
always return an iterable yielding zero or more bytestrings.</p>
<p>The server or gateway must transmit the yielded bytestrings to the client
in an unbuffered fashion, completing the transmission of each bytestring
before requesting another one.  (In other words, applications
<strong>should</strong> perform their own buffering.  See the <a class="reference internal" href="#buffering-and-streaming">Buffering and
Streaming</a> section below for more on how application output must be
handled.)</p>
<p>The server or gateway should treat the yielded bytestrings as binary byte
sequences: in particular, it should ensure that line endings are
not altered.  The application is responsible for ensuring that the
bytestring(s) to be written are in a format suitable for the client.  (The
server or gateway <strong>may</strong> apply HTTP transfer encodings, or perform
other transformations for the purpose of implementing HTTP features
such as byte-range transmission.  See <a class="reference internal" href="#other-http-features">Other HTTP Features</a>, below,
for more details.)</p>
<p>If a call to <code class="docutils literal notranslate"><span class="pre">len(iterable)</span></code> succeeds, the server must be able
to rely on the result being accurate.  That is, if the iterable
returned by the application provides a working <code class="docutils literal notranslate"><span class="pre">__len__()</span></code>
method, it <strong>must</strong> return an accurate result.  (See
the <a class="reference internal" href="#handling-the-content-length-header">Handling the Content-Length Header</a> section for information
on how this would normally be used.)</p>
<p>If the iterable returned by the application has a <code class="docutils literal notranslate"><span class="pre">close()</span></code> method,
the server or gateway <strong>must</strong> call that method upon completion of the
current request, whether the request was completed normally, or
terminated early due to an application error during iteration or an early
disconnect of the browser.  (The <code class="docutils literal notranslate"><span class="pre">close()</span></code> method requirement is to
support resource release by the application.  This protocol is intended
to complement <a class="reference external" href="pep-0342.html">PEP 342</a>’s generator support, and other common iterables
with <code class="docutils literal notranslate"><span class="pre">close()</span></code> methods.)</p>
<p>Applications returning a generator or other custom iterator <strong>should not</strong>
assume the entire iterator will be consumed, as it <strong>may</strong> be closed early
by the server.</p>
<p>(Note: the application <strong>must</strong> invoke the <code class="docutils literal notranslate"><span class="pre">start_response()</span></code>
callable before the iterable yields its first body bytestring, so that the
server can send the headers before any body content.  However, this
invocation <strong>may</strong> be performed by the iterable’s first iteration, so
servers <strong>must not</strong> assume that <code class="docutils literal notranslate"><span class="pre">start_response()</span></code> has been called
before they begin iterating over the iterable.)</p>
<p>Finally, servers and gateways <strong>must not</strong> directly use any other
attributes of the iterable returned by the application, unless it is an
instance of a type specific to that server or gateway, such as a “file
wrapper” returned by <code class="docutils literal notranslate"><span class="pre">wsgi.file_wrapper</span></code> (see <a class="reference internal" href="#optional-platform-specific-file-handling">Optional
Platform-Specific File Handling</a>).  In the general case, only
attributes specified here, or accessed via e.g. the <a class="reference external" href="pep-0234.html">PEP 234</a> iteration
APIs are acceptable.</p>
<section id="environ-variables">
<h3><a class="toc-backref" href="#id24"><code class="docutils literal notranslate"><span class="pre">environ</span></code> Variables</a><a class="headerlink" href="#environ-variables" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">environ</span></code> dictionary is required to contain these CGI
environment variables, as defined by the Common Gateway Interface
specification <a class="footnote-reference brackets" href="#id9" id="id4">2</a>.  The following variables <strong>must</strong> be present,
unless their value would be an empty string, in which case they
<strong>may</strong> be omitted, except as otherwise noted below.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">REQUEST_METHOD</span></code></dt><dd><p>The HTTP request method, such as <code class="docutils literal notranslate"><span class="pre">&quot;GET&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;POST&quot;</span></code>.  This
cannot ever be an empty string, and so is always required.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SCRIPT_NAME</span></code></dt><dd><p>The initial portion of the request URL’s “path” that corresponds to
the application object, so that the application knows its virtual
“location”.  This <strong>may</strong> be an empty string, if the application
corresponds to the “root” of the server.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">PATH_INFO</span></code></dt><dd><p>The remainder of the request URL’s “path”, designating the virtual
“location” of the request’s target within the application.  This
<strong>may</strong> be an empty string, if the request URL targets the
application root and does not have a trailing slash.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">QUERY_STRING</span></code></dt><dd><p>The portion of the request URL that follows the <code class="docutils literal notranslate"><span class="pre">&quot;?&quot;</span></code>, if any.
May be empty or absent.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CONTENT_TYPE</span></code></dt><dd><p>The contents of any <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> fields in the HTTP request.
May be empty or absent.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CONTENT_LENGTH</span></code></dt><dd><p>The contents of any <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> fields in the HTTP request.
May be empty or absent.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code>, <code class="docutils literal notranslate"><span class="pre">SERVER_PORT</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">HTTP_HOST</span></code> is not set, these variables can be combined to determine a
default.  See the <a class="reference internal" href="#url-reconstruction">URL Reconstruction</a> section below for more detail.
<code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> and <code class="docutils literal notranslate"><span class="pre">SERVER_PORT</span></code> are required strings and must never be
empty.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SERVER_PROTOCOL</span></code></dt><dd><p>The version of the protocol the client used to send the request.
Typically this will be something like <code class="docutils literal notranslate"><span class="pre">&quot;HTTP/1.0&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;HTTP/1.1&quot;</span></code>
and may be used by the application to determine how to treat any
HTTP request headers.  (This variable should probably be called
<code class="docutils literal notranslate"><span class="pre">REQUEST_PROTOCOL</span></code>, since it denotes the protocol used in the
request, and is not necessarily the protocol that will be used in the
server’s response.  However, for compatibility with CGI we have to
keep the existing name.)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">HTTP_</span></code> Variables</dt><dd><p>Variables corresponding to the client-supplied HTTP request headers
(i.e., variables whose names begin with <code class="docutils literal notranslate"><span class="pre">&quot;HTTP_&quot;</span></code>).  The presence or
absence of these variables should correspond with the presence or
absence of the appropriate HTTP header in the request.</p>
</dd>
</dl>
<p>A server or gateway <strong>should</strong> attempt to provide as many other CGI
variables as are applicable.  In addition, if SSL is in use, the server
or gateway <strong>should</strong> also provide as many of the Apache SSL environment
variables <a class="footnote-reference brackets" href="#id12" id="id5">5</a> as are applicable, such as <code class="docutils literal notranslate"><span class="pre">HTTPS=on</span></code> and
<code class="docutils literal notranslate"><span class="pre">SSL_PROTOCOL</span></code>.  Note, however, that an application that uses any CGI
variables other than the ones listed above are necessarily non-portable
to web servers that do not support the relevant extensions.  (For
example, web servers that do not publish files will not be able to
provide a meaningful <code class="docutils literal notranslate"><span class="pre">DOCUMENT_ROOT</span></code> or <code class="docutils literal notranslate"><span class="pre">PATH_TRANSLATED</span></code>.)</p>
<p>A WSGI-compliant server or gateway <strong>should</strong> document what variables
it provides, along with their definitions as appropriate.  Applications
<strong>should</strong> check for the presence of any variables they require, and
have a fallback plan in the event such a variable is absent.</p>
<p>Note: missing variables (such as <code class="docutils literal notranslate"><span class="pre">REMOTE_USER</span></code> when no
authentication has occurred) should be left out of the <code class="docutils literal notranslate"><span class="pre">environ</span></code>
dictionary.  Also note that CGI-defined variables must be native strings,
if they are present at all.  It is a violation of this specification
for <em>any</em> CGI variable’s value to be of any type other than <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<p>In addition to the CGI-defined variables, the <code class="docutils literal notranslate"><span class="pre">environ</span></code> dictionary
<strong>may</strong> also contain arbitrary operating-system “environment variables”,
and <strong>must</strong> contain the following WSGI-defined variables:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">wsgi.version</span></code></p></td>
<td><p>The tuple <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">0)</span></code>, representing WSGI
version 1.0.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">wsgi.url_scheme</span></code></p></td>
<td><p>A string representing the “scheme” portion of
the URL at which the application is being
invoked.  Normally, this will have the value
<code class="docutils literal notranslate"><span class="pre">&quot;http&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;https&quot;</span></code>, as appropriate.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">wsgi.input</span></code></p></td>
<td><p>An input stream (file-like object) from which
the HTTP request body bytes can be read.  (The server
or gateway may perform reads on-demand as
requested by the application, or it may pre-
read the client’s request body and buffer it
in-memory or on disk, or use any other
technique for providing such an input stream,
according to its preference.)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">wsgi.errors</span></code></p></td>
<td><p>An output stream (file-like object) to which
error output can be written, for the purpose of
recording program or other errors in a
standardized and possibly centralized location.
This should be a “text mode” stream; i.e.,
applications should use <code class="docutils literal notranslate"><span class="pre">&quot;\n&quot;</span></code> as a line
ending, and assume that it will be converted to
the correct line ending by the server/gateway.</p>
<p>(On platforms where the <code class="docutils literal notranslate"><span class="pre">str</span></code> type is unicode,
the error stream <strong>should</strong> accept and log
arbitrary unicode without raising an error; it
is allowed, however, to substitute characters
that cannot be rendered in the stream’s encoding.)</p>
<p>For many servers, <code class="docutils literal notranslate"><span class="pre">wsgi.errors</span></code> will be the
server’s main error log. Alternatively, this
may be <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code>, or a log file of some
sort.  The server’s documentation should
include an explanation of how to configure this
or where to find the recorded output.  A server
or gateway may supply different error streams
to different applications, if this is desired.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">wsgi.multithread</span></code></p></td>
<td><p>This value should evaluate true if the
application object may be simultaneously
invoked by another thread in the same process,
and should evaluate false otherwise.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">wsgi.multiprocess</span></code></p></td>
<td><p>This value should evaluate true if an
equivalent application object may be
simultaneously invoked by another process,
and should evaluate false otherwise.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">wsgi.run_once</span></code></p></td>
<td><p>This value should evaluate true if the server
or gateway expects (but does not guarantee!)
that the application will only be invoked this
one time during the life of its containing
process.  Normally, this will only be true for
a gateway based on CGI (or something similar).</p></td>
</tr>
</tbody>
</table>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">environ</span></code> dictionary may also contain server-defined
variables.  These variables should be named using only lower-case
letters, numbers, dots, and underscores, and should be prefixed with
a name that is unique to the defining server or gateway.  For
example, <code class="docutils literal notranslate"><span class="pre">mod_python</span></code> might define variables with names like
<code class="docutils literal notranslate"><span class="pre">mod_python.some_variable</span></code>.</p>
<section id="input-and-error-streams">
<h4><a class="toc-backref" href="#id25">Input and Error Streams</a><a class="headerlink" href="#input-and-error-streams" title="Permalink to this headline">¶</a></h4>
<p>The input and error streams provided by the server must support
the following methods:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 51%" />
<col style="width: 27%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Stream</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">read(size)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">input</span></code></p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">readline()</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">input</span></code></p></td>
<td><p>1, 2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">readlines(hint)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">input</span></code></p></td>
<td><p>1, 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">__iter__()</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">input</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">flush()</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">errors</span></code></p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">write(str)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">errors</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">writelines(seq)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">errors</span></code></p></td>
<td></td>
</tr>
</tbody>
</table>
<p>The semantics of each method are as documented in the Python Library
Reference, except for these notes as listed in the table above:</p>
<ol class="arabic">
<li><p>The server is not required to read past the client’s specified
<code class="docutils literal notranslate"><span class="pre">Content-Length</span></code>, and <strong>should</strong> simulate an end-of-file
condition if the application attempts to read past that point.
The application <strong>should not</strong> attempt to read more data than is
specified by the <code class="docutils literal notranslate"><span class="pre">CONTENT_LENGTH</span></code> variable.</p>
<p>A server <strong>should</strong> allow <code class="docutils literal notranslate"><span class="pre">read()</span></code> to be called without an argument,
and return the remainder of the client’s input stream.</p>
<p>A server <strong>should</strong> return empty bytestrings from any attempt to
read from an empty or exhausted input stream.</p>
</li>
<li><p>Servers <strong>should</strong> support the optional “size” argument to <code class="docutils literal notranslate"><span class="pre">readline()</span></code>,
but as in WSGI 1.0, they are allowed to omit support for it.</p>
<p>(In WSGI 1.0, the size argument was not supported, on the grounds that
it might have been complex to implement, and was not often used in
practice…  but then the <code class="docutils literal notranslate"><span class="pre">cgi</span></code> module started using it, and so
practical servers had to start supporting it anyway!)</p>
</li>
<li><p>Note that the <code class="docutils literal notranslate"><span class="pre">hint</span></code> argument to <code class="docutils literal notranslate"><span class="pre">readlines()</span></code> is optional for
both caller and implementer.  The application is free not to
supply it, and the server or gateway is free to ignore it.</p></li>
<li><p>Since the <code class="docutils literal notranslate"><span class="pre">errors</span></code> stream may not be rewound, servers and gateways
are free to forward write operations immediately, without buffering.
In this case, the <code class="docutils literal notranslate"><span class="pre">flush()</span></code> method may be a no-op.  Portable
applications, however, cannot assume that output is unbuffered
or that <code class="docutils literal notranslate"><span class="pre">flush()</span></code> is a no-op.  They must call <code class="docutils literal notranslate"><span class="pre">flush()</span></code> if
they need to ensure that output has in fact been written.  (For
example, to minimize intermingling of data from multiple processes
writing to the same error log.)</p></li>
</ol>
<p>The methods listed in the table above <strong>must</strong> be supported by all
servers conforming to this specification.  Applications conforming
to this specification <strong>must not</strong> use any other methods or attributes
of the <code class="docutils literal notranslate"><span class="pre">input</span></code> or <code class="docutils literal notranslate"><span class="pre">errors</span></code> objects.  In particular, applications
<strong>must not</strong> attempt to close these streams, even if they possess
<code class="docutils literal notranslate"><span class="pre">close()</span></code> methods.</p>
</section>
</section>
<section id="the-start-response-callable">
<h3><a class="toc-backref" href="#id26">The <code class="docutils literal notranslate"><span class="pre">start_response()</span></code> Callable</a><a class="headerlink" href="#the-start-response-callable" title="Permalink to this headline">¶</a></h3>
<p>The second parameter passed to the application object is a callable
of the form <code class="docutils literal notranslate"><span class="pre">start_response(status,</span> <span class="pre">response_headers,</span> <span class="pre">exc_info=None)</span></code>.
(As with all WSGI callables, the arguments must be supplied
positionally, not by keyword.)  The <code class="docutils literal notranslate"><span class="pre">start_response</span></code> callable is
used to begin the HTTP response, and it must return a
<code class="docutils literal notranslate"><span class="pre">write(body_data)</span></code> callable (see the <a class="reference internal" href="#buffering-and-streaming">Buffering and Streaming</a>
section, below).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">status</span></code> argument is an HTTP “status” string like <code class="docutils literal notranslate"><span class="pre">&quot;200</span> <span class="pre">OK&quot;</span></code>
or <code class="docutils literal notranslate"><span class="pre">&quot;404</span> <span class="pre">Not</span> <span class="pre">Found&quot;</span></code>.  That is, it is a string consisting of a
Status-Code and a Reason-Phrase, in that order and separated by a
single space, with no surrounding whitespace or other characters.
(See <a class="reference external" href="https://tools.ietf.org/html/rfc2616.html">RFC 2616</a>, Section 6.1.1 for more information.)  The string
<strong>must not</strong> contain control characters, and must not be terminated
with a carriage return, linefeed, or combination thereof.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">response_headers</span></code> argument is a list of <code class="docutils literal notranslate"><span class="pre">(header_name,</span>
<span class="pre">header_value)</span></code> tuples.  It must be a Python list; i.e.
<code class="docutils literal notranslate"><span class="pre">type(response_headers)</span> <span class="pre">is</span> <span class="pre">ListType</span></code>, and the server <strong>may</strong> change
its contents in any way it desires.  Each <code class="docutils literal notranslate"><span class="pre">header_name</span></code> must be a
valid HTTP header field-name (as defined by <a class="reference external" href="https://tools.ietf.org/html/rfc2616.html">RFC 2616</a>, Section 4.2),
without a trailing colon or other punctuation.</p>
<p>Each <code class="docutils literal notranslate"><span class="pre">header_value</span></code> <strong>must not</strong> include <em>any</em> control characters,
including carriage returns or linefeeds, either embedded or at the end.
(These requirements are to minimize the complexity of any parsing that
must be performed by servers, gateways, and intermediate response
processors that need to inspect or modify response headers.)</p>
<p>In general, the server or gateway is responsible for ensuring that
correct headers are sent to the client: if the application omits
a header required by HTTP (or other relevant specifications that are in
effect), the server or gateway <strong>must</strong> add it.  For example, the HTTP
<code class="docutils literal notranslate"><span class="pre">Date:</span></code> and <code class="docutils literal notranslate"><span class="pre">Server:</span></code> headers would normally be supplied by the
server or gateway.</p>
<p>(A reminder for server/gateway authors: HTTP header names are
case-insensitive, so be sure to take that into consideration when
examining application-supplied headers!)</p>
<p>Applications and middleware are forbidden from using HTTP/1.1
“hop-by-hop” features or headers, any equivalent features in HTTP/1.0,
or any headers that would affect the persistence of the client’s
connection to the web server.  These features are the
exclusive province of the actual web server, and a server or gateway
<strong>should</strong> consider it a fatal error for an application to attempt
sending them, and raise an error if they are supplied to
<code class="docutils literal notranslate"><span class="pre">start_response()</span></code>.  (For more specifics on “hop-by-hop” features and
headers, please see the <a class="reference internal" href="#other-http-features">Other HTTP Features</a> section below.)</p>
<p>Servers <strong>should</strong> check for errors in the headers at the time
<code class="docutils literal notranslate"><span class="pre">start_response</span></code> is called, so that an error can be raised while
the application is still running.</p>
<p>However, the <code class="docutils literal notranslate"><span class="pre">start_response</span></code> callable <strong>must not</strong> actually transmit the
response headers.  Instead, it must store them for the server or
gateway to transmit <strong>only</strong> after the first iteration of the
application return value that yields a non-empty bytestring, or upon
the application’s first invocation of the <code class="docutils literal notranslate"><span class="pre">write()</span></code> callable.  In
other words, response headers must not be sent until there is actual
body data available, or until the application’s returned iterable is
exhausted.  (The only possible exception to this rule is if the
response headers explicitly include a <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> of zero.)</p>
<p>This delaying of response header transmission is to ensure that buffered
and asynchronous applications can replace their originally intended
output with error output, up until the last possible moment.  For
example, the application may need to change the response status from
“200 OK” to “500 Internal Error”, if an error occurs while the body is
being generated within an application buffer.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> argument, if supplied, must be a Python
<code class="docutils literal notranslate"><span class="pre">sys.exc_info()</span></code> tuple.  This argument should be supplied by the
application only if <code class="docutils literal notranslate"><span class="pre">start_response</span></code> is being called by an error
handler.  If <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> is supplied, and no HTTP headers have been
output yet, <code class="docutils literal notranslate"><span class="pre">start_response</span></code> should replace the currently-stored
HTTP response headers with the newly-supplied ones, thus allowing the
application to “change its mind” about the output when an error has
occurred.</p>
<p>However, if <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> is provided, and the HTTP headers have already
been sent, <code class="docutils literal notranslate"><span class="pre">start_response</span></code> <strong>must</strong> raise an error, and <strong>should</strong>
re-raise using the <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> tuple.  That is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">raise</span> <span class="n">exc_info</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">exc_info</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>This will re-raise the exception trapped by the application, and in
principle should abort the application.  (It is not safe for the
application to attempt error output to the browser once the HTTP
headers have already been sent.)  The application <strong>must not</strong> trap
any exceptions raised by <code class="docutils literal notranslate"><span class="pre">start_response</span></code>, if it called
<code class="docutils literal notranslate"><span class="pre">start_response</span></code> with <code class="docutils literal notranslate"><span class="pre">exc_info</span></code>.  Instead, it should allow
such exceptions to propagate back to the server or gateway.  See
<a class="reference internal" href="#error-handling">Error Handling</a> below, for more details.</p>
<p>The application <strong>may</strong> call <code class="docutils literal notranslate"><span class="pre">start_response</span></code> more than once, if and
only if the <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> argument is provided.  More precisely, it is
a fatal error to call <code class="docutils literal notranslate"><span class="pre">start_response</span></code> without the <code class="docutils literal notranslate"><span class="pre">exc_info</span></code>
argument if <code class="docutils literal notranslate"><span class="pre">start_response</span></code> has already been called within the
current invocation of the application.  This includes the case where
the first call to <code class="docutils literal notranslate"><span class="pre">start_response</span></code> raised an error.  (See the example
CGI gateway above for an illustration of the correct logic.)</p>
<p>Note: servers, gateways, or middleware implementing <code class="docutils literal notranslate"><span class="pre">start_response</span></code>
<strong>should</strong> ensure that no reference is held to the <code class="docutils literal notranslate"><span class="pre">exc_info</span></code>
parameter beyond the duration of the function’s execution, to avoid
creating a circular reference through the traceback and frames
involved.  The simplest way to do this is something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">start_response</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">response_headers</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">exc_info</span><span class="p">:</span>
         <span class="k">try</span><span class="p">:</span>
             <span class="c1"># do stuff w/exc_info here</span>
         <span class="k">finally</span><span class="p">:</span>
             <span class="n">exc_info</span> <span class="o">=</span> <span class="kc">None</span>    <span class="c1"># Avoid circular ref.</span>
</pre></div>
</div>
<p>The example CGI gateway provides another illustration of this
technique.</p>
<section id="handling-the-content-length-header">
<h4><a class="toc-backref" href="#id27">Handling the <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> Header</a><a class="headerlink" href="#handling-the-content-length-header" title="Permalink to this headline">¶</a></h4>
<p>If the application supplies a <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> header, the server
<strong>should not</strong> transmit more bytes to the client than the header
allows, and <strong>should</strong> stop iterating over the response when enough
data has been sent, or raise an error if the application tries to
<code class="docutils literal notranslate"><span class="pre">write()</span></code> past that point.  (Of course, if the application does
not provide <em>enough</em> data to meet its stated <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code>,
the server <strong>should</strong> close the connection and log or otherwise
report the error.)</p>
<p>If the application does not supply a <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> header, a
server or gateway may choose one of several approaches to handling
it.  The simplest of these is to close the client connection when
the response is completed.</p>
<p>Under some circumstances, however, the server or gateway may be
able to either generate a <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> header, or at least
avoid the need to close the client connection.  If the application
does <em>not</em> call the <code class="docutils literal notranslate"><span class="pre">write()</span></code> callable, and returns an iterable
whose <code class="docutils literal notranslate"><span class="pre">len()</span></code> is 1, then the server can automatically determine
<code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> by taking the length of the first bytestring yielded
by the iterable.</p>
<p>And, if the server and client both support HTTP/1.1 “chunked
encoding” <a class="footnote-reference brackets" href="#id10" id="id6">3</a>, then the server <strong>may</strong> use chunked encoding to send
a chunk for each <code class="docutils literal notranslate"><span class="pre">write()</span></code> call or bytestring yielded by the iterable,
thus generating a <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> header for each chunk.  This
allows the server to keep the client connection alive, if it wishes
to do so.  Note that the server <strong>must</strong> comply fully with <a class="reference external" href="https://tools.ietf.org/html/rfc2616.html">RFC 2616</a>
when doing this, or else fall back to one of the other strategies for
dealing with the absence of <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code>.</p>
<p>(Note: applications and middleware <strong>must not</strong> apply any kind of
<code class="docutils literal notranslate"><span class="pre">Transfer-Encoding</span></code> to their output, such as chunking or gzipping;
as “hop-by-hop” operations, these encodings are the province of the
actual web server/gateway.  See <a class="reference internal" href="#other-http-features">Other HTTP Features</a> below, for
more details.)</p>
</section>
</section>
<section id="buffering-and-streaming">
<h3><a class="toc-backref" href="#id28">Buffering and Streaming</a><a class="headerlink" href="#buffering-and-streaming" title="Permalink to this headline">¶</a></h3>
<p>Generally speaking, applications will achieve the best throughput
by buffering their (modestly-sized) output and sending it all at
once.  This is a common approach in existing frameworks such as
Zope: the output is buffered in a StringIO or similar object, then
transmitted all at once, along with the response headers.</p>
<p>The corresponding approach in WSGI is for the application to simply
return a single-element iterable (such as a list) containing the
response body as a single bytestring.  This is the recommended approach
for the vast majority of application functions, that render
HTML pages whose text easily fits in memory.</p>
<p>For large files, however, or for specialized uses of HTTP streaming
(such as multipart “server push”), an application may need to provide
output in smaller blocks (e.g. to avoid loading a large file into
memory).  It’s also sometimes the case that part of a response may
be time-consuming to produce, but it would be useful to send ahead the
portion of the response that precedes it.</p>
<p>In these cases, applications will usually return an iterator (often
a generator-iterator) that produces the output in a block-by-block
fashion.  These blocks may be broken to coincide with multipart
boundaries (for “server push”), or just before time-consuming
tasks (such as reading another block of an on-disk file).</p>
<p>WSGI servers, gateways, and middleware <strong>must not</strong> delay the
transmission of any block; they <strong>must</strong> either fully transmit
the block to the client, or guarantee that they will continue
transmission even while the application is producing its next block.
A server/gateway or middleware may provide this guarantee in one of
three ways:</p>
<ol class="arabic simple">
<li><p>Send the entire block to the operating system (and request
that any O/S buffers be flushed) before returning control
to the application, OR</p></li>
<li><p>Use a different thread to ensure that the block continues
to be transmitted while the application produces the next
block.</p></li>
<li><p>(Middleware only) send the entire block to its parent
gateway/server</p></li>
</ol>
<p>By providing this guarantee, WSGI allows applications to ensure
that transmission will not become stalled at an arbitrary point
in their output data.  This is critical for proper functioning
of e.g. multipart “server push” streaming, where data between
multipart boundaries should be transmitted in full to the client.</p>
<section id="middleware-handling-of-block-boundaries">
<h4><a class="toc-backref" href="#id29">Middleware Handling of Block Boundaries</a><a class="headerlink" href="#middleware-handling-of-block-boundaries" title="Permalink to this headline">¶</a></h4>
<p>In order to better support asynchronous applications and servers,
middleware components <strong>must not</strong> block iteration waiting for
multiple values from an application iterable.  If the middleware
needs to accumulate more data from the application before it can
produce any output, it <strong>must</strong> yield an empty bytestring.</p>
<p>To put this requirement another way, a middleware component <strong>must
yield at least one value</strong> each time its underlying application
yields a value.  If the middleware cannot yield any other value,
it must yield an empty bytestring.</p>
<p>This requirement ensures that asynchronous applications and servers
can conspire to reduce the number of threads that are required
to run a given number of application instances simultaneously.</p>
<p>Note also that this requirement means that middleware <strong>must</strong>
return an iterable as soon as its underlying application returns
an iterable.  It is also forbidden for middleware to use the
<code class="docutils literal notranslate"><span class="pre">write()</span></code> callable to transmit data that is yielded by an
underlying application.  Middleware may only use their parent
server’s <code class="docutils literal notranslate"><span class="pre">write()</span></code> callable to transmit data that the
underlying application sent using a middleware-provided <code class="docutils literal notranslate"><span class="pre">write()</span></code>
callable.</p>
</section>
<section id="the-write-callable">
<h4><a class="toc-backref" href="#id30">The <code class="docutils literal notranslate"><span class="pre">write()</span></code> Callable</a><a class="headerlink" href="#the-write-callable" title="Permalink to this headline">¶</a></h4>
<p>Some existing application framework APIs support unbuffered
output in a different manner than WSGI.  Specifically, they
provide a “write” function or method of some kind to write
an unbuffered block of data, or else they provide a buffered
“write” function and a “flush” mechanism to flush the buffer.</p>
<p>Unfortunately, such APIs cannot be implemented in terms of
WSGI’s “iterable” application return value, unless threads
or other special mechanisms are used.</p>
<p>Therefore, to allow these frameworks to continue using an
imperative API, WSGI includes a special <code class="docutils literal notranslate"><span class="pre">write()</span></code> callable,
returned by the <code class="docutils literal notranslate"><span class="pre">start_response</span></code> callable.</p>
<p>New WSGI applications and frameworks <strong>should not</strong> use the
<code class="docutils literal notranslate"><span class="pre">write()</span></code> callable if it is possible to avoid doing so.  The
<code class="docutils literal notranslate"><span class="pre">write()</span></code> callable is strictly a hack to support imperative
streaming APIs.  In general, applications should produce their
output via their returned iterable, as this makes it possible
for web servers to interleave other tasks in the same Python thread,
potentially providing better throughput for the server as a whole.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">write()</span></code> callable is returned by the <code class="docutils literal notranslate"><span class="pre">start_response()</span></code>
callable, and it accepts a single parameter:  a bytestring to be
written as part of the HTTP response body, that is treated exactly
as though it had been yielded by the output iterable.  In other
words, before <code class="docutils literal notranslate"><span class="pre">write()</span></code> returns, it must guarantee that the
passed-in bytestring was either completely sent to the client, or
that it is buffered for transmission while the application
proceeds onward.</p>
<p>An application <strong>must</strong> return an iterable object, even if it
uses <code class="docutils literal notranslate"><span class="pre">write()</span></code> to produce all or part of its response body.
The returned iterable <strong>may</strong> be empty (i.e. yield no non-empty
bytestrings), but if it <em>does</em> yield non-empty bytestrings, that output
must be treated normally by the server or gateway (i.e., it must be
sent or queued immediately).  Applications <strong>must not</strong> invoke
<code class="docutils literal notranslate"><span class="pre">write()</span></code> from within their return iterable, and therefore any
bytestrings yielded by the iterable are transmitted after all bytestrings
passed to <code class="docutils literal notranslate"><span class="pre">write()</span></code> have been sent to the client.</p>
</section>
</section>
<section id="unicode-issues">
<h3><a class="toc-backref" href="#id31">Unicode Issues</a><a class="headerlink" href="#unicode-issues" title="Permalink to this headline">¶</a></h3>
<p>HTTP does not directly support Unicode, and neither does this
interface.  All encoding/decoding must be handled by the application;
all strings passed to or from the server must be of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or
<code class="docutils literal notranslate"><span class="pre">bytes</span></code>, never <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.  The result of using a <code class="docutils literal notranslate"><span class="pre">unicode</span></code>
object where a string object is required, is undefined.</p>
<p>Note also that strings passed to <code class="docutils literal notranslate"><span class="pre">start_response()</span></code> as a status or
as response headers <strong>must</strong> follow <a class="reference external" href="https://tools.ietf.org/html/rfc2616.html">RFC 2616</a> with respect to encoding.
That is, they must either be ISO-8859-1 characters, or use <a class="reference external" href="https://tools.ietf.org/html/rfc2047.html">RFC 2047</a>
MIME encoding.</p>
<p>On Python platforms where the <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">StringType</span></code> type is in
fact Unicode-based (e.g. Jython, IronPython, Python 3, etc.), all
“strings” referred to in this specification must contain only
code points representable in ISO-8859-1 encoding (<code class="docutils literal notranslate"><span class="pre">\u0000</span></code> through
<code class="docutils literal notranslate"><span class="pre">\u00FF</span></code>, inclusive).  It is a fatal error for an application to
supply strings containing any other Unicode character or code point.
Similarly, servers and gateways <strong>must not</strong> supply
strings to an application containing any other Unicode characters.</p>
<p>Again, all objects referred to in this specification as “strings”
<strong>must</strong> be of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">StringType</span></code>, and <strong>must not</strong> be
of type <code class="docutils literal notranslate"><span class="pre">unicode</span></code> or <code class="docutils literal notranslate"><span class="pre">UnicodeType</span></code>.  And, even if a given platform
allows for more than 8 bits per character in <code class="docutils literal notranslate"><span class="pre">str</span></code>/<code class="docutils literal notranslate"><span class="pre">StringType</span></code>
objects, only the lower 8 bits may be used, for any value referred
to in this specification as a “string”.</p>
<p>For values referred to in this specification as “bytestrings”
(i.e., values read from <code class="docutils literal notranslate"><span class="pre">wsgi.input</span></code>, passed to <code class="docutils literal notranslate"><span class="pre">write()</span></code>
or yielded by the application), the value <strong>must</strong> be of type
<code class="docutils literal notranslate"><span class="pre">bytes</span></code> under Python 3, and <code class="docutils literal notranslate"><span class="pre">str</span></code> in earlier versions of
Python.</p>
</section>
<section id="error-handling">
<h3><a class="toc-backref" href="#id32">Error Handling</a><a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h3>
<p>In general, applications <strong>should</strong> try to trap their own, internal
errors, and display a helpful message in the browser.  (It is up
to the application to decide what “helpful” means in this context.)</p>
<p>However, to display such a message, the application must not have
actually sent any data to the browser yet, or else it risks corrupting
the response.  WSGI therefore provides a mechanism to either allow the
application to send its error message, or be automatically aborted:
the <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> argument to <code class="docutils literal notranslate"><span class="pre">start_response</span></code>.  Here is an example
of its use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># regular application code here</span>
    <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;200 Froody&quot;</span>
    <span class="n">response_headers</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;content-type&quot;</span><span class="p">,</span> <span class="s2">&quot;text/plain&quot;</span><span class="p">)]</span>
    <span class="n">start_response</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">response_headers</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;normal body goes here&quot;</span><span class="p">]</span>
<span class="k">except</span><span class="p">:</span>
    <span class="c1"># XXX should trap runtime issues like MemoryError, KeyboardInterrupt</span>
    <span class="c1">#     in a separate handler before this bare &#39;except:&#39;...</span>
    <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;500 Oops&quot;</span>
    <span class="n">response_headers</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;content-type&quot;</span><span class="p">,</span> <span class="s2">&quot;text/plain&quot;</span><span class="p">)]</span>
    <span class="n">start_response</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">response_headers</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">())</span>
    <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;error body goes here&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>If no output has been written when an exception occurs, the call to
<code class="docutils literal notranslate"><span class="pre">start_response</span></code> will return normally, and the application will
return an error body to be sent to the browser.  However, if any output
has already been sent to the browser, <code class="docutils literal notranslate"><span class="pre">start_response</span></code> will reraise
the provided exception.  This exception <strong>should not</strong> be trapped by
the application, and so the application will abort.  The server or
gateway can then trap this (fatal) exception and abort the response.</p>
<p>Servers <strong>should</strong> trap and log any exception that aborts an
application or the iteration of its return value.  If a partial
response has already been written to the browser when an application
error occurs, the server or gateway <strong>may</strong> attempt to add an error
message to the output, if the already-sent headers indicate a
<code class="docutils literal notranslate"><span class="pre">text/*</span></code> content type that the server knows how to modify cleanly.</p>
<p>Some middleware may wish to provide additional exception handling
services, or intercept and replace application error messages.  In
such cases, middleware may choose to <strong>not</strong> re-raise the <code class="docutils literal notranslate"><span class="pre">exc_info</span></code>
supplied to <code class="docutils literal notranslate"><span class="pre">start_response</span></code>, but instead raise a middleware-specific
exception, or simply return without an exception after storing the
supplied arguments.  This will then cause the application to return
its error body iterable (or invoke <code class="docutils literal notranslate"><span class="pre">write()</span></code>), allowing the middleware
to capture and modify the error output.  These techniques will work as
long as application authors:</p>
<ol class="arabic simple">
<li><p>Always provide <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> when beginning an error response</p></li>
<li><p>Never trap errors raised by <code class="docutils literal notranslate"><span class="pre">start_response</span></code> when <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> is
being provided</p></li>
</ol>
</section>
<section id="http-1-1-expect-continue">
<h3><a class="toc-backref" href="#id33">HTTP 1.1 Expect/Continue</a><a class="headerlink" href="#http-1-1-expect-continue" title="Permalink to this headline">¶</a></h3>
<p>Servers and gateways that implement HTTP 1.1 <strong>must</strong> provide
transparent support for HTTP 1.1’s “expect/continue” mechanism.  This
may be done in any of several ways:</p>
<ol class="arabic simple">
<li><p>Respond to requests containing an <code class="docutils literal notranslate"><span class="pre">Expect:</span> <span class="pre">100-continue</span></code> request
with an immediate “100 Continue” response, and proceed normally.</p></li>
<li><p>Proceed with the request normally, but provide the application
with a <code class="docutils literal notranslate"><span class="pre">wsgi.input</span></code> stream that will send the “100 Continue”
response if/when the application first attempts to read from the
input stream.  The read request must then remain blocked until the
client responds.</p></li>
<li><p>Wait until the client decides that the server does not support
expect/continue, and sends the request body on its own.  (This
is suboptimal, and is not recommended.)</p></li>
</ol>
<p>Note that these behavior restrictions do not apply for HTTP 1.0
requests, or for requests that are not directed to an application
object.  For more information on HTTP 1.1 Expect/Continue, see <a class="reference external" href="https://tools.ietf.org/html/rfc2616.html">RFC
2616</a>, sections 8.2.3 and 10.1.1.</p>
</section>
<section id="other-http-features">
<h3><a class="toc-backref" href="#id34">Other HTTP Features</a><a class="headerlink" href="#other-http-features" title="Permalink to this headline">¶</a></h3>
<p>In general, servers and gateways should “play dumb” and allow the
application complete control over its output.  They should only make
changes that do not alter the effective semantics of the application’s
response.  It is always possible for the application developer to add
middleware components to supply additional features, so server/gateway
developers should be conservative in their implementation.  In a sense,
a server should consider itself to be like an HTTP “gateway server”,
with the application being an HTTP “origin server”.  (See <a class="reference external" href="https://tools.ietf.org/html/rfc2616.html">RFC 2616</a>,
section 1.3, for the definition of these terms.)</p>
<p>However, because WSGI servers and applications do not communicate via
HTTP, what <a class="reference external" href="https://tools.ietf.org/html/rfc2616.html">RFC 2616</a> calls “hop-by-hop” headers do not apply to WSGI
internal communications.  WSGI applications <strong>must not</strong> generate any
“hop-by-hop” headers <a class="footnote-reference brackets" href="#id11" id="id7">4</a>, attempt to use HTTP features that would
require them to generate such headers, or rely on the content of
any incoming “hop-by-hop” headers in the <code class="docutils literal notranslate"><span class="pre">environ</span></code> dictionary.
WSGI servers <strong>must</strong> handle any supported inbound “hop-by-hop” headers
on their own, such as by decoding any inbound <code class="docutils literal notranslate"><span class="pre">Transfer-Encoding</span></code>,
including chunked encoding if applicable.</p>
<p>Applying these principles to a variety of HTTP features, it should be
clear that a server <strong>may</strong> handle cache validation via the
<code class="docutils literal notranslate"><span class="pre">If-None-Match</span></code> and <code class="docutils literal notranslate"><span class="pre">If-Modified-Since</span></code> request headers and the
<code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code> and <code class="docutils literal notranslate"><span class="pre">ETag</span></code> response headers.  However, it is
not required to do this, and the application <strong>should</strong> perform its
own cache validation if it wants to support that feature, since
the server/gateway is not required to do such validation.</p>
<p>Similarly, a server <strong>may</strong> re-encode or transport-encode an
application’s response, but the application <strong>should</strong> use a
suitable content encoding on its own, and <strong>must not</strong> apply a
transport encoding.  A server <strong>may</strong> transmit byte ranges of the
application’s response if requested by the client, and the
application doesn’t natively support byte ranges.  Again, however,
the application <strong>should</strong> perform this function on its own if desired.</p>
<p>Note that these restrictions on applications do not necessarily mean
that every application must reimplement every HTTP feature; many HTTP
features can be partially or fully implemented by middleware
components, thus freeing both server and application authors from
implementing the same features over and over again.</p>
</section>
<section id="thread-support">
<h3><a class="toc-backref" href="#id35">Thread Support</a><a class="headerlink" href="#thread-support" title="Permalink to this headline">¶</a></h3>
<p>Thread support, or lack thereof, is also server-dependent.
Servers that can run multiple requests in parallel, <strong>should</strong> also
provide the option of running an application in a single-threaded
fashion, so that applications or frameworks that are not thread-safe
may still be used with that server.</p>
</section>
</section>
<section id="implementation-application-notes">
<h2><a class="toc-backref" href="#id36">Implementation/Application Notes</a><a class="headerlink" href="#implementation-application-notes" title="Permalink to this headline">¶</a></h2>
<section id="server-extension-apis">
<h3><a class="toc-backref" href="#id37">Server Extension APIs</a><a class="headerlink" href="#server-extension-apis" title="Permalink to this headline">¶</a></h3>
<p>Some server authors may wish to expose more advanced APIs, that
application or framework authors can use for specialized purposes.
For example, a gateway based on <code class="docutils literal notranslate"><span class="pre">mod_python</span></code> might wish to expose
part of the Apache API as a WSGI extension.</p>
<p>In the simplest case, this requires nothing more than defining an
<code class="docutils literal notranslate"><span class="pre">environ</span></code> variable, such as <code class="docutils literal notranslate"><span class="pre">mod_python.some_api</span></code>.  But, in many
cases, the possible presence of middleware can make this difficult.
For example, an API that offers access to the same HTTP headers that
are found in <code class="docutils literal notranslate"><span class="pre">environ</span></code> variables, might return different data if
<code class="docutils literal notranslate"><span class="pre">environ</span></code> has been modified by middleware.</p>
<p>In general, any extension API that duplicates, supplants, or bypasses
some portion of WSGI functionality runs the risk of being incompatible
with middleware components.  Server/gateway developers should <em>not</em>
assume that nobody will use middleware, because some framework
developers specifically intend to organize or reorganize their
frameworks to function almost entirely as middleware of various kinds.</p>
<p>So, to provide maximum compatibility, servers and gateways that
provide extension APIs that replace some WSGI functionality, <strong>must</strong>
design those APIs so that they are invoked using the portion of the
API that they replace.  For example, an extension API to access HTTP
request headers must require the application to pass in its current
<code class="docutils literal notranslate"><span class="pre">environ</span></code>, so that the server/gateway may verify that HTTP headers
accessible via the API have not been altered by middleware.  If the
extension API cannot guarantee that it will always agree with
<code class="docutils literal notranslate"><span class="pre">environ</span></code> about the contents of HTTP headers, it must refuse service
to the application, e.g. by raising an error, returning <code class="docutils literal notranslate"><span class="pre">None</span></code>
instead of a header collection, or whatever is appropriate to the API.</p>
<p>Similarly, if an extension API provides an alternate means of writing
response data or headers, it should require the <code class="docutils literal notranslate"><span class="pre">start_response</span></code>
callable to be passed in, before the application can obtain the
extended service.  If the object passed in is not the same one that
the server/gateway originally supplied to the application, it cannot
guarantee correct operation and must refuse to provide the extended
service to the application.</p>
<p>These guidelines also apply to middleware that adds information such
as parsed cookies, form variables, sessions, and the like to
<code class="docutils literal notranslate"><span class="pre">environ</span></code>.  Specifically, such middleware should provide these
features as functions which operate on <code class="docutils literal notranslate"><span class="pre">environ</span></code>, rather than simply
stuffing values into <code class="docutils literal notranslate"><span class="pre">environ</span></code>.  This helps ensure that information
is calculated from <code class="docutils literal notranslate"><span class="pre">environ</span></code> <em>after</em> any middleware has done any URL
rewrites or other <code class="docutils literal notranslate"><span class="pre">environ</span></code> modifications.</p>
<p>It is very important that these “safe extension” rules be followed by
both server/gateway and middleware developers, in order to avoid a
future in which middleware developers are forced to delete any and all
extension APIs from <code class="docutils literal notranslate"><span class="pre">environ</span></code> to ensure that their mediation isn’t
being bypassed by applications using those extensions!</p>
</section>
<section id="application-configuration">
<h3><a class="toc-backref" href="#id38">Application Configuration</a><a class="headerlink" href="#application-configuration" title="Permalink to this headline">¶</a></h3>
<p>This specification does not define how a server selects or obtains an
application to invoke.  These and other configuration options are
highly server-specific matters.  It is expected that server/gateway
authors will document how to configure the server to execute a
particular application object, and with what options (such as
threading options).</p>
<p>Framework authors, on the other hand, should document how to create an
application object that wraps their framework’s functionality.  The
user, who has chosen both the server and the application framework,
must connect the two together.  However, since both the framework and
the server now have a common interface, this should be merely a
mechanical matter, rather than a significant engineering effort for
each new server/framework pair.</p>
<p>Finally, some applications, frameworks, and middleware may wish to
use the <code class="docutils literal notranslate"><span class="pre">environ</span></code> dictionary to receive simple string configuration
options.  Servers and gateways <strong>should</strong> support this by allowing
an application’s deployer to specify name-value pairs to be placed in
<code class="docutils literal notranslate"><span class="pre">environ</span></code>.  In the simplest case, this support can consist merely of
copying all operating system-supplied environment variables from
<code class="docutils literal notranslate"><span class="pre">os.environ</span></code> into the <code class="docutils literal notranslate"><span class="pre">environ</span></code> dictionary, since the deployer in
principle can configure these externally to the server, or in the
CGI case they may be able to be set via the server’s configuration
files.</p>
<p>Applications <strong>should</strong> try to keep such required variables to a
minimum, since not all servers will support easy configuration of
them.  Of course, even in the worst case, persons deploying an
application can create a script to supply the necessary configuration
values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">the_app</span> <span class="kn">import</span> <span class="n">application</span>

<span class="k">def</span> <span class="nf">new_app</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
    <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;the_app.configval1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;something&#39;</span>
    <span class="k">return</span> <span class="n">application</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">)</span>
</pre></div>
</div>
<p>But, most existing applications and frameworks will probably only need
a single configuration value from <code class="docutils literal notranslate"><span class="pre">environ</span></code>, to indicate the location
of their application or framework-specific configuration file(s).  (Of
course, applications should cache such configuration, to avoid having
to re-read it upon each invocation.)</p>
</section>
<section id="url-reconstruction">
<h3><a class="toc-backref" href="#id39">URL Reconstruction</a><a class="headerlink" href="#url-reconstruction" title="Permalink to this headline">¶</a></h3>
<p>If an application wishes to reconstruct a request’s complete URL, it
may do so using the following algorithm, contributed by Ian Bicking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">quote</span>
<span class="n">url</span> <span class="o">=</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.url_scheme&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;://&#39;</span>

<span class="k">if</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;HTTP_HOST&#39;</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">+=</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HTTP_HOST&#39;</span><span class="p">]</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">url</span> <span class="o">+=</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SERVER_NAME&#39;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.url_scheme&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;https&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SERVER_PORT&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;443&#39;</span><span class="p">:</span>
           <span class="n">url</span> <span class="o">+=</span> <span class="s1">&#39;:&#39;</span> <span class="o">+</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SERVER_PORT&#39;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SERVER_PORT&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;80&#39;</span><span class="p">:</span>
           <span class="n">url</span> <span class="o">+=</span> <span class="s1">&#39;:&#39;</span> <span class="o">+</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SERVER_PORT&#39;</span><span class="p">]</span>

<span class="n">url</span> <span class="o">+=</span> <span class="n">quote</span><span class="p">(</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;SCRIPT_NAME&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
<span class="n">url</span> <span class="o">+=</span> <span class="n">quote</span><span class="p">(</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;PATH_INFO&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
<span class="k">if</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;QUERY_STRING&#39;</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">+=</span> <span class="s1">&#39;?&#39;</span> <span class="o">+</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;QUERY_STRING&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that such a reconstructed URL may not be precisely the same URI
as requested by the client.  Server rewrite rules, for example, may
have modified the client’s originally requested URL to place it in a
canonical form.</p>
</section>
<section id="supporting-older-2-2-versions-of-python">
<h3><a class="toc-backref" href="#id40">Supporting Older (&lt;2.2) Versions of Python</a><a class="headerlink" href="#supporting-older-2-2-versions-of-python" title="Permalink to this headline">¶</a></h3>
<p>Some servers, gateways, or applications may wish to support older
(&lt;2.2) versions of Python.  This is especially important if Jython
is a target platform, since as of this writing a production-ready
version of Jython 2.2 is not yet available.</p>
<p>For servers and gateways, this is relatively straightforward:
servers and gateways targeting pre-2.2 versions of Python must
simply restrict themselves to using only a standard “for” loop to
iterate over any iterable returned by an application.  This is the
only way to ensure source-level compatibility with both the pre-2.2
iterator protocol (discussed further below) and “today’s” iterator
protocol (see <a class="reference external" href="pep-0234.html">PEP 234</a>).</p>
<p>(Note that this technique necessarily applies only to servers,
gateways, or middleware that are written in Python.  Discussion of
how to use iterator protocol(s) correctly from other languages is
outside the scope of this PEP.)</p>
<p>For applications, supporting pre-2.2 versions of Python is slightly
more complex:</p>
<ul class="simple">
<li><p>You may not return a file object and expect it to work as an iterable,
since before Python 2.2, files were not iterable.  (In general, you
shouldn’t do this anyway, because it will perform quite poorly most
of the time!)  Use <code class="docutils literal notranslate"><span class="pre">wsgi.file_wrapper</span></code> or an application-specific
file wrapper class.  (See <a class="reference internal" href="#optional-platform-specific-file-handling">Optional Platform-Specific File Handling</a>
for more on <code class="docutils literal notranslate"><span class="pre">wsgi.file_wrapper</span></code>, and an example class you can use
to wrap a file as an iterable.)</p></li>
<li><p>If you return a custom iterable, it <strong>must</strong> implement the pre-2.2
iterator protocol.  That is, provide a <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> method that
accepts an integer key, and raises <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> when exhausted.
(Note that built-in sequence types are also acceptable, since they
also implement this protocol.)</p></li>
</ul>
<p>Finally, middleware that wishes to support pre-2.2 versions of Python,
and iterates over application return values or itself returns an
iterable (or both), must follow the appropriate recommendations above.</p>
<p>(Note: It should go without saying that to support pre-2.2 versions
of Python, any server, gateway, application, or middleware must also
use only language features available in the target version, use
1 and 0 instead of <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span></code>, etc.)</p>
</section>
<section id="optional-platform-specific-file-handling">
<h3><a class="toc-backref" href="#id41">Optional Platform-Specific File Handling</a><a class="headerlink" href="#optional-platform-specific-file-handling" title="Permalink to this headline">¶</a></h3>
<p>Some operating environments provide special high-performance file-
transmission facilities, such as the Unix <code class="docutils literal notranslate"><span class="pre">sendfile()</span></code> call.
Servers and gateways <strong>may</strong> expose this functionality via an optional
<code class="docutils literal notranslate"><span class="pre">wsgi.file_wrapper</span></code> key in the <code class="docutils literal notranslate"><span class="pre">environ</span></code>.  An application
<strong>may</strong> use this “file wrapper” to convert a file or file-like object
into an iterable that it then returns, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="s1">&#39;wsgi.file_wrapper&#39;</span> <span class="ow">in</span> <span class="n">environ</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.file_wrapper&#39;</span><span class="p">](</span><span class="n">filelike</span><span class="p">,</span> <span class="n">block_size</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">filelike</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">block_size</span><span class="p">),</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If the server or gateway supplies <code class="docutils literal notranslate"><span class="pre">wsgi.file_wrapper</span></code>, it must be
a callable that accepts one required positional parameter, and one
optional positional parameter.  The first parameter is the file-like
object to be sent, and the second parameter is an optional block
size “suggestion” (which the server/gateway need not use).  The
callable <strong>must</strong> return an iterable object, and <strong>must not</strong> perform
any data transmission until and unless the server/gateway actually
receives the iterable as a return value from the application.
(To do otherwise would prevent middleware from being able to interpret
or override the response data.)</p>
<p>To be considered “file-like”, the object supplied by the application
must have a <code class="docutils literal notranslate"><span class="pre">read()</span></code> method that takes an optional size argument.
It <strong>may</strong> have a <code class="docutils literal notranslate"><span class="pre">close()</span></code> method, and if so, the iterable returned
by <code class="docutils literal notranslate"><span class="pre">wsgi.file_wrapper</span></code> <strong>must</strong> have a <code class="docutils literal notranslate"><span class="pre">close()</span></code> method that
invokes the original file-like object’s <code class="docutils literal notranslate"><span class="pre">close()</span></code> method.  If the
“file-like” object has any other methods or attributes with names
matching those of Python built-in file objects (e.g. <code class="docutils literal notranslate"><span class="pre">fileno()</span></code>),
the <code class="docutils literal notranslate"><span class="pre">wsgi.file_wrapper</span></code> <strong>may</strong> assume that these methods or
attributes have the same semantics as those of a built-in file object.</p>
<p>The actual implementation of any platform-specific file handling
must occur <strong>after</strong> the application returns, and the server or
gateway checks to see if a wrapper object was returned.  (Again,
because of the presence of middleware, error handlers, and the like,
it is not guaranteed that any wrapper created will actually be used.)</p>
<p>Apart from the handling of <code class="docutils literal notranslate"><span class="pre">close()</span></code>, the semantics of returning a
file wrapper from the application should be the same as if the
application had returned <code class="docutils literal notranslate"><span class="pre">iter(filelike.read,</span> <span class="pre">'')</span></code>.  In other words,
transmission should begin at the current position within the “file”
at the time that transmission begins, and continue until the end is
reached, or until <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> bytes have been written.  (If
the application doesn’t supply a <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code>, the server <strong>may</strong>
generate one from the file using its knowledge of the underlying file
implementation.)</p>
<p>Of course, platform-specific file transmission APIs don’t usually
accept arbitrary “file-like” objects.  Therefore, a
<code class="docutils literal notranslate"><span class="pre">wsgi.file_wrapper</span></code> has to introspect the supplied object for
things such as a <code class="docutils literal notranslate"><span class="pre">fileno()</span></code> (Unix-like OSes) or a
<code class="docutils literal notranslate"><span class="pre">java.nio.FileChannel</span></code> (under Jython) in order to determine if
the file-like object is suitable for use with the platform-specific
API it supports.</p>
<p>Note that even if the object is <em>not</em> suitable for the platform API,
the <code class="docutils literal notranslate"><span class="pre">wsgi.file_wrapper</span></code> <strong>must</strong> still return an iterable that wraps
<code class="docutils literal notranslate"><span class="pre">read()</span></code> and <code class="docutils literal notranslate"><span class="pre">close()</span></code>, so that applications using file wrappers
are portable across platforms.  Here’s a simple platform-agnostic
file wrapper class, suitable for old (pre 2.2) and new Pythons alike:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FileWrapper</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filelike</span><span class="p">,</span> <span class="n">blksize</span><span class="o">=</span><span class="mi">8192</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filelike</span> <span class="o">=</span> <span class="n">filelike</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blksize</span> <span class="o">=</span> <span class="n">blksize</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">filelike</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">close</span> <span class="o">=</span> <span class="n">filelike</span><span class="o">.</span><span class="n">close</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filelike</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blksize</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">data</span>
        <span class="k">raise</span> <span class="ne">IndexError</span>
</pre></div>
</div>
<p>and here is a snippet from a server/gateway that uses it to provide
access to a platform-specific API:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;wsgi.file_wrapper&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">FileWrapper</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">application</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">FileWrapper</span><span class="p">):</span>
        <span class="c1"># check if result.filelike is usable w/platform-specific</span>
        <span class="c1"># API, and if so, use that API to transmit the result.</span>
        <span class="c1"># If not, fall through to normal iterable handling</span>
        <span class="c1"># loop below.</span>

    <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
        <span class="c1"># etc.</span>

<span class="k">finally</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">):</span>
        <span class="n">result</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="questions-and-answers">
<h2><a class="toc-backref" href="#id42">Questions and Answers</a><a class="headerlink" href="#questions-and-answers" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Why must <code class="docutils literal notranslate"><span class="pre">environ</span></code> be a dictionary?  What’s wrong with using a
subclass?</p>
<p>The rationale for requiring a dictionary is to maximize portability
between servers.  The alternative would be to define some subset of
a dictionary’s methods as being the standard and portable
interface.  In practice, however, most servers will probably find a
dictionary adequate to their needs, and thus framework authors will
come to expect the full set of dictionary features to be available,
since they will be there more often than not.  But, if some server
chooses <em>not</em> to use a dictionary, then there will be
interoperability problems despite that server’s “conformance” to
spec.  Therefore, making a dictionary mandatory simplifies the
specification and guarantees interoperability.</p>
<p>Note that this does not prevent server or framework developers from
offering specialized services as custom variables <em>inside</em> the
<code class="docutils literal notranslate"><span class="pre">environ</span></code> dictionary.  This is the recommended approach for
offering any such value-added services.</p>
</li>
<li><p>Why can you call <code class="docutils literal notranslate"><span class="pre">write()</span></code> <em>and</em> yield bytestrings/return an
iterable?  Shouldn’t we pick just one way?</p>
<p>If we supported only the iteration approach, then current
frameworks that assume the availability of “push” suffer.  But, if
we only support pushing via <code class="docutils literal notranslate"><span class="pre">write()</span></code>, then server performance
suffers for transmission of e.g. large files (if a worker thread
can’t begin work on a new request until all of the output has been
sent).  Thus, this compromise allows an application framework to
support both approaches, as appropriate, but with only a little
more burden to the server implementor than a push-only approach
would require.</p>
</li>
<li><p>What’s the <code class="docutils literal notranslate"><span class="pre">close()</span></code> for?</p>
<p>When writes are done during the execution of an application
object, the application can ensure that resources are released
using a try/finally block.  But, if the application returns an
iterable, any resources used will not be released until the
iterable is garbage collected.  The <code class="docutils literal notranslate"><span class="pre">close()</span></code> idiom allows an
application to release critical resources at the end of a request,
and it’s forward-compatible with the support for try/finally in
generators that’s proposed by <a class="reference external" href="pep-0325.html">PEP 325</a>.</p>
</li>
<li><p>Why is this interface so low-level?  I want feature X!  (e.g.
cookies, sessions, persistence, …)</p>
<p>This isn’t Yet Another Python Web Framework.  It’s just a way for
frameworks to talk to web servers, and vice versa.  If you want
these features, you need to pick a web framework that provides the
features you want.  And if that framework lets you create a WSGI
application, you should be able to run it in most WSGI-supporting
servers.  Also, some WSGI servers may offer additional services via
objects provided in their <code class="docutils literal notranslate"><span class="pre">environ</span></code> dictionary; see the
applicable server documentation for details.  (Of course,
applications that use such extensions will not be portable to other
WSGI-based servers.)</p>
</li>
<li><p>Why use CGI variables instead of good old HTTP headers?  And why
mix them in with WSGI-defined variables?</p>
<p>Many existing web frameworks are built heavily upon the CGI spec,
and existing web servers know how to generate CGI variables.  In
contrast, alternative ways of representing inbound HTTP information
are fragmented and lack market share.  Thus, using the CGI
“standard” seems like a good way to leverage existing
implementations.  As for mixing them with WSGI variables,
separating them would just require two dictionary arguments to be
passed around, while providing no real benefits.</p>
</li>
<li><p>What about the status string?  Can’t we just use the number,
passing in <code class="docutils literal notranslate"><span class="pre">200</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&quot;200</span> <span class="pre">OK&quot;</span></code>?</p>
<p>Doing this would complicate the server or gateway, by requiring
them to have a table of numeric statuses and corresponding
messages.  By contrast, it is easy for an application or framework
author to type the extra text to go with the specific response code
they are using, and existing frameworks often already have a table
containing the needed messages.  So, on balance it seems better to
make the application/framework responsible, rather than the server
or gateway.</p>
</li>
<li><p>Why is <code class="docutils literal notranslate"><span class="pre">wsgi.run_once</span></code> not guaranteed to run the app only once?</p>
<p>Because it’s merely a suggestion to the application that it should
“rig for infrequent running”.  This is intended for application
frameworks that have multiple modes of operation for caching,
sessions, and so forth.  In a “multiple run” mode, such frameworks
may preload caches, and may not write e.g. logs or session data to
disk after each request.  In “single run” mode, such frameworks
avoid preloading and flush all necessary writes after each request.</p>
<p>However, in order to test an application or framework to verify
correct operation in the latter mode, it may be necessary (or at
least expedient) to invoke it more than once.  Therefore, an
application should not assume that it will definitely not be run
again, just because it is called with <code class="docutils literal notranslate"><span class="pre">wsgi.run_once</span></code> set to
<code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</li>
<li><p>Feature X (dictionaries, callables, etc.) are ugly for use in
application code; why don’t we use objects instead?</p>
<p>All of these implementation choices of WSGI are specifically
intended to <em>decouple</em> features from one another; recombining these
features into encapsulated objects makes it somewhat harder to
write servers or gateways, and an order of magnitude harder to
write middleware that replaces or modifies only small portions of
the overall functionality.</p>
<p>In essence, middleware wants to have a “Chain of Responsibility”
pattern, whereby it can act as a “handler” for some functions,
while allowing others to remain unchanged.  This is difficult to do
with ordinary Python objects, if the interface is to remain
extensible.  For example, one must use <code class="docutils literal notranslate"><span class="pre">__getattr__</span></code> or
<code class="docutils literal notranslate"><span class="pre">__getattribute__</span></code> overrides, to ensure that extensions (such as
attributes defined by future WSGI versions) are passed through.</p>
<p>This type of code is notoriously difficult to get 100% correct, and
few people will want to write it themselves.  They will therefore
copy other people’s implementations, but fail to update them when
the person they copied from corrects yet another corner case.</p>
<p>Further, this necessary boilerplate would be pure excise, a
developer tax paid by middleware developers to support a slightly
prettier API for application framework developers.  But,
application framework developers will typically only be updating
<em>one</em> framework to support WSGI, and in a very limited part of
their framework as a whole.  It will likely be their first (and
maybe their only) WSGI implementation, and thus they will likely
implement with this specification ready to hand.  Thus, the effort
of making the API “prettier” with object attributes and suchlike
would likely be wasted for this audience.</p>
<p>We encourage those who want a prettier (or otherwise improved) WSGI
interface for use in direct web application programming (as opposed
to web framework development) to develop APIs or frameworks that
wrap WSGI for convenient use by application developers.  In this
way, WSGI can remain conveniently low-level for server and
middleware authors, while not being “ugly” for application
developers.</p>
</li>
</ol>
</section>
<section id="proposed-under-discussion">
<h2><a class="toc-backref" href="#id43">Proposed/Under Discussion</a><a class="headerlink" href="#proposed-under-discussion" title="Permalink to this headline">¶</a></h2>
<p>These items are currently being discussed on the Web-SIG and elsewhere,
or are on the PEP author’s “to-do” list:</p>
<ul class="simple">
<li><p>Should <code class="docutils literal notranslate"><span class="pre">wsgi.input</span></code> be an iterator instead of a file?  This would
help for asynchronous applications and chunked-encoding input
streams.</p></li>
<li><p>Optional extensions are being discussed for pausing iteration of an
application’s output until input is available or until a callback
occurs.</p></li>
<li><p>Add a section about synchronous vs. asynchronous apps and servers,
the relevant threading models, and issues/design goals in these
areas.</p></li>
</ul>
</section>
<section id="acknowledgements">
<h2><a class="toc-backref" href="#id44">Acknowledgements</a><a class="headerlink" href="#acknowledgements" title="Permalink to this headline">¶</a></h2>
<p>Thanks go to the many folks on the Web-SIG mailing list whose
thoughtful feedback made this revised draft possible.  Especially:</p>
<ul class="simple">
<li><p>Gregory “Grisha” Trubetskoy, author of <code class="docutils literal notranslate"><span class="pre">mod_python</span></code>, who beat up
on the first draft as not offering any advantages over “plain old
CGI”, thus encouraging me to look for a better approach.</p></li>
<li><p>Ian Bicking, who helped nag me into properly specifying the
multithreading and multiprocess options, as well as badgering me to
provide a mechanism for servers to supply custom extension data to
an application.</p></li>
<li><p>Tony Lownds, who came up with the concept of a <code class="docutils literal notranslate"><span class="pre">start_response</span></code>
function that took the status and headers, returning a <code class="docutils literal notranslate"><span class="pre">write</span></code>
function.  His input also guided the design of the exception handling
facilities, especially in the area of allowing for middleware that
overrides application error messages.</p></li>
<li><p>Alan Kennedy, whose courageous attempts to implement WSGI-on-Jython
(well before the spec was finalized) helped to shape the “supporting
older versions of Python” section, as well as the optional
<code class="docutils literal notranslate"><span class="pre">wsgi.file_wrapper</span></code> facility, and some of the early bytes/unicode
decisions.</p></li>
<li><p>Mark Nottingham, who reviewed the spec extensively for issues with
HTTP RFC compliance, especially with regard to HTTP/1.1 features that
I didn’t even know existed until he pointed them out.</p></li>
<li><p>Graham Dumpleton, who worked tirelessly (even in the face of my laziness
and stupidity) to get some sort of Python 3 version of WSGI out, who
proposed the “native strings” vs. “byte strings” concept, and thoughtfully
wrestled through a great many HTTP, <code class="docutils literal notranslate"><span class="pre">wsgi.input</span></code>, and other
amendments.  Most, if not all, of the credit for this new PEP
belongs to him.</p></li>
</ul>
</section>
<section id="references">
<h2><a class="toc-backref" href="#id45">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id8"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p>The Python Wiki “Web Programming” topic
(<a class="reference external" href="https://wiki.python.org/moin/WebProgramming">https://wiki.python.org/moin/WebProgramming</a>)</p>
</dd>
<dt class="label" id="id9"><span class="brackets"><a class="fn-backref" href="#id4">2</a></span></dt>
<dd><p>The Common Gateway Interface Specification, v 1.1, 3rd Draft
(<a class="reference external" href="https://tools.ietf.org/html/draft-coar-cgi-v11-03">https://tools.ietf.org/html/draft-coar-cgi-v11-03</a>)</p>
</dd>
<dt class="label" id="id10"><span class="brackets"><a class="fn-backref" href="#id6">3</a></span></dt>
<dd><p>“Chunked Transfer Coding” – HTTP/1.1, section 3.6.1
(<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.6.1">http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.6.1</a>)</p>
</dd>
<dt class="label" id="id11"><span class="brackets"><a class="fn-backref" href="#id7">4</a></span></dt>
<dd><p>“End-to-end and Hop-by-hop Headers” – HTTP/1.1, Section 13.5.1
(<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.5.1">http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.5.1</a>)</p>
</dd>
<dt class="label" id="id12"><span class="brackets"><a class="fn-backref" href="#id5">5</a></span></dt>
<dd><p>mod_ssl Reference, “Environment Variables”
(<a class="reference external" href="http://www.modssl.org/docs/2.8/ssl_reference.html#ToC25">http://www.modssl.org/docs/2.8/ssl_reference.html#ToC25</a>)</p>
</dd>
<dt class="label" id="id13"><span class="brackets"><a class="fn-backref" href="#id1">6</a></span></dt>
<dd><p>Procedural issues regarding modifications to PEP 333
(<a class="reference external" href="https://mail.python.org/pipermail/python-dev/2010-September/104114.html">https://mail.python.org/pipermail/python-dev/2010-September/104114.html</a>)</p>
</dd>
<dt class="label" id="id14"><span class="brackets"><a class="fn-backref" href="#id2">7</a></span></dt>
<dd><p>SVN revision history for PEP 3333, showing differences from <a class="reference external" href="pep-0333.html">PEP 333</a>
(<a class="reference external" href="http://svn.python.org/view/peps/trunk/pep-3333.txt?r1=84854&amp;r2=HEAD">http://svn.python.org/view/peps/trunk/pep-3333.txt?r1=84854&amp;r2=HEAD</a>)</p>
</dd>
</dl>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#id46">Copyright</a><a class="headerlink" href="#copyright" title="Permalink to this headline">¶</a></h2>
<p>This document has been placed in the public domain.</p>
</section>
</section>
<span>Source: <a class="reference external" href="https://github.com/python/peps/blob/master/pep-3333.txt">https://github.com/python/peps/blob/master/pep-3333.txt</a></span><div class="zero-height line"><br /></div>
<span>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/master/pep-3333.txt">2021-06-28T11:16:08Z</a></span>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../contents/">PEPs</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">PEP Table of Contents (needed for Sphinx):</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pep-0000/">PEP 0 – Index of Python Enhancement Proposals (PEPs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0001/">PEP 1 – PEP Purpose and Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0002/">PEP 2 – Procedure for Adding New Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0003/">PEP 3 – Guidelines for Handling Bug Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0004/">PEP 4 – Deprecation of Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0005/">PEP 5 – Guidelines for Language Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0006/">PEP 6 – Bug Fix Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0007/">PEP 7 – Style Guide for C Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0008/">PEP 8 – Style Guide for Python Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0009/">PEP 9 – Sample Plaintext PEP Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0010/">PEP 10 – Voting Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0011/">PEP 11 – Removing support for little used platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0012/">PEP 12 – Sample reStructuredText PEP Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0013/">PEP 13 – Python Language Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0020/">PEP 20 – The Zen of Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0042/">PEP 42 – Feature Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0100/">PEP 100 – Python Unicode Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0101/">PEP 101 – Doing Python Releases 101</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0102/">PEP 102 – Doing Python Micro Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0103/">PEP 103 – Collecting information about git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0160/">PEP 160 – Python 1.6 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0200/">PEP 200 – Python 2.0 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0201/">PEP 201 – Lockstep Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0202/">PEP 202 – List Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0203/">PEP 203 – Augmented Assignments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0204/">PEP 204 – Range Literals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0205/">PEP 205 – Weak References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0206/">PEP 206 – Python Advanced Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0207/">PEP 207 – Rich Comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0208/">PEP 208 – Reworking the Coercion Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0209/">PEP 209 – Multi-dimensional Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0210/">PEP 210 – Decoupling the Interpreter Loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0211/">PEP 211 – Adding A New Outer Product Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0212/">PEP 212 – Loop Counter Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0213/">PEP 213 – Attribute Access Handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0214/">PEP 214 – Extended Print Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0215/">PEP 215 – String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0216/">PEP 216 – Docstring Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0217/">PEP 217 – Display Hook for Interactive Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0218/">PEP 218 – Adding a Built-In Set Object Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0219/">PEP 219 – Stackless Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0220/">PEP 220 – Coroutines, Generators, Continuations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0221/">PEP 221 – Import As</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0222/">PEP 222 – Web Library Enhancements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0223/">PEP 223 – Change the Meaning of ``\x`` Escapes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0224/">PEP 224 – Attribute Docstrings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0225/">PEP 225 – Elementwise/Objectwise Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0226/">PEP 226 – Python 2.1 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0227/">PEP 227 – Statically Nested Scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0228/">PEP 228 – Reworking Python’s Numeric Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0229/">PEP 229 – Using Distutils to Build Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0230/">PEP 230 – Warning Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0231/">PEP 231 – __findattr__()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0232/">PEP 232 – Function Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0233/">PEP 233 – Python Online Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0234/">PEP 234 – Iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0235/">PEP 235 – Import on Case-Insensitive Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0236/">PEP 236 – Back to the __future__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0237/">PEP 237 – Unifying Long Integers and Integers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0238/">PEP 238 – Changing the Division Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0239/">PEP 239 – Adding a Rational Type to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0240/">PEP 240 – Adding a Rational Literal to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0241/">PEP 241 – Metadata for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0242/">PEP 242 – Numeric Kinds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0243/">PEP 243 – Module Repository Upload Mechanism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0244/">PEP 244 – The ``directive`` statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0245/">PEP 245 – Python Interface Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0246/">PEP 246 – Object Adaptation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0247/">PEP 247 – API for Cryptographic Hash Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0248/">PEP 248 – Python Database API Specification v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0249/">PEP 249 – Python Database API Specification v2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0250/">PEP 250 – Using site-packages on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0251/">PEP 251 – Python 2.2 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0252/">PEP 252 – Making Types Look More Like Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0253/">PEP 253 – Subtyping Built-in Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0254/">PEP 254 – Making Classes Look More Like Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0255/">PEP 255 – Simple Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0256/">PEP 256 – Docstring Processing System Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0257/">PEP 257 – Docstring Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0258/">PEP 258 – Docutils Design Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0259/">PEP 259 – Omit printing newline after newline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0260/">PEP 260 – Simplify xrange()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0261/">PEP 261 – Support for “wide” Unicode characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0262/">PEP 262 – A Database of Installed Python Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0263/">PEP 263 – Defining Python Source Code Encodings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0264/">PEP 264 – Future statements in simulated shells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0265/">PEP 265 – Sorting Dictionaries by Value</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0266/">PEP 266 – Optimizing Global Variable/Attribute Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0267/">PEP 267 – Optimized Access to Module Namespaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0268/">PEP 268 – Extended HTTP functionality and WebDAV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0269/">PEP 269 – Pgen Module for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0270/">PEP 270 – uniq method for list objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0271/">PEP 271 – Prefixing sys.path by command line option</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0272/">PEP 272 – API for Block Encryption Algorithms v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0273/">PEP 273 – Import Modules from Zip Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0274/">PEP 274 – Dict Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0275/">PEP 275 – Switching on Multiple Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0276/">PEP 276 – Simple Iterator for ints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0277/">PEP 277 – Unicode file name support for Windows NT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0278/">PEP 278 – Universal Newline Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0279/">PEP 279 – The enumerate() built-in function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0280/">PEP 280 – Optimizing access to globals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0281/">PEP 281 – Loop Counter Iteration with range and xrange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0282/">PEP 282 – A Logging System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0283/">PEP 283 – Python 2.3 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0284/">PEP 284 – Integer for-loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0285/">PEP 285 – Adding a bool type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0286/">PEP 286 – Enhanced Argument Tuples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0287/">PEP 287 – reStructuredText Docstring Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0288/">PEP 288 – Generators Attributes and Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0289/">PEP 289 – Generator Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0290/">PEP 290 – Code Migration and Modernization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0291/">PEP 291 – Backward Compatibility for the Python 2 Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0292/">PEP 292 – Simpler String Substitutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0293/">PEP 293 – Codec Error Handling Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0294/">PEP 294 – Type Names in the types Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0295/">PEP 295 – Interpretation of multiline string constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0296/">PEP 296 – Adding a bytes Object Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0297/">PEP 297 – Support for System Upgrades</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0298/">PEP 298 – The Locked Buffer Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0299/">PEP 299 – Special __main__() function in modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0301/">PEP 301 – Package Index and Metadata for Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0302/">PEP 302 – New Import Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0303/">PEP 303 – Extend divmod() for Multiple Divisors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0304/">PEP 304 – Controlling Generation of Bytecode Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0305/">PEP 305 – CSV File API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0306/">PEP 306 – How to Change Python’s Grammar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0307/">PEP 307 – Extensions to the pickle protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0308/">PEP 308 – Conditional Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0309/">PEP 309 – Partial Function Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0310/">PEP 310 – Reliable Acquisition/Release Pairs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0311/">PEP 311 – Simplified Global Interpreter Lock Acquisition for Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0312/">PEP 312 – Simple Implicit Lambda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0313/">PEP 313 – Adding Roman Numeral Literals to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0314/">PEP 314 – Metadata for Python Software Packages v1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0315/">PEP 315 – Enhanced While Loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0316/">PEP 316 – Programming by Contract for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0317/">PEP 317 – Eliminate Implicit Exception Instantiation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0318/">PEP 318 – Decorators for Functions and Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0319/">PEP 319 – Python Synchronize/Asynchronize Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0320/">PEP 320 – Python 2.4 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0321/">PEP 321 – Date/Time Parsing and Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0322/">PEP 322 – Reverse Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0323/">PEP 323 – Copyable Iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0324/">PEP 324 – subprocess - New process module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0325/">PEP 325 – Resource-Release Support for Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0326/">PEP 326 – A Case for Top and Bottom Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0327/">PEP 327 – Decimal Data Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0328/">PEP 328 – Imports: Multi-Line and Absolute/Relative</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0329/">PEP 329 – Treating Builtins as Constants in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0330/">PEP 330 – Python Bytecode Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0331/">PEP 331 – Locale-Independent Float/String Conversions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0332/">PEP 332 – Byte vectors and String/Unicode Unification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0333/">PEP 333 – Python Web Server Gateway Interface v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0334/">PEP 334 – Simple Coroutines via SuspendIteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0335/">PEP 335 – Overloadable Boolean Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0336/">PEP 336 – Make None Callable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0337/">PEP 337 – Logging Usage in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0338/">PEP 338 – Executing modules as scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0339/">PEP 339 – Design of the CPython Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0340/">PEP 340 – Anonymous Block Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0341/">PEP 341 – Unifying try-except and try-finally</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0342/">PEP 342 – Coroutines via Enhanced Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0343/">PEP 343 – The “with” Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0344/">PEP 344 – Exception Chaining and Embedded Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0345/">PEP 345 – Metadata for Python Software Packages 1.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0346/">PEP 346 – User Defined (“``with``”) Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0347/">PEP 347 – Migrating the Python CVS to Subversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0348/">PEP 348 – Exception Reorganization for Python 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0349/">PEP 349 – Allow str() to return unicode strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0350/">PEP 350 – Codetags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0351/">PEP 351 – The freeze protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0352/">PEP 352 – Required Superclass for Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0353/">PEP 353 – Using ssize_t as the index type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0354/">PEP 354 – Enumerations in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0355/">PEP 355 – Path - Object oriented filesystem paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0356/">PEP 356 – Python 2.5 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0357/">PEP 357 – Allowing Any Object to be Used for Slicing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0358/">PEP 358 – The “bytes” Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0359/">PEP 359 – The “make” Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0360/">PEP 360 – Externally Maintained Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0361/">PEP 361 – Python 2.6 and 3.0 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0362/">PEP 362 – Function Signature Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0363/">PEP 363 – Syntax For Dynamic Attribute Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0364/">PEP 364 – Transitioning to the Py3K Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0365/">PEP 365 – Adding the pkg_resources module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0366/">PEP 366 – Main module explicit relative imports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0367/">PEP 367 – New Super</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0368/">PEP 368 – Standard image protocol and class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0369/">PEP 369 – Post import hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0370/">PEP 370 – Per user site-packages directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0371/">PEP 371 – Addition of the multiprocessing package to the standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0372/">PEP 372 – Adding an ordered dictionary to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0373/">PEP 373 – Python 2.7 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0374/">PEP 374 – Choosing a distributed VCS for the Python project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0375/">PEP 375 – Python 3.1 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0376/">PEP 376 – Database of Installed Python Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0377/">PEP 377 – Allow __enter__() methods to skip the statement body</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0378/">PEP 378 – Format Specifier for Thousands Separator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0379/">PEP 379 – Adding an Assignment Expression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0380/">PEP 380 – Syntax for Delegating to a Subgenerator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0381/">PEP 381 – Mirroring infrastructure for PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0382/">PEP 382 – Namespace Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0383/">PEP 383 – Non-decodable Bytes in System Character Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0384/">PEP 384 – Defining a Stable ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0385/">PEP 385 – Migrating from Subversion to Mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0386/">PEP 386 – Changing the version comparison module in Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0387/">PEP 387 – Backwards Compatibility Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0389/">PEP 389 – argparse - New Command Line Parsing Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0390/">PEP 390 – Static metadata for Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0391/">PEP 391 – Dictionary-Based Configuration For Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0392/">PEP 392 – Python 3.2 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0393/">PEP 393 – Flexible String Representation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0394/">PEP 394 – The “python” Command on Unix-Like Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0395/">PEP 395 – Qualified Names for Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0396/">PEP 396 – Module Version Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0397/">PEP 397 – Python launcher for Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0398/">PEP 398 – Python 3.3 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0399/">PEP 399 – Pure Python/C Accelerator Module Compatibility Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0400/">PEP 400 – Deprecate codecs.StreamReader and codecs.StreamWriter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0401/">PEP 401 – BDFL Retirement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0402/">PEP 402 – Simplified Package Layout and Partitioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0403/">PEP 403 – General purpose decorator clause (aka “&#64;in” clause)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0404/">PEP 404 – Python 2.8 Un-release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0405/">PEP 405 – Python Virtual Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0406/">PEP 406 – Improved Encapsulation of Import State</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0407/">PEP 407 – New release cycle and introducing long-term support versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0408/">PEP 408 – Standard library __preview__ package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0409/">PEP 409 – Suppressing exception context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0410/">PEP 410 – Use decimal.Decimal type for timestamps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0411/">PEP 411 – Provisional packages in the Python standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0412/">PEP 412 – Key-Sharing Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0413/">PEP 413 – Faster evolution of the Python Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0414/">PEP 414 – Explicit Unicode Literal for Python 3.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0415/">PEP 415 – Implement context suppression with exception attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0416/">PEP 416 – Add a frozendict builtin type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0417/">PEP 417 – Including mock in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0418/">PEP 418 – Add monotonic time, performance counter, and process time functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0419/">PEP 419 – Protecting cleanup statements from interruptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0420/">PEP 420 – Implicit Namespace Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0421/">PEP 421 – Adding sys.implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0422/">PEP 422 – Simpler customisation of class creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0423/">PEP 423 – Naming conventions and recipes related to packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0424/">PEP 424 – A method for exposing a length hint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0425/">PEP 425 – Compatibility Tags for Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0426/">PEP 426 – Metadata for Python Software Packages 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0427/">PEP 427 – The Wheel Binary Package Format 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0428/">PEP 428 – The pathlib module – object-oriented filesystem paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0429/">PEP 429 – Python 3.4 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0430/">PEP 430 – Migrating to Python 3 as the default online documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0431/">PEP 431 – Time zone support improvements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0432/">PEP 432 – Restructuring the CPython startup sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0433/">PEP 433 – Easier suppression of file descriptor inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0434/">PEP 434 – IDLE Enhancement Exception for All Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0435/">PEP 435 – Adding an Enum type to the Python standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0436/">PEP 436 – The Argument Clinic DSL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0437/">PEP 437 – A DSL for specifying signatures, annotations and argument converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0438/">PEP 438 – Transitioning to release-file hosting on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0439/">PEP 439 – Inclusion of implicit pip bootstrap in Python installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0440/">PEP 440 – Version Identification and Dependency Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0441/">PEP 441 – Improving Python ZIP Application Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0442/">PEP 442 – Safe object finalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0443/">PEP 443 – Single-dispatch generic functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0444/">PEP 444 – Python Web3 Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0445/">PEP 445 – Add new APIs to customize Python memory allocators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0446/">PEP 446 – Make newly created file descriptors non-inheritable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0447/">PEP 447 – Add __getdescriptor__ method to metaclass</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0448/">PEP 448 – Additional Unpacking Generalizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0449/">PEP 449 – Removal of the PyPI Mirror Auto Discovery and Naming Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0450/">PEP 450 – Adding A Statistics Module To The Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0451/">PEP 451 – A ModuleSpec Type for the Import System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0452/">PEP 452 – API for Cryptographic Hash Functions v2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0453/">PEP 453 – Explicit bootstrapping of pip in Python installations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0454/">PEP 454 – Add a new tracemalloc module to trace Python memory allocations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0455/">PEP 455 – Adding a key-transforming dictionary to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0456/">PEP 456 – Secure and interchangeable hash algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0457/">PEP 457 – Notation For Positional-Only Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0458/">PEP 458 – Secure PyPI downloads with signed repository metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0459/">PEP 459 – Standard Metadata Extensions for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0460/">PEP 460 – Add binary interpolation and formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0461/">PEP 461 – Adding % formatting to bytes and bytearray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0462/">PEP 462 – Core development workflow automation for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0463/">PEP 463 – Exception-catching expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0464/">PEP 464 – Removal of the PyPI Mirror Authenticity API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0465/">PEP 465 – A dedicated infix operator for matrix multiplication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0466/">PEP 466 – Network Security Enhancements for Python 2.7.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0467/">PEP 467 – Minor API improvements for binary sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0468/">PEP 468 – Preserving the order of \*\*kwargs in a function.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0469/">PEP 469 – Migration of dict iteration code to Python 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0470/">PEP 470 – Removing External Hosting Support on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0471/">PEP 471 – os.scandir() function – a better and faster directory iterator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0472/">PEP 472 – Support for indexing with keyword arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0473/">PEP 473 – Adding structured data to built-in exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0474/">PEP 474 – Creating forge.python.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0475/">PEP 475 – Retry system calls failing with EINTR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0476/">PEP 476 – Enabling certificate verification by default for stdlib http clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0477/">PEP 477 – Backport ensurepip (PEP 453) to Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0478/">PEP 478 – Python 3.5 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0479/">PEP 479 – Change StopIteration handling inside generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0480/">PEP 480 – Surviving a Compromise of PyPI: End-to-end signing of packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0481/">PEP 481 – Migrate CPython to Git, Github, and Phabricator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0482/">PEP 482 – Literature Overview for Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0483/">PEP 483 – The Theory of Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0484/">PEP 484 – Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0485/">PEP 485 – A Function for testing approximate equality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0486/">PEP 486 – Make the Python Launcher aware of virtual environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0487/">PEP 487 – Simpler customisation of class creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0488/">PEP 488 – Elimination of PYO files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0489/">PEP 489 – Multi-phase extension module initialization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0490/">PEP 490 – Chain exceptions at C level</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0491/">PEP 491 – The Wheel Binary Package Format 1.9</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0492/">PEP 492 – Coroutines with async and await syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0493/">PEP 493 – HTTPS verification migration tools for Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0494/">PEP 494 – Python 3.6 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0495/">PEP 495 – Local Time Disambiguation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0496/">PEP 496 – Environment Markers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0497/">PEP 497 – A standard mechanism for backward compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0498/">PEP 498 – Literal String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0499/">PEP 499 – ``python -m foo`` should bind ``sys.modules[‘foo’]`` in addition to ``sys.modules[‘__main__’]``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0500/">PEP 500 – A protocol for delegating datetime methods to their
tzinfo implementations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0501/">PEP 501 – General purpose string interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0502/">PEP 502 – String Interpolation - Extended Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0503/">PEP 503 – Simple Repository API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0504/">PEP 504 – Using the System RNG by default</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0505/">PEP 505 – None-aware operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0506/">PEP 506 – Adding A Secrets Module To The Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0507/">PEP 507 – Migrate CPython to Git and GitLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0508/">PEP 508 – Dependency specification for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0509/">PEP 509 – Add a private version to dict</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0510/">PEP 510 – Specialize functions with guards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0511/">PEP 511 – API for code transformers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0512/">PEP 512 – Migrating from hg.python.org to GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0513/">PEP 513 – A Platform Tag for Portable Linux Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0514/">PEP 514 – Python registration in the Windows registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0515/">PEP 515 – Underscores in Numeric Literals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0516/">PEP 516 – Build system abstraction for pip/conda etc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0517/">PEP 517 – A build-system independent format for source trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0518/">PEP 518 – Specifying Minimum Build System Requirements for Python Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0519/">PEP 519 – Adding a file system path protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0520/">PEP 520 – Preserving Class Attribute Definition Order</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0521/">PEP 521 – Managing global context via ‘with’ blocks in generators and coroutines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0522/">PEP 522 – Allow BlockingIOError in security sensitive APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0523/">PEP 523 – Adding a frame evaluation API to CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0524/">PEP 524 – Make os.urandom() blocking on Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0525/">PEP 525 – Asynchronous Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0526/">PEP 526 – Syntax for Variable Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0527/">PEP 527 – Removing Un(der)used file types/extensions on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0528/">PEP 528 – Change Windows console encoding to UTF-8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0529/">PEP 529 – Change Windows filesystem encoding to UTF-8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0530/">PEP 530 – Asynchronous Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0531/">PEP 531 – Existence checking operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0532/">PEP 532 – A circuit breaking protocol and binary operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0533/">PEP 533 – Deterministic cleanup for iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0534/">PEP 534 – Improved Errors for Missing Standard Library Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0535/">PEP 535 – Rich comparison chaining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0536/">PEP 536 – Final Grammar for Literal String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0537/">PEP 537 – Python 3.7 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0538/">PEP 538 – Coercing the legacy C locale to a UTF-8 based locale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0539/">PEP 539 – A New C-API for Thread-Local Storage in CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0540/">PEP 540 – Add a new UTF-8 Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0541/">PEP 541 – Package Index Name Retention</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0542/">PEP 542 – Dot Notation Assignment In Function Header</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0543/">PEP 543 – A Unified TLS API for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0544/">PEP 544 – Protocols: Structural subtyping (static duck typing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0545/">PEP 545 – Python Documentation Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0546/">PEP 546 – Backport ssl.MemoryBIO and ssl.SSLObject to Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0547/">PEP 547 – Running extension modules using the -m option</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0548/">PEP 548 – More Flexible Loop Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0549/">PEP 549 – Instance Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0550/">PEP 550 – Execution Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0551/">PEP 551 – Security transparency in the Python runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0552/">PEP 552 – Deterministic pycs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0553/">PEP 553 – Built-in breakpoint()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0554/">PEP 554 – Multiple Interpreters in the Stdlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0555/">PEP 555 – Context-local variables (contextvars)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0556/">PEP 556 – Threaded garbage collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0557/">PEP 557 – Data Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0558/">PEP 558 – Defined semantics for locals()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0559/">PEP 559 – Built-in noop()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0560/">PEP 560 – Core support for typing module and generic types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0561/">PEP 561 – Distributing and Packaging Type Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0562/">PEP 562 – Module __getattr__ and __dir__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0563/">PEP 563 – Postponed Evaluation of Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0564/">PEP 564 – Add new time functions with nanosecond resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0565/">PEP 565 – Show DeprecationWarning in __main__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0566/">PEP 566 – Metadata for Python Software Packages 2.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0567/">PEP 567 – Context Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0568/">PEP 568 – Generator-sensitivity for Context Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0569/">PEP 569 – Python 3.8 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0570/">PEP 570 – Python Positional-Only Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0571/">PEP 571 – The manylinux2010 Platform Tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0572/">PEP 572 – Assignment Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0573/">PEP 573 – Module State Access from C Extension Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0574/">PEP 574 – Pickle protocol 5 with out-of-band data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0575/">PEP 575 – Unifying function/method classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0576/">PEP 576 – Rationalize Built-in function classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0577/">PEP 577 – Augmented Assignment Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0578/">PEP 578 – Python Runtime Audit Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0579/">PEP 579 – Refactoring C functions and methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0580/">PEP 580 – The C call protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0581/">PEP 581 – Using GitHub Issues for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0582/">PEP 582 – Python local packages directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0583/">PEP 583 – A Concurrency Memory Model for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0584/">PEP 584 – Add Union Operators To dict</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0585/">PEP 585 – Type Hinting Generics In Standard Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0586/">PEP 586 – Literal Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0587/">PEP 587 – Python Initialization Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0588/">PEP 588 – GitHub Issues Migration Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0589/">PEP 589 – TypedDict: Type Hints for Dictionaries with a Fixed Set of Keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0590/">PEP 590 – Vectorcall: a fast calling protocol for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0591/">PEP 591 – Adding a final qualifier to typing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0592/">PEP 592 – Adding “Yank” Support to the Simple API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0593/">PEP 593 – Flexible function and variable annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0594/">PEP 594 – Removing dead batteries from the standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0595/">PEP 595 – Improving bugs.python.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0596/">PEP 596 – Python 3.9 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0597/">PEP 597 – Add optional EncodingWarning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0598/">PEP 598 – Introducing incremental feature releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0599/">PEP 599 – The manylinux2014 Platform Tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0600/">PEP 600 – Future ‘manylinux’ Platform Tags for Portable Linux Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0601/">PEP 601 – Forbid return/break/continue breaking out of finally</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0602/">PEP 602 – Annual Release Cycle for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0603/">PEP 603 – Adding a frozenmap type to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0604/">PEP 604 – Allow writing union types as ``X | Y``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0605/">PEP 605 – A rolling feature release stream for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0606/">PEP 606 – Python Compatibility Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0607/">PEP 607 – Reducing CPython’s Feature Delivery Latency</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0608/">PEP 608 – Coordinated Python release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0609/">PEP 609 – PyPA Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0610/">PEP 610 – Recording the Direct URL Origin of installed distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0611/">PEP 611 – The one million limit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0612/">PEP 612 – Parameter Specification Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0613/">PEP 613 – Explicit Type Aliases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0614/">PEP 614 – Relaxing Grammar Restrictions On Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0615/">PEP 615 – Support for the IANA Time Zone Database in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0616/">PEP 616 – String methods to remove prefixes and suffixes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0617/">PEP 617 – New PEG parser for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0618/">PEP 618 – Add Optional Length-Checking To zip</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0619/">PEP 619 – Python 3.10 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0620/">PEP 620 – Hide implementation details from the C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0621/">PEP 621 – Storing project metadata in pyproject.toml</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0622/">PEP 622 – Structural Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0623/">PEP 623 – Remove wstr from Unicode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0624/">PEP 624 – Remove Py_UNICODE encoder APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0625/">PEP 625 – File name of a Source Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0626/">PEP 626 – Precise line numbers for debugging and other tools.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0627/">PEP 627 – Recording installed projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0628/">PEP 628 – Add ``math.tau``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0629/">PEP 629 – Versioning PyPI’s Simple API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0630/">PEP 630 – Isolating Extension Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0631/">PEP 631 – Dependency specification in pyproject.toml based on PEP 508</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0632/">PEP 632 – Deprecate distutils module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0633/">PEP 633 – Dependency specification in pyproject.toml using an exploded TOML table</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0634/">PEP 634 – Structural Pattern Matching: Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0635/">PEP 635 – Structural Pattern Matching: Motivation and Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0636/">PEP 636 – Structural Pattern Matching: Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0637/">PEP 637 – Support for indexing with keyword arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0638/">PEP 638 – Syntactic Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0639/">PEP 639 – Metadata for Python Software Packages 2.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0640/">PEP 640 – Unused variable syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0641/">PEP 641 – Using an underscore in the version portion of Python 3.10 compatibility tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0642/">PEP 642 – Explicit Pattern Syntax for Structural Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0643/">PEP 643 – Metadata for Package Source Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0644/">PEP 644 – Require OpenSSL 1.1.1 or newer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0645/">PEP 645 – Allow writing optional types as ``x?``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0646/">PEP 646 – Variadic Generics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0647/">PEP 647 – User-Defined Type Guards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0648/">PEP 648 – Extensible customizations of the interpreter at startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0649/">PEP 649 – Deferred Evaluation Of Annotations Using Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0650/">PEP 650 – Specifying Installer Requirements for Python Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0651/">PEP 651 – Robust Stack Overflow Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0652/">PEP 652 – Maintaining the Stable ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0653/">PEP 653 – Precise Semantics for Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0654/">PEP 654 – Exception Groups and except*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0655/">PEP 655 – Marking individual TypedDict items as required or potentially-missing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0656/">PEP 656 – Platform Tag for Linux Distributions Using Musl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0657/">PEP 657 – Include Fine Grained Error Locations in Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0658/">PEP 658 – Serve Distribution Metadata in the Simple Repository API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0659/">PEP 659 – Specializing Adaptive Interpreter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0660/">PEP 660 – Editable installs for pyproject.toml based builds (wheel based)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0661/">PEP 661 – Sentinel Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0662/">PEP 662 – Editable installs via virtual wheels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0666/">PEP 666 – Reject Foolish Indentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0754/">PEP 754 – IEEE 754 Floating Point Special Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0801/">PEP 801 – Reserved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3000/">PEP 3000 – Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3001/">PEP 3001 – Procedure for reviewing and improving standard library modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3002/">PEP 3002 – Procedure for Backwards-Incompatible Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3003/">PEP 3003 – Python Language Moratorium</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3099/">PEP 3099 – Things that will Not Change in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3100/">PEP 3100 – Miscellaneous Python 3.0 Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3101/">PEP 3101 – Advanced String Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3102/">PEP 3102 – Keyword-Only Arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3103/">PEP 3103 – A Switch/Case Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3104/">PEP 3104 – Access to Names in Outer Scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3105/">PEP 3105 – Make print a function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3106/">PEP 3106 – Revamping dict.keys(), .values() and .items()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3107/">PEP 3107 – Function Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3108/">PEP 3108 – Standard Library Reorganization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3109/">PEP 3109 – Raising Exceptions in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3110/">PEP 3110 – Catching Exceptions in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3111/">PEP 3111 – Simple input built-in in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3112/">PEP 3112 – Bytes literals in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3113/">PEP 3113 – Removal of Tuple Parameter Unpacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3114/">PEP 3114 – Renaming iterator.next() to iterator.__next__()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3115/">PEP 3115 – Metaclasses in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3116/">PEP 3116 – New I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3117/">PEP 3117 – Postfix type declarations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3118/">PEP 3118 – Revising the buffer protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3119/">PEP 3119 – Introducing Abstract Base Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3120/">PEP 3120 – Using UTF-8 as the default source encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3121/">PEP 3121 – Extension Module Initialization and Finalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3122/">PEP 3122 – Delineation of the main module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3123/">PEP 3123 – Making PyObject_HEAD conform to standard C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3124/">PEP 3124 – Overloading, Generic Functions, Interfaces, and Adaptation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3125/">PEP 3125 – Remove Backslash Continuation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3126/">PEP 3126 – Remove Implicit String Concatenation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3127/">PEP 3127 – Integer Literal Support and Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3128/">PEP 3128 – BList: A Faster List-like Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3129/">PEP 3129 – Class Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3130/">PEP 3130 – Access to Current Module/Class/Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3131/">PEP 3131 – Supporting Non-ASCII Identifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3132/">PEP 3132 – Extended Iterable Unpacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3133/">PEP 3133 – Introducing Roles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3134/">PEP 3134 – Exception Chaining and Embedded Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3135/">PEP 3135 – New Super</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3136/">PEP 3136 – Labeled break and continue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3137/">PEP 3137 – Immutable Bytes and Mutable Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3138/">PEP 3138 – String representation in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3139/">PEP 3139 – Cleaning out sys and the “interpreter” module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3140/">PEP 3140 – str(container) should call str(item), not repr(item)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3141/">PEP 3141 – A Type Hierarchy for Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3142/">PEP 3142 – Add a “while” clause to generator expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3143/">PEP 3143 – Standard daemon process library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3144/">PEP 3144 – IP Address Manipulation Library for the Python Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3145/">PEP 3145 – Asynchronous I/O For subprocess.Popen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3146/">PEP 3146 – Merging Unladen Swallow into CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3147/">PEP 3147 – PYC Repository Directories</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3148/">PEP 3148 – futures - execute computations asynchronously</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3149/">PEP 3149 – ABI version tagged .so files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3150/">PEP 3150 – Statement local namespaces (aka “given” clause)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3151/">PEP 3151 – Reworking the OS and IO exception hierarchy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3152/">PEP 3152 – Cofunctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3153/">PEP 3153 – Asynchronous IO support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3154/">PEP 3154 – Pickle protocol version 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3155/">PEP 3155 – Qualified name for classes and functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3156/">PEP 3156 – Asynchronous IO Support Rebooted: the “asyncio” Module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PEP 3333 – Python Web Server Gateway Interface v1.0.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8000/">PEP 8000 – Python Language Governance Proposal Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8001/">PEP 8001 – Python Governance Voting Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8002/">PEP 8002 – Open Source Governance Survey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8010/">PEP 8010 – The Technical Leader Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8011/">PEP 8011 – Python Governance Model Lead by Trio of Pythonistas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8012/">PEP 8012 – The Community Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8013/">PEP 8013 – The External Council Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8014/">PEP 8014 – The Commons Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8015/">PEP 8015 – Organization of the Python community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8016/">PEP 8016 – The Steering Council Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8100/">PEP 8100 – January 2019 steering council election</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8101/">PEP 8101 – 2020 Term steering council election</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8102/">PEP 8102 – 2021 Term steering council election</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../contents/">Documentation overview</a><ul>
      <li>Previous: <a href="../pep-3156/" title="previous chapter">PEP 3156 – Asynchronous IO Support Rebooted: the “asyncio” Module</a></li>
      <li>Next: <a href="../pep-8000/" title="next chapter">PEP 8000 – Python Language Governance Proposal Overview</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
      
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/pep-3333.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>