
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>PEP 635 – Structural Pattern Matching: Motivation and Rationale &#8212; peps.python.org</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="PEP 636 – Structural Pattern Matching: Tutorial" href="../pep-0636/" />
    <link rel="prev" title="PEP 634 – Structural Pattern Matching: Specification" href="../pep-0634/" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pep-635-structural-pattern-matching-motivation-and-rationale">
<h1 class="page-title">PEP 635 – Structural Pattern Matching: Motivation and Rationale<a class="headerlink" href="#pep-635-structural-pattern-matching-motivation-and-rationale" title="Permalink to this headline">¶</a></h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">PEP</dt>
<dd class="field-odd"><p>635</p>
</dd>
<dt class="field-even">Title</dt>
<dd class="field-even"><p>Structural Pattern Matching: Motivation and Rationale</p>
</dd>
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>Tobias Kohn &lt;<a class="reference external" href="mailto:kohnt&#37;&#52;&#48;tobiaskohn&#46;ch?subject=PEP%20-1">kohnt&#32;&#97;t&#32;tobiaskohn.ch</a>&gt;,
Guido van Rossum &lt;<a class="reference external" href="mailto:guido&#37;&#52;&#48;python&#46;org?subject=PEP%20-1">guido&#32;&#97;t&#32;python.org</a>&gt;</p>
</dd>
<dt class="field-even">BDFL-Delegate</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">Discussions-To</dt>
<dd class="field-odd"><p>Python-Dev &lt;<a class="reference external" href="mailto:python-dev&#37;&#52;&#48;python&#46;org">python-dev<span>&#64;</span>python<span>&#46;</span>org</a>&gt;</p>
</dd>
<dt class="field-even">Status</dt>
<dd class="field-even"><p>Final</p>
</dd>
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Informational</p>
</dd>
<dt class="field-even">Created</dt>
<dd class="field-even"><p>12-Sep-2020</p>
</dd>
<dt class="field-odd">Python-Version</dt>
<dd class="field-odd"><p>3.10</p>
</dd>
<dt class="field-even">Post-History</dt>
<dd class="field-even"><p>22-Oct-2020, 08-Feb-2021</p>
</dd>
<dt class="field-odd">Resolution</dt>
<dd class="field-odd"><p><a class="reference external" href="https://mail.python.org/archives/list/python-committers&#64;python.org/message/SQC2FTLFV5A7DV7RCEAR2I2IKJKGK7W3">https://mail.python.org/archives/list/python-committers&#64;python.org/message/SQC2FTLFV5A7DV7RCEAR2I2IKJKGK7W3</a></p>
</dd>
</dl>
<hr class="docutils" />
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#abstract" id="id9">Abstract</a></p></li>
<li><p><a class="reference internal" href="#motivation" id="id10">Motivation</a></p>
<ul>
<li><p><a class="reference internal" href="#pattern-matching-and-oo" id="id11">Pattern Matching and OO</a></p></li>
<li><p><a class="reference internal" href="#patterns-and-functional-style" id="id12">Patterns and Functional Style</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#rationale" id="id13">Rationale</a></p>
<ul>
<li><p><a class="reference internal" href="#overview-and-terminology" id="id14">Overview and Terminology</a></p></li>
<li><p><a class="reference internal" href="#the-match-statement" id="id15">The Match Statement</a></p>
<ul>
<li><p><a class="reference internal" href="#match-semantics" id="id16">Match Semantics</a></p></li>
<li><p><a class="reference internal" href="#guards" id="id17">Guards</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#patterns" id="id18">Patterns</a></p>
<ul>
<li><p><a class="reference internal" href="#as-patterns" id="id19">AS Patterns</a></p></li>
<li><p><a class="reference internal" href="#or-patterns" id="id20">OR Patterns</a></p></li>
<li><p><a class="reference internal" href="#literal-patterns" id="id21">Literal Patterns</a></p></li>
<li><p><a class="reference internal" href="#capture-patterns" id="id22">Capture Patterns</a></p></li>
<li><p><a class="reference internal" href="#wildcard-pattern" id="id23">Wildcard Pattern</a></p></li>
<li><p><a class="reference internal" href="#value-patterns" id="id24">Value Patterns</a></p></li>
<li><p><a class="reference internal" href="#group-patterns" id="id25">Group Patterns</a></p></li>
<li><p><a class="reference internal" href="#sequence-patterns" id="id26">Sequence Patterns</a></p></li>
<li><p><a class="reference internal" href="#mapping-patterns" id="id27">Mapping Patterns</a></p></li>
<li><p><a class="reference internal" href="#class-patterns" id="id28">Class Patterns</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#history-and-context" id="id29">History and Context</a></p></li>
<li><p><a class="reference internal" href="#backwards-compatibility" id="id30">Backwards Compatibility</a></p></li>
<li><p><a class="reference internal" href="#security-implications" id="id31">Security Implications</a></p></li>
<li><p><a class="reference internal" href="#reference-implementation" id="id32">Reference Implementation</a></p></li>
<li><p><a class="reference internal" href="#references" id="id33">References</a></p></li>
<li><p><a class="reference internal" href="#copyright" id="id34">Copyright</a></p></li>
</ul>
</div>
<section id="abstract">
<h2><a class="toc-backref" href="#id9">Abstract</a><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>This PEP provides the motivation and rationale for <a class="reference external" href="pep-0634.html">PEP 634</a>
(“Structural Pattern Matching: Specification”).  First-time readers
are encouraged to start with <a class="reference external" href="pep-0636.html">PEP 636</a>, which provides a gentler
introduction to the concepts, syntax and semantics of patterns.</p>
</section>
<section id="motivation">
<h2><a class="toc-backref" href="#id10">Motivation</a><a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>(Structural) pattern matching syntax is found in many languages, from
Haskell, Erlang and Scala to Elixir and Ruby.  (A proposal for
JavaScript is also under consideration.)</p>
<p>Python already supports a limited form of this through sequence
unpacking assignments, which the new proposal leverages.</p>
<p>Several other common Python idioms are also relevant:</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">...</span> <span class="pre">elif</span> <span class="pre">...</span> <span class="pre">elif</span> <span class="pre">...</span> <span class="pre">else</span></code> idiom is often used to find
out the type or shape of an object in an ad-hoc fashion, using one
or more checks like <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">cls)</span></code>, <code class="docutils literal notranslate"><span class="pre">hasattr(x,</span> <span class="pre">&quot;attr&quot;)</span></code>,
<code class="docutils literal notranslate"><span class="pre">len(x)</span> <span class="pre">==</span> <span class="pre">n</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;key&quot;</span> <span class="pre">in</span> <span class="pre">x</span></code> as guards to select an applicable
block.  The block can then assume <code class="docutils literal notranslate"><span class="pre">x</span></code> supports the interface
checked by the guard.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="n">host</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="n">x</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;http&quot;</span>
<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
    <span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">x</span>
<span class="c1"># Etc.</span>
</pre></div>
</div>
<p>Code like this is more elegantly rendered using <code class="docutils literal notranslate"><span class="pre">match</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="n">x</span><span class="p">:</span>
    <span class="n">case</span> <span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;http&quot;</span>
    <span class="n">case</span> <span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="c1"># Etc.</span>
</pre></div>
</div>
</li>
<li><p>AST traversal code often looks for nodes matching a given pattern,
for example the code to detect a node of the shape “A + B * C” might
look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">BinOp</span><span class="p">)</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">op</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span>
        <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="n">BinOp</span><span class="p">)</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">op</span> <span class="o">==</span> <span class="s2">&quot;*&quot;</span><span class="p">):</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">node</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">node</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">right</span>
    <span class="c1"># Handle a + b*c</span>
</pre></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">match</span></code> this becomes more readable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="n">node</span><span class="p">:</span>
    <span class="n">case</span> <span class="n">BinOp</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">BinOp</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)):</span>
        <span class="c1"># Handle a + b*c</span>
</pre></div>
</div>
</li>
</ul>
<p>We believe that adding pattern matching to Python will enable Python
users to write cleaner, more readable code for examples like those
above, and many others.</p>
<p>For a more academic discussion to this proposal, see <a class="footnote-reference brackets" href="#id6" id="id1">1</a>.</p>
<section id="pattern-matching-and-oo">
<h3><a class="toc-backref" href="#id11">Pattern Matching and OO</a><a class="headerlink" href="#pattern-matching-and-oo" title="Permalink to this headline">¶</a></h3>
<p>Pattern matching is complimentary to the object-oriented paradigm.
Using OO and inheritance we can easily define a method on a base class
that defines default behavior for a specific operation on that class,
and we can override this default behavior in subclasses.  We can also
use the Visitor pattern to separate actions from data.</p>
<p>But this is not sufficient for all situations.  For example, a code
generator may consume an AST, and have many operations where the
generated code needs to vary based not just on the class of a node,
but also on the value of some class attributes, like the <code class="docutils literal notranslate"><span class="pre">BinOp</span></code>
example above.  The Visitor pattern is insufficiently flexible for
this: it can only select based on the class.</p>
<p>For a complete example, see
<a class="reference external" href="https://github.com/gvanrossum/patma/blob/master/examples/expr.py#L231">https://github.com/gvanrossum/patma/blob/master/examples/expr.py#L231</a></p>
<p>Like the Visitor pattern, pattern matching allows for a strict separation
of concerns: specific actions or data processing is independent of the
class hierarchy or manipulated objects.  When dealing with predefined or
even built-in classes, in particular, it is often impossible to add further
methods to the individual classes.  Pattern matching not only relieves the
programmer or class designer from the burden of the boilerplate code needed
for the Visitor pattern, but is also flexible enough to directly work with
built-in types.  It naturally distinguishes between sequences of different
lengths, which might all share the same class despite obviously differing
structures.  Moreover, pattern matching automatically takes inheritance
into account: a class <em>D</em> inheriting from <em>C</em> will be handled by a pattern
that targets <em>C</em> by default.</p>
<p>Object oriented programming is geared towards single-dispatch: it is a
single instance (or the type thereof) that determines which method is to
be called.  This leads to a somewhat artificial situation in case of binary
operators where both objects might play an equal role in deciding which
implementation to use (Python addresses this through the use of reversed
binary methods).  Pattern matching is structurally better suited to handle
such situations of multi-dispatch, where the action to be taken depends on
the types of several objects to equal parts.</p>
</section>
<section id="patterns-and-functional-style">
<h3><a class="toc-backref" href="#id12">Patterns and Functional Style</a><a class="headerlink" href="#patterns-and-functional-style" title="Permalink to this headline">¶</a></h3>
<p>Many Python applications and libraries are not written in a consistent
OO style – unlike Java, Python encourages defining functions at the
top-level of a module, and for simple data structures, tuples (or
named tuples or lists) and dictionaries are often used exclusively or
mixed with classes or data classes.</p>
<p>Pattern matching is particularly suitable for picking apart such data
structures.  As an extreme example, it’s easy to write code that picks
a JSON data structure using <code class="docutils literal notranslate"><span class="pre">match</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="n">json_pet</span><span class="p">:</span>
    <span class="n">case</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;pattern&quot;</span><span class="p">:</span> <span class="n">pattern</span><span class="p">}:</span>
        <span class="k">return</span> <span class="n">Cat</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span>
    <span class="n">case</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;breed&quot;</span><span class="p">:</span> <span class="n">breed</span><span class="p">}:</span>
        <span class="k">return</span> <span class="n">Dog</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">breed</span><span class="p">)</span>
    <span class="n">case</span> <span class="n">_</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not a suitable pet&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Functional programming generally prefers a declarative style with a focus
on relationships in data.  Side effects are avoided whenever possible.
Pattern matching thus naturally fits and highly supports functional
programming style.</p>
</section>
</section>
<section id="rationale">
<h2><a class="toc-backref" href="#id13">Rationale</a><a class="headerlink" href="#rationale" title="Permalink to this headline">¶</a></h2>
<p>This section provides the rationale for individual design decisions.
It takes the place of “Rejected ideas” in the standard PEP format.
It is organized in sections corresponding to the specification (<a class="reference external" href="pep-0634.html">PEP 634</a>).</p>
<section id="overview-and-terminology">
<h3><a class="toc-backref" href="#id14">Overview and Terminology</a><a class="headerlink" href="#overview-and-terminology" title="Permalink to this headline">¶</a></h3>
<p>Much of the power of pattern matching comes from the nesting of subpatterns.
That the success of a pattern match depends directly on the success of
subpattern is thus a cornerstone of the design.  However, although a
pattern like <code class="docutils literal notranslate"><span class="pre">P(Q(),</span> <span class="pre">R())</span></code> succeeds only if both subpatterns <code class="docutils literal notranslate"><span class="pre">Q()</span></code>
and <code class="docutils literal notranslate"><span class="pre">R()</span></code> succeed (i.e. the success of pattern <code class="docutils literal notranslate"><span class="pre">P</span></code> depends on <code class="docutils literal notranslate"><span class="pre">Q</span></code>
and <code class="docutils literal notranslate"><span class="pre">R</span></code>), the pattern <code class="docutils literal notranslate"><span class="pre">P</span></code> is checked first.  If <code class="docutils literal notranslate"><span class="pre">P</span></code> fails, neither
<code class="docutils literal notranslate"><span class="pre">Q()</span></code> nor <code class="docutils literal notranslate"><span class="pre">R()</span></code> will be tried (this is a direct consequence of the
fact that if <code class="docutils literal notranslate"><span class="pre">P</span></code> fails, there are no subjects to match against <code class="docutils literal notranslate"><span class="pre">Q()</span></code>
and <code class="docutils literal notranslate"><span class="pre">R()</span></code> in the first place).</p>
<p>Also note that patterns bind names to values rather than performing an
assignment.  This reflects the fact that patterns aim to not have side
effects, which also means that Capture or AS patterns cannot assign a
value to an attribute or subscript.  We thus consistently use the term
‘bind’ instead of ‘assign’ to emphasise this subtle difference between
traditional assignments and name binding in patterns.</p>
</section>
<section id="the-match-statement">
<h3><a class="toc-backref" href="#id15">The Match Statement</a><a class="headerlink" href="#the-match-statement" title="Permalink to this headline">¶</a></h3>
<p>The match statement evaluates an expression to produce a subject, finds the
first pattern that matches the subject, and executes the associated block
of code.  Syntactically, the match statement thus takes an expression and
a sequence of case clauses, where each case clause comprises a pattern and
a block of code.</p>
<p>Since case clauses comprise a block of code, they adhere to the existing
indentation scheme with the syntactic structure of
<code class="docutils literal notranslate"><span class="pre">&lt;keyword&gt;</span> <span class="pre">...:</span> <span class="pre">&lt;(indented)</span> <span class="pre">block&gt;</span></code>, which resembles a compound
statement.  The keyword <code class="docutils literal notranslate"><span class="pre">case</span></code> reflects its widespread use in
pattern matching languages, ignoring those languages that use other
syntactic means such as a symbol like <code class="docutils literal notranslate"><span class="pre">|</span></code>, because it would not fit
established Python structures.  The syntax of patterns following the
keyword is discussed below.</p>
<p>Given that the case clauses follow the structure of a compound statement,
the match statement itself naturally becomes a compound statement itself
as well, following the same syntactic structure.  This naturally leads to
<code class="docutils literal notranslate"><span class="pre">match</span> <span class="pre">&lt;expr&gt;:</span> <span class="pre">&lt;case_clause&gt;+</span></code>.  Note that the match statement determines
a quasi-scope in which the evaluated subject is kept alive (although not in
a local variable), similar to how a with statement might keep a resource
alive during execution of its block.  Furthermore, control flows from the
match statement to a case clause and then leaves the block of the match
statement.  The block of the match statement thus has both syntactic and
semantic meaning.</p>
<p>Various suggestions have sought to eliminate or avoid the naturally arising
“double indentation” of a case clause’s code block.  Unfortunately, all such
proposals of <em>flat indentation schemes</em> come at the expense of violating
Python’s established structural paradigm, leading to additional syntactic
rules:</p>
<ul>
<li><p><em>Unindented case clauses.</em>
The idea is to align case clauses with the <code class="docutils literal notranslate"><span class="pre">match</span></code>, i.e.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="n">expression</span><span class="p">:</span>
<span class="n">case</span> <span class="n">pattern_1</span><span class="p">:</span>
    <span class="o">...</span>
<span class="n">case</span> <span class="n">pattern_2</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This may look awkward to the eye of a Python programmer, because
everywhere else a colon is followed by an indent.  The <code class="docutils literal notranslate"><span class="pre">match</span></code> would
neither follow the syntactic scheme of simple nor composite statements
but rather establish a category of its own.</p>
</li>
<li><p><em>Putting the expression on a separate line after “match”.</em>
The idea is to use the expression yielding the subject as a statement
to avoid the singularity of <code class="docutils literal notranslate"><span class="pre">match</span></code> having no actual block despite
the colons:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">match</span><span class="p">:</span>
    <span class="n">expression</span>
<span class="n">case</span> <span class="n">pattern_1</span><span class="p">:</span>
    <span class="o">...</span>
<span class="n">case</span> <span class="n">pattern_2</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This was ultimately rejected because the first block would be another
novelty in Python’s grammar: a block whose only content is a single
expression rather than a sequence of statements.  Attempts to amend this
issue by adding or repurposing yet another keyword along the lines of
<code class="docutils literal notranslate"><span class="pre">match:</span> <span class="pre">return</span> <span class="pre">expression</span></code> did not yield any satisfactory solution.</p>
</li>
</ul>
<p>Although flat indentation would save some horizontal space, the cost of
increased complexity or unusual rules is too high.  It would also complicate
life for simple-minded code editors. Finally, the horizontal space issue can
be alleviated by allowing “half-indent” (i.e. two spaces instead of four)
for match statements (though we do not recommend this).</p>
<p>In sample programs using <code class="docutils literal notranslate"><span class="pre">match</span></code>, written as part of the development of this
PEP, a noticeable improvement in code brevity is observed, more than making
up for the additional indentation level.</p>
<p><em>Statement vs. Expression.</em>  Some suggestions centered around the idea of
making <code class="docutils literal notranslate"><span class="pre">match</span></code> an expression rather than a statement.  However, this
would fit poorly with Python’s statement-oriented nature and lead to
unusually long and complex expressions and the need to invent new
syntactic constructs or break well established syntactic rules.  An
obvious consequence of <code class="docutils literal notranslate"><span class="pre">match</span></code> as an expression would be that case
clauses could no longer have arbitrary blocks of code attached, but only
a single expression.  Overall, the strong limitations could in no way
offset the slight simplification in some special use cases.</p>
<p><em>Hard vs. Soft Keyword.</em>  There were options to make match a hard keyword,
or choose a different keyword. Although using a hard keyword would simplify
life for simple-minded syntax highlighters, we decided not to use hard
keyword for several reasons:</p>
<ul class="simple">
<li><p>Most importantly, the new parser doesn’t require us to do this. Unlike
with <code class="docutils literal notranslate"><span class="pre">async</span></code> that caused hardships with being a soft keyword for few
releases, here we can make <code class="docutils literal notranslate"><span class="pre">match</span></code> a permanent soft keyword.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">match</span></code> is so commonly used in existing code, that it would break
almost every existing program and will put a burden to fix code on many
people who may not even benefit from the new syntax.</p></li>
<li><p>It is hard to find an alternative keyword that would not be commonly used
in existing programs as an identifier, and would still clearly reflect the
meaning of the statement.</p></li>
</ul>
<p><strong>Use “as” or “|” instead of “case” for case clauses.</strong>
The pattern matching proposed here is a combination of multi-branch control
flow (in line with <code class="docutils literal notranslate"><span class="pre">switch</span></code> in Algol-derived languages or <code class="docutils literal notranslate"><span class="pre">cond</span></code> in Lisp)
and object-deconstruction as found in functional languages.  While the proposed
keyword <code class="docutils literal notranslate"><span class="pre">case</span></code> highlights the multi-branch aspect, alternative keywords such
as <code class="docutils literal notranslate"><span class="pre">as</span></code> would equally be possible, highlighting the deconstruction aspect.
<code class="docutils literal notranslate"><span class="pre">as</span></code> or <code class="docutils literal notranslate"><span class="pre">with</span></code>, for instance, also have the advantage of already being
keywords in Python.  However, since <code class="docutils literal notranslate"><span class="pre">case</span></code> as a keyword can only occur as a
leading keyword inside  a <code class="docutils literal notranslate"><span class="pre">match</span></code> statement, it is easy for a parser to
distinguish between its use as a keyword or as a variable.</p>
<p>Other variants would use a symbol like <code class="docutils literal notranslate"><span class="pre">|</span></code> or <code class="docutils literal notranslate"><span class="pre">=&gt;</span></code>, or go entirely without
special marker.</p>
<p>Since Python is a statement-oriented language in the tradition of Algol, and as
each composite statement starts with an identifying keyword, <code class="docutils literal notranslate"><span class="pre">case</span></code> seemed to
be most in line with Python’s style and traditions.</p>
<section id="match-semantics">
<h4><a class="toc-backref" href="#id16">Match Semantics</a><a class="headerlink" href="#match-semantics" title="Permalink to this headline">¶</a></h4>
<p>The patterns of different case clauses might overlap in that more than
one case clause would match a given subject.  The first-to-match rule
ensures that the selection of a case clause for a given subject is
unambiguous.  Furthermore, case clauses can have increasingly general
patterns matching wider sets of subjects.  The first-to-match rule
then ensures that the most precise pattern can be chosen (although it
is the programmer’s responsibility to order the case clauses correctly).</p>
<p>In a statically typed language, the match statement would be compiled to
a decision tree to select a matching pattern quickly and very efficiently.
This would, however, require that all patterns be purely declarative and
static, running against the established dynamic semantics of Python.  The
proposed semantics thus represent a path incorporating the best of both
worlds: patterns are tried in a strictly sequential order so that each
case clause constitutes an actual statement.  At the same time, we allow
the interpreter to cache any information about the subject or change the
order in which subpatterns are tried.  In other words: if the interpreter
has found that the subject is not an instance of a class <code class="docutils literal notranslate"><span class="pre">C</span></code>, it can
directly skip case clauses testing for this again, without having to
perform repeated instance-checks.  If a guard stipulates that a variable
<code class="docutils literal notranslate"><span class="pre">x</span></code> must be positive, say (i.e. <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>), the interpreter might
check this directly after binding <code class="docutils literal notranslate"><span class="pre">x</span></code> and before any further
subpatterns are considered.</p>
<p><em>Binding and scoping.</em>  In many pattern matching implementations, each
case clause would establish a separate scope of its own.  Variables bound
by a pattern would then only be visible inside the corresponding case block.
In Python, however, this does not make sense.  Establishing separate scopes
would essentially mean that each case clause is a separate function without
direct access to the variables in the surrounding scope (without having to
resort to <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> that is).  Moreover, a case clause could no longer
influence any surrounding control flow through standard statement such as
<code class="docutils literal notranslate"><span class="pre">return</span></code> or <code class="docutils literal notranslate"><span class="pre">break</span></code>.  Hence, such strict scoping would lead to
unintuitive and surprising behavior.</p>
<p>A direct consequence of this is that any variable bindings outlive the
respective case or match statements.  Even patterns that only match a
subject partially might bind local variables (this is, in fact, necessary
for guards to function properly).  However, these semantics for variable
binding are in line with existing Python structures such as for loops and
with statements.</p>
</section>
<section id="guards">
<h4><a class="toc-backref" href="#id17">Guards</a><a class="headerlink" href="#guards" title="Permalink to this headline">¶</a></h4>
<p>Some constraints cannot be adequately expressed through patterns alone.
For instance, a ‘less’ or ‘greater than’ relationship defies the usual
‘equal’ semantics of patterns.  Moreover, different subpatterns are
independent and cannot refer to each other.  The addition of <em>guards</em>
addresses these restrictions: a guard is an arbitrary expression attached
to a pattern and that must evaluate to a “truthy” value for the pattern to succeed.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">[x,</span> <span class="pre">y]</span> <span class="pre">if</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y:</span></code> uses a guard (<code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y</span></code>) to
express a ‘less than’ relationship between two otherwise disjoint capture
patterns <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<p>From a conceptual point of view, patterns describe structural constraints
on the subject in a declarative style, ideally without any side-effects.
Recall, in particular, that patterns are clearly distinct from expressions,
following different objectives and semantics.  Guards then enhance case
blocks in a highly controlled way with arbitrary expressions (that might
have side effects).  Splitting the overall functionality into a static structural
and a dynamically evaluated part not only helps with readability, but can
also introduce dramatic potential for compiler optimizations.  To keep this
clear separation, guards are only supported on the level of case clauses
and not for individual patterns.</p>
<p><strong>Example</strong> using guards:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sort</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="n">match</span> <span class="n">seq</span><span class="p">:</span>
        <span class="n">case</span> <span class="p">[]</span> <span class="o">|</span> <span class="p">[</span><span class="n">_</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">seq</span>
        <span class="n">case</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">seq</span>
        <span class="n">case</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">]</span>
        <span class="n">case</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="n">z</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">seq</span>
        <span class="n">case</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="n">z</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">z</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">]</span>
        <span class="n">case</span> <span class="p">[</span><span class="n">p</span><span class="p">,</span> <span class="o">*</span><span class="n">rest</span><span class="p">]:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">sort</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">rest</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">p</span><span class="p">])</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">sort</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">rest</span> <span class="k">if</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
</section>
</section>
<section id="patterns">
<span id="id2"></span><h3><a class="toc-backref" href="#id18">Patterns</a><a class="headerlink" href="#patterns" title="Permalink to this headline">¶</a></h3>
<p>Patterns fulfill two purposes: they impose (structural) constraints on
the subject and they specify which data values should be extracted from
the subject and bound to variables.  In iterable unpacking, which can be
seen as a prototype to pattern matching in Python, there is only one
<em>structural pattern</em> to express sequences while there is a rich set of
<em>binding patterns</em> to assign a value to a specific variable or field.
Full pattern matching differs from this in that there is more variety
in structural patterns but only a minimum of binding patterns.</p>
<p>Patterns differ from assignment targets (as in iterable unpacking) in two ways:
they impose additional constraints on the structure of the subject, and
a subject may safely fail to match a specific pattern at any point
(in iterable unpacking, this constitutes an error).  The latter means that
pattern should avoid side effects wherever possible.</p>
<p>This desire to avoid side effects is one reason why capture patterns
don’t allow binding values to attributes or subscripts: if the
containing pattern were to fail in a later step, it would be hard to
revert such bindings.</p>
<p>A cornerstone of pattern matching is the possibility of arbitrarily
<em>nesting patterns</em>.  The nesting allows expressing deep
tree structures (for an example of nested class patterns, see the motivation
section above) as well as alternatives.</p>
<p>Although patterns might superficially look like expressions,
it is important to keep in mind that there is a clear distinction.  In fact,
no pattern is or contains an expression.  It is more productive to think of
patterns as declarative elements similar to the formal parameters in a
function definition.</p>
<section id="as-patterns">
<h4><a class="toc-backref" href="#id19">AS Patterns</a><a class="headerlink" href="#as-patterns" title="Permalink to this headline">¶</a></h4>
<p>Patterns fall into two categories: most patterns impose a (structural)
constraint that the subject needs to fulfill, whereas the capture pattern
binds the subject to a name without regard for the subject’s structure or
actual value.  Consequently, a pattern can either express a constraint or
bind a value, but not both.  AS patterns fill this gap in that they
allow the user to specify a general pattern as well as capture the subject
in a variable.</p>
<p>Typical use cases for the AS pattern include OR and Class patterns
together with a binding name as in, e.g., <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">BinOp('+'|'-'</span> <span class="pre">as</span> <span class="pre">op,</span> <span class="pre">...):</span></code>
or <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">[int()</span> <span class="pre">as</span> <span class="pre">first,</span> <span class="pre">int()</span> <span class="pre">as</span> <span class="pre">second]:</span></code>.  The latter could be
understood as saying that the subject must fulfil two distinct pattern:
<code class="docutils literal notranslate"><span class="pre">[first,</span> <span class="pre">second]</span></code> as well as <code class="docutils literal notranslate"><span class="pre">[int(),</span> <span class="pre">int()]</span></code>.  The AS pattern
can thus be seen as a special case of an ‘and’ pattern (see OR patterns
below for an additional discussion of ‘and’ patterns).</p>
<p>In an earlier version, the AS pattern was devised as a ‘Walrus pattern’,
written as <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">[first:=int(),</span> <span class="pre">second:=int()]</span></code>.  However, using <code class="docutils literal notranslate"><span class="pre">as</span></code>
offers some advantages over <code class="docutils literal notranslate"><span class="pre">:=</span></code>:</p>
<ul class="simple">
<li><p>The walrus operator <code class="docutils literal notranslate"><span class="pre">:=</span></code> is used to capture the result of an expression
on the right hand side, whereas <code class="docutils literal notranslate"><span class="pre">as</span></code> generally indicates some form of
‘processing’ as in <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">foo</span> <span class="pre">as</span> <span class="pre">bar</span></code> or <code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">E</span> <span class="pre">as</span> <span class="pre">err:</span></code>.  Indeed,
the pattern <code class="docutils literal notranslate"><span class="pre">P</span> <span class="pre">as</span> <span class="pre">x</span></code> does not assign the pattern <code class="docutils literal notranslate"><span class="pre">P</span></code> to <code class="docutils literal notranslate"><span class="pre">x</span></code>, but
rather the subject that successfully matches <code class="docutils literal notranslate"><span class="pre">P</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">as</span></code> allows for a more consistent data flow from left to right (the
attributes in Class patterns also follow a left-to-right data flow).</p></li>
<li><p>The walrus operator looks very similar to the syntax for matching attributes in the Class pattern,
potentially leading to some confusion.</p></li>
</ul>
<p><strong>Example</strong> using the AS pattern:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">simplify_expr</span><span class="p">(</span><span class="n">tokens</span><span class="p">):</span>
    <span class="n">match</span> <span class="n">tokens</span><span class="p">:</span>
        <span class="n">case</span> <span class="p">[(</span><span class="s1">&#39;(&#39;</span><span class="o">|</span><span class="s1">&#39;[&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">l</span><span class="p">,</span> <span class="o">*</span><span class="n">expr</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="o">|</span><span class="s1">&#39;]&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">r</span><span class="p">]</span> <span class="k">if</span> <span class="p">(</span><span class="n">l</span><span class="o">+</span><span class="n">r</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;()&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">simplify_expr</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span>
        <span class="n">case</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="o">|</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">op</span><span class="p">,</span> <span class="n">right</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">UnaryOp</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
        <span class="n">case</span> <span class="p">[(</span><span class="nb">int</span><span class="p">()</span> <span class="o">|</span> <span class="nb">float</span><span class="p">()</span> <span class="k">as</span> <span class="n">left</span><span class="p">)</span> <span class="o">|</span> <span class="n">Num</span><span class="p">(</span><span class="n">left</span><span class="p">),</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">()</span> <span class="o">|</span> <span class="nb">float</span><span class="p">()</span> <span class="k">as</span> <span class="n">right</span><span class="p">)</span> <span class="o">|</span> <span class="n">Num</span><span class="p">(</span><span class="n">right</span><span class="p">)]:</span>
            <span class="k">return</span> <span class="n">Num</span><span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span>
        <span class="n">case</span> <span class="p">[(</span><span class="nb">int</span><span class="p">()</span> <span class="o">|</span> <span class="nb">float</span><span class="p">())</span> <span class="k">as</span> <span class="n">value</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">Num</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="or-patterns">
<h4><a class="toc-backref" href="#id20">OR Patterns</a><a class="headerlink" href="#or-patterns" title="Permalink to this headline">¶</a></h4>
<p>The OR pattern allows you to combine ‘structurally equivalent’ alternatives
into a new pattern, i.e. several patterns can share a common handler.  If any
of an OR pattern’s subpatterns matches the subject, the entire OR
pattern succeeds.</p>
<p>Statically typed languages prohibit the binding of names (capture patterns)
inside an OR pattern because of potential conflicts concerning the types of
variables.  As a dynamically typed language, Python can be less restrictive
here and allow capture patterns inside OR patterns.  However, each subpattern
must bind the same set of variables so as not to leave potentially undefined
names.  With two alternatives <code class="docutils literal notranslate"><span class="pre">P</span> <span class="pre">|</span> <span class="pre">Q</span></code>, this means that if <em>P</em> binds the
variables <em>u</em> and <em>v</em>, <em>Q</em> must bind exactly the same variables <em>u</em> and <em>v</em>.</p>
<p>There was some discussion on whether to use the bar symbol <code class="docutils literal notranslate"><span class="pre">|</span></code> or the <code class="docutils literal notranslate"><span class="pre">or</span></code>
keyword to separate alternatives.  The OR pattern does not fully fit
the existing semantics and usage of either of these two symbols.  However,
<code class="docutils literal notranslate"><span class="pre">|</span></code> is the symbol of choice in all programming languages with support of
the OR pattern and is used in that capacity for regular expressions in
Python as well.  It is also the traditional separator between alternatives
in formal grammars (including Python’s).
Moreover, <code class="docutils literal notranslate"><span class="pre">|</span></code> is not only used for bitwise OR, but also
for set unions and dict merging (<span class="target" id="index-0"></span><a class="pep reference external" href="pep-0584.html"><strong>PEP 584</strong></a>).</p>
<p>Other alternatives were considered as well, but none of these would allow
OR-patterns to be nested inside other patterns:</p>
<ul>
<li><p><em>Using a comma</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="mi">401</span><span class="p">,</span> <span class="mi">403</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Some HTTP error&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This looks too much like a tuple – we would have to find a different way
to spell tuples, and the construct would have to be parenthesized inside
the argument list of a class pattern. In general, commas already have many
different meanings in Python, we shouldn’t add more.</p>
</li>
<li><p><em>Using stacked cases</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="mi">401</span><span class="p">:</span>
<span class="n">case</span> <span class="mi">403</span><span class="p">:</span>
<span class="n">case</span> <span class="mi">404</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Some HTTP error&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is how this would be done in <em>C</em>, using its fall-through semantics
for cases. However, we don’t want to mislead people into thinking that
match/case uses fall-through semantics (which are a common source of bugs
in <em>C</em>). Also, this would be a novel indentation pattern, which might make
it harder to support in IDEs and such (it would break the simple rule “add
an indentation level after a line ending in a colon”).  Finally, this
would not support OR patterns nested inside other patterns, either.</p>
</li>
<li><p><em>Using “case in” followed by a comma-separated list</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="ow">in</span> <span class="mi">401</span><span class="p">,</span> <span class="mi">403</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Some HTTP error&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This would not work for OR patterns nested inside other patterns, like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A corner of the unit square&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>AND and NOT Patterns</strong></p>
<p>Since this proposal defines an OR-pattern (<code class="docutils literal notranslate"><span class="pre">|</span></code>) to match one of several alternates,
why not also an AND-pattern (<code class="docutils literal notranslate"><span class="pre">&amp;</span></code>) or even a NOT-pattern (<code class="docutils literal notranslate"><span class="pre">!</span></code>)?
Especially given that some other languages (<code class="docutils literal notranslate"><span class="pre">F#</span></code> for example) support
AND-patterns.</p>
<p>However, it is not clear how useful this would be. The semantics for matching
dictionaries, objects and sequences already incorporates an implicit ‘and’:
all attributes and elements mentioned must be present for the match to
succeed. Guard conditions can also support many of the use cases that a
hypothetical ‘and’ operator would be used for.</p>
<p>A negation of a match pattern using the operator <code class="docutils literal notranslate"><span class="pre">!</span></code> as a prefix
would match exactly if the pattern itself does not match.  For
instance, <code class="docutils literal notranslate"><span class="pre">!(3</span> <span class="pre">|</span> <span class="pre">4)</span></code> would match anything except <code class="docutils literal notranslate"><span class="pre">3</span></code> or <code class="docutils literal notranslate"><span class="pre">4</span></code>.
However, there is <a class="reference external" href="https://dl.acm.org/doi/abs/10.1145/2480360.2384582">evidence from other languages</a> that this is
rarely useful, and primarily used as double negation <code class="docutils literal notranslate"><span class="pre">!!</span></code> to control
variable scopes and prevent variable bindings (which does not apply to
Python).  Other use cases are better expressed using guards.</p>
<p>In the end, it was decided that this would make the syntax more complex
without adding a significant benefit.  It can always be added later.</p>
<p><strong>Example</strong> using the OR pattern:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">simplify</span><span class="p">(</span><span class="n">expr</span><span class="p">):</span>
    <span class="n">match</span> <span class="n">expr</span><span class="p">:</span>
        <span class="n">case</span> <span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">expr</span>
        <span class="n">case</span> <span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="o">|</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">_</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">case</span> <span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="o">|</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="o">|</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">x</span>
    <span class="k">return</span> <span class="n">expr</span>
</pre></div>
</div>
</section>
<section id="literal-patterns">
<span id="literal-pattern"></span><h4><a class="toc-backref" href="#id21">Literal Patterns</a><a class="headerlink" href="#literal-patterns" title="Permalink to this headline">¶</a></h4>
<p>Literal patterns are a convenient way for imposing constraints on the
value of a subject, rather than its type or structure.  They also
allow you to emulate a switch statement using pattern matching.</p>
<p>Generally, the subject is compared to a literal pattern by means of standard
equality (<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">y</span></code> in Python syntax).  Consequently, the literal patterns
<code class="docutils literal notranslate"><span class="pre">1.0</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code> match exactly the same set of objects, i.e. <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">1.0:</span></code>
and <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">1:</span></code> are fully interchangeable.  In principle, <code class="docutils literal notranslate"><span class="pre">True</span></code> would also
match the same set of objects because <code class="docutils literal notranslate"><span class="pre">True</span> <span class="pre">==</span> <span class="pre">1</span></code> holds.  However, we
believe that many users would be surprised finding that <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">True:</span></code>
matched the subject <code class="docutils literal notranslate"><span class="pre">1.0</span></code>, resulting in some subtle bugs and convoluted
workarounds.  We therefore adopted the rule that the three singleton
patterns <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">False</span></code> and <code class="docutils literal notranslate"><span class="pre">True</span></code> match by identity (<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">y</span></code> in
Python syntax) rather than equality.  Hence, <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">True:</span></code> will match only
<code class="docutils literal notranslate"><span class="pre">True</span></code> and nothing else.  Note that <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">1:</span></code> would still match <code class="docutils literal notranslate"><span class="pre">True</span></code>,
though, because the literal pattern <code class="docutils literal notranslate"><span class="pre">1</span></code> works by equality and not identity.</p>
<p>Early ideas to induce a hierarchy on numbers so that <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">1.0</span></code> would
match both the integer <code class="docutils literal notranslate"><span class="pre">1</span></code> and the floating point number <code class="docutils literal notranslate"><span class="pre">1.0</span></code>, whereas
<code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">1:</span></code> would only match the integer <code class="docutils literal notranslate"><span class="pre">1</span></code> were eventually dropped in
favor of the simpler and more consistent rule based on equality.  Moreover, any
additional checks whether the subject is an instance of <code class="docutils literal notranslate"><span class="pre">numbers.Integral</span></code>
would come at a high runtime cost to introduce what would essentially be
a novel idea in Python.  When needed, the explicit syntax <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">int(1):</span></code> can
be used.</p>
<p>Recall that literal patterns are <em>not</em> expressions, but directly
denote a specific value.  From a pragmatic point of view, we want to
allow using negative and even complex values as literal patterns, but
they are not atomic literals (only unsigned real and imaginary numbers
are).  E.g., <code class="docutils literal notranslate"><span class="pre">-3+4j</span></code> is syntactically an expression of the form
<code class="docutils literal notranslate"><span class="pre">BinOp(UnaryOp('-',</span> <span class="pre">3),</span> <span class="pre">'+',</span> <span class="pre">4j)</span></code>.  Since expressions are not part
of patterns, we had to add explicit syntactic support for such values
without having to resort to full expressions.</p>
<p>Interpolated <em>f</em>-strings, on the
other hand, are not literal values, despite their appearance and can
therefore not be used as literal patterns (string concatenation, however,
is supported).</p>
<p>Literal patterns not only occur as patterns in their own right, but also
as keys in <em>mapping patterns</em>.</p>
<p><strong>Range matching patterns.</strong>
This would allow patterns such as <code class="docutils literal notranslate"><span class="pre">1...6</span></code>. However, there are a host of
ambiguities:</p>
<ul class="simple">
<li><p>Is the range open, half-open, or closed? (I.e. is <code class="docutils literal notranslate"><span class="pre">6</span></code> included in the
above example or not?)</p></li>
<li><p>Does the range match a single number, or a range object?</p></li>
<li><p>Range matching is often used for character ranges (‘a’…’z’) but that
won’t work in Python since there’s no character data type, just strings.</p></li>
<li><p>Range matching can be a significant performance optimization if you can
pre-build a jump table, but that’s not generally possible in Python due
to the fact that names can be dynamically rebound.</p></li>
</ul>
<p>Rather than creating a special-case syntax for ranges, it was decided
that allowing custom pattern objects (<code class="docutils literal notranslate"><span class="pre">InRange(0,</span> <span class="pre">6)</span></code>) would be more flexible
and less ambiguous; however those ideas have been postponed for the time
being.</p>
<p><strong>Example</strong> using Literal patterns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">simplify</span><span class="p">(</span><span class="n">expr</span><span class="p">):</span>
    <span class="n">match</span> <span class="n">expr</span><span class="p">:</span>
        <span class="n">case</span> <span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">x</span>
        <span class="n">case</span> <span class="p">(</span><span class="s1">&#39;+&#39;</span> <span class="o">|</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">x</span>
        <span class="n">case</span> <span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">x</span>
        <span class="n">case</span> <span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">case</span> <span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">x</span>
        <span class="n">case</span> <span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="n">case</span> <span class="p">(</span><span class="s1">&#39;not&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;not&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">x</span>
    <span class="k">return</span> <span class="n">expr</span>
</pre></div>
</div>
</section>
<section id="capture-patterns">
<span id="capture-pattern"></span><h4><a class="toc-backref" href="#id22">Capture Patterns</a><a class="headerlink" href="#capture-patterns" title="Permalink to this headline">¶</a></h4>
<p>Capture patterns take on the form of a name that accepts any value and binds
it to a (local) variable (unless the name is declared as <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> or
<code class="docutils literal notranslate"><span class="pre">global</span></code>).  In that sense, a capture pattern is similar
to a parameter in a function definition (when the function is called, each
parameter binds the respective argument to a local variable in the function’s
scope).</p>
<p>A name used for a capture pattern must not coincide with another capture
pattern in the same pattern.  This, again, is similar to parameters, which
equally require each parameter name to be unique within the list of
parameters.  It differs, however, from iterable unpacking assignment, where
the repeated use of a variable name as target is permissible (e.g.,
<code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">2</span></code>).  The rationale for not supporting <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">x)</span></code> in patterns
is its ambiguous reading: it could be seen as in iterable unpacking where
only the second binding to <code class="docutils literal notranslate"><span class="pre">x</span></code> survives.  But it could be equally seen as
expressing a tuple with two equal elements (which comes with its own issues).
Should the need arise, then it is still possible to introduce support for
repeated use of names later on.</p>
<p>There were calls to explicitly mark capture patterns and thus identify them
as binding targets.  According to that idea, a capture pattern would be
written as, e.g. <code class="docutils literal notranslate"><span class="pre">?x</span></code>, <code class="docutils literal notranslate"><span class="pre">$x</span></code> or <code class="docutils literal notranslate"><span class="pre">=x</span></code>.  The aim of such explicit capture
markers is to let an unmarked name be a value pattern (see below).
However, this is based on the misconception that pattern matching was an
extension of <em>switch</em> statements, placing the emphasis on fast switching based
on (ordinal) values.  Such a <em>switch</em> statement has indeed been proposed for
Python before (see <span class="target" id="index-1"></span><a class="pep reference external" href="pep-0275.html"><strong>PEP 275</strong></a> and <span class="target" id="index-2"></span><a class="pep reference external" href="pep-3103.html"><strong>PEP 3103</strong></a>).  Pattern matching, on the other
hand, builds a generalized concept of iterable unpacking.  Binding values
extracted from a data structure is at the very core of the concept and hence
the most common use case.  Explicit markers for capture patterns would thus
betray the objective of the proposed pattern matching syntax and simplify
a secondary use case at the expense of additional syntactic clutter for
core cases.</p>
<p>It has been proposed that capture patterns are not needed at all,
since the equivalent effect can be obtained by combining an AS
pattern with a wildcard pattern (e.g., <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">_</span> <span class="pre">as</span> <span class="pre">x</span></code> is equivalent
to <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">x</span></code>).  However, this would be unpleasantly verbose,
especially given that we expect capture patterns to be very common.</p>
<p><strong>Example</strong> using Capture patterns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">average</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">match</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">case</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]:</span>           <span class="c1"># captures the two elements of a sequence</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">case</span> <span class="p">[</span><span class="n">x</span><span class="p">]:</span>              <span class="c1"># captures the only element of a sequence</span>
            <span class="k">return</span> <span class="n">x</span>
        <span class="n">case</span> <span class="p">[]:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">case</span> <span class="n">a</span><span class="p">:</span>                <span class="c1"># captures the entire sequence</span>
            <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="wildcard-pattern">
<span id="id3"></span><h4><a class="toc-backref" href="#id23">Wildcard Pattern</a><a class="headerlink" href="#wildcard-pattern" title="Permalink to this headline">¶</a></h4>
<p>The wildcard pattern is a special case of a ‘capture’ pattern: it accepts
any value, but does not bind it to a variable.  The idea behind this rule
is to support repeated use of the wildcard in patterns.  While <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">x)</span></code>
is an error, <code class="docutils literal notranslate"><span class="pre">(_,</span> <span class="pre">_)</span></code> is legal.</p>
<p>Particularly in larger (sequence) patterns, it is important to allow the
pattern to concentrate on values with actual significance while ignoring
anything else.  Without a wildcard, it would become necessary to ‘invent’
a number of local variables, which would be bound but never used.  Even
when sticking to naming conventions and using e.g. <code class="docutils literal notranslate"><span class="pre">_1,</span> <span class="pre">_2,</span> <span class="pre">_3</span></code> to name
irrelevant values, say, this still introduces visual clutter and can hurt
performance (compare the sequence pattern <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">*z)</span></code> to <code class="docutils literal notranslate"><span class="pre">(_,</span> <span class="pre">y,</span> <span class="pre">*_)</span></code>,
where the <code class="docutils literal notranslate"><span class="pre">*z</span></code> forces the interpreter to copy a potentially very long
sequence, whereas the second version simply compiles to code along the
lines of <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">seq[1]</span></code>).</p>
<p>There has been much discussion about the choice of the underscore as <code class="docutils literal notranslate"><span class="pre">_</span></code>
as a wildcard pattern, i.e. making this one name non-binding.  However, the
underscore is already heavily used as an ‘ignore value’ marker in iterable
unpacking.  Since the wildcard pattern <code class="docutils literal notranslate"><span class="pre">_</span></code> never binds, this use of the
underscore does not interfere with other uses such as inside the REPL or
the <code class="docutils literal notranslate"><span class="pre">gettext</span></code> module.</p>
<p>It has been proposed to use <code class="docutils literal notranslate"><span class="pre">...</span></code> (i.e., the ellipsis token) or <code class="docutils literal notranslate"><span class="pre">*</span></code>
(star) as a wildcard.  However, both these look as if an arbitrary number
of items is omitted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">case</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">z</span><span class="p">]:</span> <span class="o">...</span>
<span class="n">case</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">z</span><span class="p">]:</span> <span class="o">...</span>
</pre></div>
</div>
<p>Either example looks like it would match a sequence of two or more
items, capturing the first and last values.  While that may be the
ultimate “wildcard”, it does not convey the desired semantics.</p>
<p>An alternative that does not suggest an arbitrary number of items
would be <code class="docutils literal notranslate"><span class="pre">?</span></code>.  This is even being proposed independently from
pattern matching in <a class="reference external" href="pep-0640.html">PEP 640</a>.  We feel however that using <code class="docutils literal notranslate"><span class="pre">?</span></code> as a
special “assignment” target is likely more confusing to Python users
than using <code class="docutils literal notranslate"><span class="pre">_</span></code>.  It violates Python’s (admittedly vague) principle
of using punctuation characters only in ways similar to how they are
used in common English usage or in high school math, unless the usage
is <em>very</em> well established in other programming languages (like, e.g.,
using a dot for member access).</p>
<p>The question mark fails on both counts: its use in other programming
languages is a grab-bag of usages only vaguely suggested by the idea
of a “question”.  For example, it means “any character” in shell
globbing, “maybe” in regular expressions, “conditional expression” in
C and many C-derived languages, “predicate function” in Scheme,
“modify error handling” in Rust, “optional argument” and “optional
chaining” in TypeScript (the latter meaning has also been proposed for
Python by <a class="reference external" href="pep-0505.html">PEP 505</a>).  An as yet unnamed PEP proposes it to mark
optional types, e.g. <code class="docutils literal notranslate"><span class="pre">int?</span></code>.</p>
<p>Another common use of <code class="docutils literal notranslate"><span class="pre">?</span></code> in programming systems is “help”, for
example, in IPython and Jupyter Notebooks and many interactive
command-line utilities.</p>
<p>In addition, this would put Python in a rather unique position:
The underscore is as a wildcard pattern in <em>every</em>
programming language with pattern matching that we could find
(including <em>C#</em>, <em>Elixir</em>, <em>Erlang</em>, <em>F#</em>, <em>Grace</em>, <em>Haskell</em>,
<em>Mathematica</em>, <em>OCaml</em>, <em>Ruby</em>, <em>Rust</em>, <em>Scala</em>, <em>Swift</em>, and <em>Thorn</em>).
Keeping in mind that many users of Python also work with other programming
languages, have prior experience when learning Python, and may move on to
other languages after having learned Python, we find that such
well-established standards are important and relevant with respect to
readability and learnability.  In our view, concerns that this wildcard
means that a regular name received special treatment are not strong
enough to introduce syntax that would make Python special.</p>
<p><em>Else blocks.</em>  A case block without a guard whose pattern is a single
wildcard (i.e., <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">_:</span></code>) accepts any subject without binding it to
a variable or performing any other operation.  It is thus semantically
equivalent to <code class="docutils literal notranslate"><span class="pre">else:</span></code>, if it were supported.  However, adding such
an else block to the match statement syntax would not remove the need
for the wildcard pattern in other contexts.  Another argument against
this is that there would be two plausible indentation levels for an
else block: aligned with <code class="docutils literal notranslate"><span class="pre">case</span></code> or aligned with <code class="docutils literal notranslate"><span class="pre">match</span></code>.  The
authors have found it quite contentious which indentation level to
prefer.</p>
<p><strong>Example</strong> using the Wildcard pattern:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">is_closed</span><span class="p">(</span><span class="n">sequence</span><span class="p">):</span>
    <span class="n">match</span> <span class="n">sequence</span><span class="p">:</span>
        <span class="n">case</span> <span class="p">[</span><span class="n">_</span><span class="p">]:</span>               <span class="c1"># any sequence with a single element</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="n">case</span> <span class="p">[</span><span class="n">start</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span><span class="p">,</span> <span class="n">end</span><span class="p">]:</span>  <span class="c1"># a sequence with at least two elements</span>
            <span class="k">return</span> <span class="n">start</span> <span class="o">==</span> <span class="n">end</span>
        <span class="n">case</span> <span class="n">_</span><span class="p">:</span>                 <span class="c1"># anything</span>
            <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="value-patterns">
<span id="value-pattern"></span><h4><a class="toc-backref" href="#id24">Value Patterns</a><a class="headerlink" href="#value-patterns" title="Permalink to this headline">¶</a></h4>
<p>It is good programming style to use named constants for parametric values or
to clarify the meaning of particular values.  Clearly, it would be preferable
to write <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">(HttpStatus.OK,</span> <span class="pre">body):</span></code> over
<code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">(200,</span> <span class="pre">body):</span></code>, for example.  The main issue that arises here is how to
distinguish capture patterns (variable bindings) from value patterns.  The
general discussion surrounding this issue has brought forward a plethora of
options, which we cannot all fully list here.</p>
<p>Strictly speaking, value patterns are not really necessary, but
could be implemented using guards, i.e.
<code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">(status,</span> <span class="pre">body)</span> <span class="pre">if</span> <span class="pre">status</span> <span class="pre">==</span> <span class="pre">HttpStatus.OK:</span></code>.  Nonetheless, the
convenience of value patterns is unquestioned and obvious.</p>
<p>The observation that constants tend to be written in uppercase letters or
collected in enumeration-like namespaces suggests possible rules to discern
constants syntactically.  However, the idea of using upper- vs. lowercase as
a marker has been met with scepticism since there is no similar precedence
in core Python (although it is common in other languages).  We therefore only
adopted the rule that any dotted name (i.e., attribute access) is to be
interpreted as a value pattern, for example <code class="docutils literal notranslate"><span class="pre">HttpStatus.OK</span></code>
above.  This precludes, in particular, local variables and global
variables defined in the current module from acting as constants.</p>
<p>A proposed rule to use a leading dot (e.g.
<code class="docutils literal notranslate"><span class="pre">.CONSTANT</span></code>) for that purpose was criticised because it was felt that the
dot would not be a visible-enough marker for that purpose.  Partly inspired
by forms found in other programming languages, a number of different
markers/sigils were proposed (such as <code class="docutils literal notranslate"><span class="pre">^CONSTANT</span></code>, <code class="docutils literal notranslate"><span class="pre">$CONSTANT</span></code>,
<code class="docutils literal notranslate"><span class="pre">==CONSTANT</span></code>, <code class="docutils literal notranslate"><span class="pre">CONSTANT?</span></code>, or the word enclosed in backticks), although
there was no obvious or natural choice.  The current proposal therefore
leaves the discussion and possible introduction of such a ‘constant’ marker
for a future PEP.</p>
<p>Distinguishing the semantics of names based on whether it is a global
variable (i.e. the compiler would treat global variables as constants rather
than capture patterns) leads to various issues.  The addition or alteration
of a global variable in the module could have unintended side effects on
patterns.  Moreover, pattern matching could not be used directly inside a
module’s scope because all variables would be global, making capture
patterns impossible.</p>
<p><strong>Example</strong> using the Value pattern:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">handle_reply</span><span class="p">(</span><span class="n">reply</span><span class="p">):</span>
    <span class="n">match</span> <span class="n">reply</span><span class="p">:</span>
        <span class="n">case</span> <span class="p">(</span><span class="n">HttpStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">,</span> <span class="n">MimeType</span><span class="o">.</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
            <span class="n">process_text</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
        <span class="n">case</span> <span class="p">(</span><span class="n">HttpStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">,</span> <span class="n">MimeType</span><span class="o">.</span><span class="n">APPL_ZIP</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">deflate</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
            <span class="n">process_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="n">case</span> <span class="p">(</span><span class="n">HttpStatus</span><span class="o">.</span><span class="n">MOVED_PERMANENTLY</span><span class="p">,</span> <span class="n">new_URI</span><span class="p">):</span>
            <span class="n">resend_request</span><span class="p">(</span><span class="n">new_URI</span><span class="p">)</span>
        <span class="n">case</span> <span class="p">(</span><span class="n">HttpStatus</span><span class="o">.</span><span class="n">NOT_FOUND</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">ResourceNotFound</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="group-patterns">
<h4><a class="toc-backref" href="#id25">Group Patterns</a><a class="headerlink" href="#group-patterns" title="Permalink to this headline">¶</a></h4>
<p>Allowing users to explicitly specify the grouping is particularly helpful
in case of OR patterns.</p>
</section>
<section id="sequence-patterns">
<span id="sequence-pattern"></span><h4><a class="toc-backref" href="#id26">Sequence Patterns</a><a class="headerlink" href="#sequence-patterns" title="Permalink to this headline">¶</a></h4>
<p>Sequence patterns follow as closely as possible the already established
syntax and semantics of iterable unpacking.  Of course, subpatterns take
the place of assignment targets (variables, attributes and subscript).
Moreover, the sequence pattern only matches a carefully selected set of
possible subjects, whereas iterable unpacking can be applied to any
iterable.</p>
<ul class="simple">
<li><p>As in iterable unpacking, we do not distinguish between ‘tuple’ and
‘list’ notation.  <code class="docutils literal notranslate"><span class="pre">[a,</span> <span class="pre">b,</span> <span class="pre">c]</span></code>, <code class="docutils literal notranslate"><span class="pre">(a,</span> <span class="pre">b,</span> <span class="pre">c)</span></code> and <code class="docutils literal notranslate"><span class="pre">a,</span> <span class="pre">b,</span> <span class="pre">c</span></code> are all
equivalent.  While this means we have a redundant notation and checking
specifically for lists or tuples requires more effort (e.g.
<code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">list([a,</span> <span class="pre">b,</span> <span class="pre">c])</span></code>), we mimic iterable unpacking as much as
possible.</p></li>
<li><p>A starred pattern will capture a sub-sequence of arbitrary length,
again mirroring iterable unpacking.  Only one starred item may be
present in any sequence pattern.  In theory, patterns such as <code class="docutils literal notranslate"><span class="pre">(*_,</span> <span class="pre">3,</span> <span class="pre">*_)</span></code>
could be understood as expressing any sequence containing the value <code class="docutils literal notranslate"><span class="pre">3</span></code>.
In practice, however, this would only work for a very narrow set of use
cases and lead to inefficient backtracking or even ambiguities otherwise.</p></li>
<li><p>The sequence pattern does <em>not</em> iterate through an iterable subject.  All
elements are accessed through subscripting and slicing, and the subject must
be an instance of <code class="docutils literal notranslate"><span class="pre">collections.abc.Sequence</span></code>.  This includes, of course,
lists and tuples, but excludes e.g. sets and dictionaries.  While it would
include strings and bytes, we make an exception for these (see below).</p></li>
</ul>
<p>A sequence pattern cannot just iterate through any iterable object.  The
consumption of elements from the iteration would have to be undone if the
overall pattern fails, which is not feasible.</p>
<p>To identify sequences we cannot rely on <code class="docutils literal notranslate"><span class="pre">len()</span></code> and subscripting and
slicing alone, because sequences share these protocols with mappings
(e.g. <code class="docutils literal notranslate"><span class="pre">dict</span></code>) in this regard.  It would be surprising if a sequence
pattern also matched a dictionaries or other objects implementing
the mapping protocol (i.e. <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code>).  The interpreter therefore
performs an instance check to ensure that the subject in question really
is a sequence (of known type).  (As an optimization of the most common
case, if the subject is exactly a list or a tuple, the instance check
can be skipped.)</p>
<p>String and bytes objects have a dual nature: they are both ‘atomic’ objects
in their own right, as well as sequences (with a strongly recursive nature
in that a string is a sequence of strings).  The typical behavior and use
cases for strings and bytes are different enough from those of tuples and
lists to warrant a clear distinction.  It is in fact often unintuitive and
unintended that strings pass for sequences, as evidenced by regular questions
and complaints.  Strings and bytes are therefore not matched by a sequence
pattern, limiting the sequence pattern to a very specific understanding of
‘sequence’.  The built-in <code class="docutils literal notranslate"><span class="pre">bytearray</span></code> type, being a mutable version of
<code class="docutils literal notranslate"><span class="pre">bytes</span></code>, also deserves an exception; but we don’t intend to
enumerate all other types that may be used to represent bytes
(e.g. some, but not all, instances of <code class="docutils literal notranslate"><span class="pre">memoryview</span></code> and <code class="docutils literal notranslate"><span class="pre">array.array</span></code>).</p>
</section>
<section id="mapping-patterns">
<span id="mapping-pattern"></span><h4><a class="toc-backref" href="#id27">Mapping Patterns</a><a class="headerlink" href="#mapping-patterns" title="Permalink to this headline">¶</a></h4>
<p>Dictionaries or mappings in general are one of the most important and most
widely used data structures in Python.  In contrast to sequences, mappings
are built for fast direct access to arbitrary elements identified by a key.
In most cases an element is retrieved from a dictionary by a known key
without regard for any ordering or other key-value pairs stored in the same
dictionary.  Particularly common are string keys.</p>
<p>The mapping pattern reflects the common usage of dictionary lookup: it allows
the user to extract some values from a mapping by means of constant/known
keys and have the values match given subpatterns.
Extra keys in the subject are ignored even if <code class="docutils literal notranslate"><span class="pre">**rest</span></code> is not present.
This is different from sequence patterns, where extra items will cause a
match to fail.  But mappings are actually different from sequences: they
have natural structural sub-typing behavior, i.e., passing a dictionary
with extra keys somewhere will likely just work.
Should it be
necessary to impose an upper bound on the mapping and ensure that no
additional keys are present, then the usual double-star-pattern <code class="docutils literal notranslate"><span class="pre">**rest</span></code>
can be used.  The special case <code class="docutils literal notranslate"><span class="pre">**_</span></code> with a wildcard, however, is not
supported as it would not have any effect, but might lead to an incorrect
understanding of the mapping pattern’s semantics.</p>
<p>To avoid overly expensive matching algorithms, keys must be literals or
value patterns.</p>
<p>There is a subtle reason for using <code class="docutils literal notranslate"><span class="pre">get(key,</span> <span class="pre">default)</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">__getitem__(key)</span></code> followed by a check for <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>: if
the subject happens to be a <code class="docutils literal notranslate"><span class="pre">defaultdict</span></code>, calling <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code>
for a non-existent key would add the key.  Using <code class="docutils literal notranslate"><span class="pre">get()</span></code> avoids this
unexpected side effect.</p>
<p><strong>Example</strong> using the Mapping pattern:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">change_red_to_blue</span><span class="p">(</span><span class="n">json_obj</span><span class="p">):</span>
    <span class="n">match</span> <span class="n">json_obj</span><span class="p">:</span>
        <span class="n">case</span> <span class="p">{</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;red&#39;</span> <span class="o">|</span> <span class="s1">&#39;#FF0000&#39;</span><span class="p">)</span> <span class="p">}:</span>
            <span class="n">json_obj</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span>
        <span class="n">case</span> <span class="p">{</span> <span class="s1">&#39;children&#39;</span><span class="p">:</span> <span class="n">children</span> <span class="p">}:</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
                <span class="n">change_red_to_blue</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="class-patterns">
<span id="class-pattern"></span><h4><a class="toc-backref" href="#id28">Class Patterns</a><a class="headerlink" href="#class-patterns" title="Permalink to this headline">¶</a></h4>
<p>Class patterns fulfill two purposes: checking whether a given subject is
indeed an instance of a specific class, and extracting data from specific
attributes of the subject.  Anecdotal evidence revealed that <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code>
is one of the most often used functions in Python in terms of
static occurrences in programs.  Such instance checks typically precede
a subsequent access to information stored in the object, or a possible
manipulation thereof.  A typical pattern might be along the lines of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">traverse_tree</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">Node</span><span class="p">):</span>
        <span class="n">traverse_tree</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">left</span><span class="p">)</span>
        <span class="n">traverse_tree</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">right</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">Leaf</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases class patterns occur nested, as in the example
given in the motivation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">BinOp</span><span class="p">)</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">op</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span>
        <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="n">BinOp</span><span class="p">)</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">op</span> <span class="o">==</span> <span class="s2">&quot;*&quot;</span><span class="p">):</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">node</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">node</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">right</span>
    <span class="c1"># Handle a + b*c</span>
</pre></div>
</div>
<p>The class pattern lets you concisely specify both an instance check
and relevant attributes (with possible further constraints).  It is
thereby very tempting to write, e.g., <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">Node(left,</span> <span class="pre">right):</span></code> in the
first case above and <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">Leaf(value):</span></code> in the second.  While this
indeed works well for languages with strict algebraic data types, it is
problematic with the structure of Python objects.</p>
<p>When dealing with general Python objects, we face a potentially very large
number of unordered attributes: an instance of <code class="docutils literal notranslate"><span class="pre">Node</span></code> contains a large
number of attributes (most of which are ‘special methods’ such as
<code class="docutils literal notranslate"><span class="pre">__repr__</span></code>).  Moreover, the interpreter cannot reliably deduce the
ordering of attributes.  For an object that
represents a circle, say, there is no inherently obvious ordering of the
attributes <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">radius</span></code>.</p>
<p>We envision two possibilities for dealing with this issue: either explicitly
name the attributes of interest, or provide an additional mapping that tells
the interpreter which attributes to extract and in which order.  Both
approaches are supported.  Moreover, explicitly naming the attributes of
interest lets you further specify the required structure of an object; if
an object lacks an attribute specified by the pattern, the match fails.</p>
<ul>
<li><p>Attributes that are explicitly named pick up the syntax of named arguments.
If an object of class <code class="docutils literal notranslate"><span class="pre">Node</span></code> has two attributes <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code>
as above, the pattern <code class="docutils literal notranslate"><span class="pre">Node(left=x,</span> <span class="pre">right=y)</span></code> will extract the values of
both attributes and assign them to <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>, respectively.  The data
flow from left to right seems unusual, but is in line with mapping patterns
and has precedents such as assignments via <code class="docutils literal notranslate"><span class="pre">as</span></code> in <em>with</em>- or
<em>import</em>-statements (and indeed AS patterns).</p>
<p>Naming the attributes in question explicitly will be mostly used for more
complex cases where the positional form (below) is insufficient.</p>
</li>
<li><p>The class field <code class="docutils literal notranslate"><span class="pre">__match_args__</span></code> specifies a number of attributes
together with their ordering, allowing class patterns to rely on positional
sub-patterns without having to explicitly name the attributes in question.
This is particularly handy for smaller objects or instances of data classes,
where the attributes of interest are rather obvious and often have a
well-defined ordering.  In a way, <code class="docutils literal notranslate"><span class="pre">__match_args__</span></code> is similar to the
declaration of formal parameters, which allows calling functions with
positional arguments rather than naming all the parameters.</p>
<p>This is a class attribute, because it needs to be looked up on the class
named in the class pattern, not on the subject instance.</p>
</li>
</ul>
<p>The syntax of class patterns is based on the idea that de-construction
mirrors the syntax of construction.  This is already the case in virtually
any Python construct, be assignment targets, function definitions or
iterable unpacking.  In all these cases, we find that the syntax for
sending and that for receiving ‘data’ are virtually identical.</p>
<ul class="simple">
<li><p>Assignment targets such as variables, attributes and subscripts:
<code class="docutils literal notranslate"><span class="pre">foo.bar[2]</span> <span class="pre">=</span> <span class="pre">foo.bar[3]</span></code>;</p></li>
<li><p>Function definitions: a function defined with <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">foo(x,</span> <span class="pre">y,</span> <span class="pre">z=6)</span></code>
is called as, e.g., <code class="docutils literal notranslate"><span class="pre">foo(123,</span> <span class="pre">y=45)</span></code>, where the actual arguments
provided at the call site are matched against the formal parameters
at the definition site;</p></li>
<li><p>Iterable unpacking: <code class="docutils literal notranslate"><span class="pre">a,</span> <span class="pre">b</span> <span class="pre">=</span> <span class="pre">b,</span> <span class="pre">a</span></code> or <code class="docutils literal notranslate"><span class="pre">[a,</span> <span class="pre">b]</span> <span class="pre">=</span> <span class="pre">[b,</span> <span class="pre">a]</span></code> or
<code class="docutils literal notranslate"><span class="pre">(a,</span> <span class="pre">b)</span> <span class="pre">=</span> <span class="pre">(b,</span> <span class="pre">a)</span></code>, just to name a few equivalent possibilities.</p></li>
</ul>
<p>Using the same syntax for reading and writing, l- and r-values, or
construction and de-construction is widely accepted for its benefits in
thinking about data, its flow and manipulation.  This equally extends to
the explicit construction of instances, where class patterns <code class="docutils literal notranslate"><span class="pre">C(p,</span> <span class="pre">q)</span></code>
deliberately mirror the syntax of creating instances.</p>
<p>The special case for the built-in classes <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">bytearray</span></code>
etc. (where e.g. <code class="docutils literal notranslate"><span class="pre">str(x)</span></code> captures the subject value in <code class="docutils literal notranslate"><span class="pre">x</span></code>) can
be emulated by a user-defined class as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="n">__match_args__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;__myself__&quot;</span><span class="p">]</span>
    <span class="n">__myself__</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Type annotations for pattern variables.</strong>
The proposal was to combine patterns with type annotations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="n">x</span><span class="p">:</span>
    <span class="n">case</span> <span class="p">[</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">str</span><span class="p">]:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An int </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2"> and a string </span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">:)</span>
    <span class="n">case</span> <span class="p">[</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="nb">int</span><span class="p">]:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Three ints&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This idea has a lot of problems.  For one, the colon can only
be used inside of brackets or parentheses, otherwise the syntax becomes
ambiguous.  And because Python disallows <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code> checks
on generic types, type annotations containing generics will not
work as expected.</p>
</section>
</section>
</section>
<section id="history-and-context">
<h2><a class="toc-backref" href="#id29">History and Context</a><a class="headerlink" href="#history-and-context" title="Permalink to this headline">¶</a></h2>
<p>Pattern matching emerged in the late 1970s in the form of tuple unpacking
and as a means to handle recursive data structures such as linked lists or
trees (object-oriented languages usually use the visitor pattern for handling
recursive data structures).  The early proponents of pattern matching
organised structured data in ‘tagged tuples’ rather than <code class="docutils literal notranslate"><span class="pre">struct</span></code> as in
<em>C</em> or the objects introduced later.  A node in a binary tree would, for
instance, be a tuple with two elements for the left and right branches,
respectively, and a <code class="docutils literal notranslate"><span class="pre">Node</span></code> tag, written as <code class="docutils literal notranslate"><span class="pre">Node(left,</span> <span class="pre">right)</span></code>.  In
Python we would probably put the tag inside the tuple as
<code class="docutils literal notranslate"><span class="pre">('Node',</span> <span class="pre">left,</span> <span class="pre">right)</span></code> or define a data class <code class="docutils literal notranslate"><span class="pre">Node</span></code> to achieve the
same effect.</p>
<p>Using modern syntax, a depth-first tree traversal would then be written as
follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">traverse</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
    <span class="n">match</span> <span class="n">node</span><span class="p">:</span>
        <span class="n">case</span> <span class="n">Node</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
            <span class="n">traverse</span><span class="p">(</span><span class="n">left</span><span class="p">)</span>
            <span class="n">traverse</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
        <span class="n">case</span> <span class="n">Leaf</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">handle</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>The notion of handling recursive data structures with pattern matching
immediately gave rise to the idea of handling more general recursive
‘patterns’ (i.e. recursion beyond recursive data structures)
with pattern matching.  Pattern matching would thus also be used to define
recursive functions such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
    <span class="n">match</span> <span class="n">arg</span><span class="p">:</span>
        <span class="n">case</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="n">case</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="n">case</span> <span class="n">n</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>As pattern matching was repeatedly integrated into new and emerging
programming languages, its syntax slightly evolved and expanded.  The two
first cases in the <code class="docutils literal notranslate"><span class="pre">fib</span></code> example above could be written more succinctly
as <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">0</span> <span class="pre">|</span> <span class="pre">1:</span></code> with <code class="docutils literal notranslate"><span class="pre">|</span></code> denoting alternative patterns.  Moreover, the
underscore <code class="docutils literal notranslate"><span class="pre">_</span></code> was widely adopted as a wildcard, a filler where neither
the structure nor value of parts of a pattern were of substance.  Since the
underscore is already frequently used in equivalent capacity in Python’s
iterable unpacking (e.g., <code class="docutils literal notranslate"><span class="pre">_,</span> <span class="pre">_,</span> <span class="pre">third,</span> <span class="pre">_*</span> <span class="pre">=</span> <span class="pre">something</span></code>) we kept these
universal standards.</p>
<p>It is noteworthy that the concept of pattern matching has always been
closely linked to the concept of functions.  The different case clauses
have always been considered as something like semi-independent functions
where pattern variables take on the role of parameters.  This becomes
most apparent when pattern matching is written as an overloaded function,
along the lines of (Standard ML):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fun</span> <span class="n">fib</span> <span class="mi">0</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="o">|</span> <span class="n">fib</span> <span class="mi">1</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="o">|</span> <span class="n">fib</span> <span class="n">n</span> <span class="o">=</span> <span class="n">fib</span> <span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span> <span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Even though such a strict separation of case clauses into independent
functions does not apply in Python, we find that patterns share many
syntactic rules with parameters, such as binding arguments to unqualified
names only or that variable/parameter names must not be repeated for
a particular pattern/function.</p>
<p>With its emphasis on abstraction and encapsulation, object-oriented
programming posed a serious challenge to pattern matching.  In short: in
object-oriented programming, we can no longer view objects as tagged tuples.
The arguments passed into the constructor do not necessarily specify the
attributes or fields of the objects.  Moreover, there is no longer a strict
ordering of an object’s fields and some of the fields might be private and
thus inaccessible.  And on top of this, the given object might actually be
an instance of a subclass with slightly different structure.</p>
<p>To address this challenge, patterns became increasingly independent of the
original tuple constructors.  In a pattern like <code class="docutils literal notranslate"><span class="pre">Node(left,</span> <span class="pre">right)</span></code>,
<code class="docutils literal notranslate"><span class="pre">Node</span></code> is no longer a passive tag, but rather a function that can actively
check for any given object whether it has the right structure and extract a
<code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> field.  In other words: the <code class="docutils literal notranslate"><span class="pre">Node</span></code>-tag becomes a
function that transforms an object into a tuple or returns some failure
indicator if it is not possible.</p>
<p>In Python, we simply use <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code> together with the <code class="docutils literal notranslate"><span class="pre">__match_args__</span></code>
field of a class to check whether an object has the correct structure and
then transform some of its attributes into a tuple.  For the <code class="docutils literal notranslate"><span class="pre">Node</span></code> example
above, for instance, we would have <code class="docutils literal notranslate"><span class="pre">__match_args__</span> <span class="pre">=</span> <span class="pre">('left',</span> <span class="pre">'right')</span></code> to
indicate that these two attributes should be extracted to form the tuple.
That is, <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">Node(x,</span> <span class="pre">y)</span></code> would first check whether a given object is an
instance of <code class="docutils literal notranslate"><span class="pre">Node</span></code> and then assign <code class="docutils literal notranslate"><span class="pre">left</span></code> to <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> to <code class="docutils literal notranslate"><span class="pre">y</span></code>,
respectively.</p>
<p>Paying tribute to Python’s dynamic nature with ‘duck typing’, however, we
also added a more direct way to specify the presence of, or constraints on
specific attributes.  Instead of <code class="docutils literal notranslate"><span class="pre">Node(x,</span> <span class="pre">y)</span></code> you could also write
<code class="docutils literal notranslate"><span class="pre">object(left=x,</span> <span class="pre">right=y)</span></code>, effectively eliminating the <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code>
check and thus supporting any object with <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> attributes.
Or you would combine these ideas to write <code class="docutils literal notranslate"><span class="pre">Node(right=y)</span></code> so as to require
an instance of <code class="docutils literal notranslate"><span class="pre">Node</span></code> but only extract the value of the <code class="docutils literal notranslate"><span class="pre">right</span></code> attribute.</p>
</section>
<section id="backwards-compatibility">
<h2><a class="toc-backref" href="#id30">Backwards Compatibility</a><a class="headerlink" href="#backwards-compatibility" title="Permalink to this headline">¶</a></h2>
<p>Through its use of “soft keywords” and the new PEG parser (<a class="reference external" href="pep-0617.html">PEP 617</a>),
the proposal remains fully backwards compatible.  However, 3rd party
tooling that uses a LL(1) parser to parse Python source code may be
forced to switch parser technology to be able to support those same
features.</p>
</section>
<section id="security-implications">
<h2><a class="toc-backref" href="#id31">Security Implications</a><a class="headerlink" href="#security-implications" title="Permalink to this headline">¶</a></h2>
<p>We do not expect any security implications from this language feature.</p>
</section>
<section id="reference-implementation">
<h2><a class="toc-backref" href="#id32">Reference Implementation</a><a class="headerlink" href="#reference-implementation" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference external" href="https://github.com/brandtbucher/cpython/tree/patma">feature-complete CPython implementation</a> is available on
GitHub.</p>
<p>An <a class="reference external" href="https://mybinder.org/v2/gh/gvanrossum/patma/master?urlpath=lab/tree/playground-622.ipynb">interactive playground</a>
based on the above implementation was created using Binder <a class="footnote-reference brackets" href="#id7" id="id4">2</a> and Jupyter <a class="footnote-reference brackets" href="#id8" id="id5">3</a>.</p>
</section>
<section id="references">
<h2><a class="toc-backref" href="#id33">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Kohn et al., Dynamic Pattern Matching with Python
<a class="reference external" href="https://gvanrossum.github.io/docs/PyPatternMatching.pdf">https://gvanrossum.github.io/docs/PyPatternMatching.pdf</a></p>
</dd>
<dt class="label" id="id7"><span class="brackets"><a class="fn-backref" href="#id4">2</a></span></dt>
<dd><p>Binder
<a class="reference external" href="https://mybinder.org">https://mybinder.org</a></p>
</dd>
<dt class="label" id="id8"><span class="brackets"><a class="fn-backref" href="#id5">3</a></span></dt>
<dd><p>Jupyter
<a class="reference external" href="https://jupyter.org">https://jupyter.org</a></p>
</dd>
</dl>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#id34">Copyright</a><a class="headerlink" href="#copyright" title="Permalink to this headline">¶</a></h2>
<p>This document is placed in the public domain or under the
CC0-1.0-Universal license, whichever is more permissive.</p>
</section>
</section>
<span>Source: <a class="reference external" href="https://github.com/python/peps/blob/master/pep-0635.rst">https://github.com/python/peps/blob/master/pep-0635.rst</a></span><div class="zero-height line"><br /></div>
<span>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/master/pep-0635.rst">2021-06-28T11:16:08Z</a></span>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../contents/">PEPs</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">PEP Table of Contents (needed for Sphinx):</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pep-0000/">PEP 0 – Index of Python Enhancement Proposals (PEPs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0001/">PEP 1 – PEP Purpose and Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0002/">PEP 2 – Procedure for Adding New Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0003/">PEP 3 – Guidelines for Handling Bug Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0004/">PEP 4 – Deprecation of Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0005/">PEP 5 – Guidelines for Language Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0006/">PEP 6 – Bug Fix Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0007/">PEP 7 – Style Guide for C Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0008/">PEP 8 – Style Guide for Python Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0009/">PEP 9 – Sample Plaintext PEP Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0010/">PEP 10 – Voting Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0011/">PEP 11 – Removing support for little used platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0012/">PEP 12 – Sample reStructuredText PEP Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0013/">PEP 13 – Python Language Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0020/">PEP 20 – The Zen of Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0042/">PEP 42 – Feature Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0100/">PEP 100 – Python Unicode Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0101/">PEP 101 – Doing Python Releases 101</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0102/">PEP 102 – Doing Python Micro Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0103/">PEP 103 – Collecting information about git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0160/">PEP 160 – Python 1.6 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0200/">PEP 200 – Python 2.0 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0201/">PEP 201 – Lockstep Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0202/">PEP 202 – List Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0203/">PEP 203 – Augmented Assignments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0204/">PEP 204 – Range Literals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0205/">PEP 205 – Weak References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0206/">PEP 206 – Python Advanced Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0207/">PEP 207 – Rich Comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0208/">PEP 208 – Reworking the Coercion Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0209/">PEP 209 – Multi-dimensional Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0210/">PEP 210 – Decoupling the Interpreter Loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0211/">PEP 211 – Adding A New Outer Product Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0212/">PEP 212 – Loop Counter Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0213/">PEP 213 – Attribute Access Handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0214/">PEP 214 – Extended Print Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0215/">PEP 215 – String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0216/">PEP 216 – Docstring Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0217/">PEP 217 – Display Hook for Interactive Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0218/">PEP 218 – Adding a Built-In Set Object Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0219/">PEP 219 – Stackless Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0220/">PEP 220 – Coroutines, Generators, Continuations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0221/">PEP 221 – Import As</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0222/">PEP 222 – Web Library Enhancements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0223/">PEP 223 – Change the Meaning of ``\x`` Escapes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0224/">PEP 224 – Attribute Docstrings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0225/">PEP 225 – Elementwise/Objectwise Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0226/">PEP 226 – Python 2.1 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0227/">PEP 227 – Statically Nested Scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0228/">PEP 228 – Reworking Python’s Numeric Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0229/">PEP 229 – Using Distutils to Build Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0230/">PEP 230 – Warning Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0231/">PEP 231 – __findattr__()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0232/">PEP 232 – Function Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0233/">PEP 233 – Python Online Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0234/">PEP 234 – Iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0235/">PEP 235 – Import on Case-Insensitive Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0236/">PEP 236 – Back to the __future__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0237/">PEP 237 – Unifying Long Integers and Integers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0238/">PEP 238 – Changing the Division Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0239/">PEP 239 – Adding a Rational Type to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0240/">PEP 240 – Adding a Rational Literal to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0241/">PEP 241 – Metadata for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0242/">PEP 242 – Numeric Kinds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0243/">PEP 243 – Module Repository Upload Mechanism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0244/">PEP 244 – The ``directive`` statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0245/">PEP 245 – Python Interface Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0246/">PEP 246 – Object Adaptation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0247/">PEP 247 – API for Cryptographic Hash Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0248/">PEP 248 – Python Database API Specification v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0249/">PEP 249 – Python Database API Specification v2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0250/">PEP 250 – Using site-packages on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0251/">PEP 251 – Python 2.2 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0252/">PEP 252 – Making Types Look More Like Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0253/">PEP 253 – Subtyping Built-in Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0254/">PEP 254 – Making Classes Look More Like Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0255/">PEP 255 – Simple Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0256/">PEP 256 – Docstring Processing System Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0257/">PEP 257 – Docstring Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0258/">PEP 258 – Docutils Design Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0259/">PEP 259 – Omit printing newline after newline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0260/">PEP 260 – Simplify xrange()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0261/">PEP 261 – Support for “wide” Unicode characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0262/">PEP 262 – A Database of Installed Python Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0263/">PEP 263 – Defining Python Source Code Encodings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0264/">PEP 264 – Future statements in simulated shells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0265/">PEP 265 – Sorting Dictionaries by Value</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0266/">PEP 266 – Optimizing Global Variable/Attribute Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0267/">PEP 267 – Optimized Access to Module Namespaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0268/">PEP 268 – Extended HTTP functionality and WebDAV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0269/">PEP 269 – Pgen Module for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0270/">PEP 270 – uniq method for list objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0271/">PEP 271 – Prefixing sys.path by command line option</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0272/">PEP 272 – API for Block Encryption Algorithms v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0273/">PEP 273 – Import Modules from Zip Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0274/">PEP 274 – Dict Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0275/">PEP 275 – Switching on Multiple Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0276/">PEP 276 – Simple Iterator for ints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0277/">PEP 277 – Unicode file name support for Windows NT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0278/">PEP 278 – Universal Newline Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0279/">PEP 279 – The enumerate() built-in function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0280/">PEP 280 – Optimizing access to globals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0281/">PEP 281 – Loop Counter Iteration with range and xrange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0282/">PEP 282 – A Logging System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0283/">PEP 283 – Python 2.3 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0284/">PEP 284 – Integer for-loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0285/">PEP 285 – Adding a bool type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0286/">PEP 286 – Enhanced Argument Tuples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0287/">PEP 287 – reStructuredText Docstring Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0288/">PEP 288 – Generators Attributes and Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0289/">PEP 289 – Generator Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0290/">PEP 290 – Code Migration and Modernization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0291/">PEP 291 – Backward Compatibility for the Python 2 Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0292/">PEP 292 – Simpler String Substitutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0293/">PEP 293 – Codec Error Handling Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0294/">PEP 294 – Type Names in the types Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0295/">PEP 295 – Interpretation of multiline string constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0296/">PEP 296 – Adding a bytes Object Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0297/">PEP 297 – Support for System Upgrades</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0298/">PEP 298 – The Locked Buffer Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0299/">PEP 299 – Special __main__() function in modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0301/">PEP 301 – Package Index and Metadata for Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0302/">PEP 302 – New Import Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0303/">PEP 303 – Extend divmod() for Multiple Divisors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0304/">PEP 304 – Controlling Generation of Bytecode Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0305/">PEP 305 – CSV File API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0306/">PEP 306 – How to Change Python’s Grammar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0307/">PEP 307 – Extensions to the pickle protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0308/">PEP 308 – Conditional Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0309/">PEP 309 – Partial Function Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0310/">PEP 310 – Reliable Acquisition/Release Pairs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0311/">PEP 311 – Simplified Global Interpreter Lock Acquisition for Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0312/">PEP 312 – Simple Implicit Lambda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0313/">PEP 313 – Adding Roman Numeral Literals to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0314/">PEP 314 – Metadata for Python Software Packages v1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0315/">PEP 315 – Enhanced While Loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0316/">PEP 316 – Programming by Contract for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0317/">PEP 317 – Eliminate Implicit Exception Instantiation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0318/">PEP 318 – Decorators for Functions and Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0319/">PEP 319 – Python Synchronize/Asynchronize Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0320/">PEP 320 – Python 2.4 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0321/">PEP 321 – Date/Time Parsing and Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0322/">PEP 322 – Reverse Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0323/">PEP 323 – Copyable Iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0324/">PEP 324 – subprocess - New process module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0325/">PEP 325 – Resource-Release Support for Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0326/">PEP 326 – A Case for Top and Bottom Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0327/">PEP 327 – Decimal Data Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0328/">PEP 328 – Imports: Multi-Line and Absolute/Relative</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0329/">PEP 329 – Treating Builtins as Constants in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0330/">PEP 330 – Python Bytecode Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0331/">PEP 331 – Locale-Independent Float/String Conversions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0332/">PEP 332 – Byte vectors and String/Unicode Unification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0333/">PEP 333 – Python Web Server Gateway Interface v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0334/">PEP 334 – Simple Coroutines via SuspendIteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0335/">PEP 335 – Overloadable Boolean Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0336/">PEP 336 – Make None Callable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0337/">PEP 337 – Logging Usage in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0338/">PEP 338 – Executing modules as scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0339/">PEP 339 – Design of the CPython Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0340/">PEP 340 – Anonymous Block Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0341/">PEP 341 – Unifying try-except and try-finally</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0342/">PEP 342 – Coroutines via Enhanced Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0343/">PEP 343 – The “with” Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0344/">PEP 344 – Exception Chaining and Embedded Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0345/">PEP 345 – Metadata for Python Software Packages 1.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0346/">PEP 346 – User Defined (“``with``”) Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0347/">PEP 347 – Migrating the Python CVS to Subversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0348/">PEP 348 – Exception Reorganization for Python 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0349/">PEP 349 – Allow str() to return unicode strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0350/">PEP 350 – Codetags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0351/">PEP 351 – The freeze protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0352/">PEP 352 – Required Superclass for Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0353/">PEP 353 – Using ssize_t as the index type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0354/">PEP 354 – Enumerations in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0355/">PEP 355 – Path - Object oriented filesystem paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0356/">PEP 356 – Python 2.5 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0357/">PEP 357 – Allowing Any Object to be Used for Slicing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0358/">PEP 358 – The “bytes” Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0359/">PEP 359 – The “make” Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0360/">PEP 360 – Externally Maintained Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0361/">PEP 361 – Python 2.6 and 3.0 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0362/">PEP 362 – Function Signature Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0363/">PEP 363 – Syntax For Dynamic Attribute Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0364/">PEP 364 – Transitioning to the Py3K Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0365/">PEP 365 – Adding the pkg_resources module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0366/">PEP 366 – Main module explicit relative imports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0367/">PEP 367 – New Super</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0368/">PEP 368 – Standard image protocol and class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0369/">PEP 369 – Post import hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0370/">PEP 370 – Per user site-packages directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0371/">PEP 371 – Addition of the multiprocessing package to the standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0372/">PEP 372 – Adding an ordered dictionary to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0373/">PEP 373 – Python 2.7 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0374/">PEP 374 – Choosing a distributed VCS for the Python project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0375/">PEP 375 – Python 3.1 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0376/">PEP 376 – Database of Installed Python Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0377/">PEP 377 – Allow __enter__() methods to skip the statement body</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0378/">PEP 378 – Format Specifier for Thousands Separator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0379/">PEP 379 – Adding an Assignment Expression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0380/">PEP 380 – Syntax for Delegating to a Subgenerator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0381/">PEP 381 – Mirroring infrastructure for PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0382/">PEP 382 – Namespace Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0383/">PEP 383 – Non-decodable Bytes in System Character Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0384/">PEP 384 – Defining a Stable ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0385/">PEP 385 – Migrating from Subversion to Mercurial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0386/">PEP 386 – Changing the version comparison module in Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0387/">PEP 387 – Backwards Compatibility Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0389/">PEP 389 – argparse - New Command Line Parsing Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0390/">PEP 390 – Static metadata for Distutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0391/">PEP 391 – Dictionary-Based Configuration For Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0392/">PEP 392 – Python 3.2 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0393/">PEP 393 – Flexible String Representation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0394/">PEP 394 – The “python” Command on Unix-Like Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0395/">PEP 395 – Qualified Names for Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0396/">PEP 396 – Module Version Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0397/">PEP 397 – Python launcher for Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0398/">PEP 398 – Python 3.3 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0399/">PEP 399 – Pure Python/C Accelerator Module Compatibility Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0400/">PEP 400 – Deprecate codecs.StreamReader and codecs.StreamWriter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0401/">PEP 401 – BDFL Retirement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0402/">PEP 402 – Simplified Package Layout and Partitioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0403/">PEP 403 – General purpose decorator clause (aka “&#64;in” clause)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0404/">PEP 404 – Python 2.8 Un-release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0405/">PEP 405 – Python Virtual Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0406/">PEP 406 – Improved Encapsulation of Import State</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0407/">PEP 407 – New release cycle and introducing long-term support versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0408/">PEP 408 – Standard library __preview__ package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0409/">PEP 409 – Suppressing exception context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0410/">PEP 410 – Use decimal.Decimal type for timestamps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0411/">PEP 411 – Provisional packages in the Python standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0412/">PEP 412 – Key-Sharing Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0413/">PEP 413 – Faster evolution of the Python Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0414/">PEP 414 – Explicit Unicode Literal for Python 3.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0415/">PEP 415 – Implement context suppression with exception attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0416/">PEP 416 – Add a frozendict builtin type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0417/">PEP 417 – Including mock in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0418/">PEP 418 – Add monotonic time, performance counter, and process time functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0419/">PEP 419 – Protecting cleanup statements from interruptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0420/">PEP 420 – Implicit Namespace Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0421/">PEP 421 – Adding sys.implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0422/">PEP 422 – Simpler customisation of class creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0423/">PEP 423 – Naming conventions and recipes related to packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0424/">PEP 424 – A method for exposing a length hint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0425/">PEP 425 – Compatibility Tags for Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0426/">PEP 426 – Metadata for Python Software Packages 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0427/">PEP 427 – The Wheel Binary Package Format 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0428/">PEP 428 – The pathlib module – object-oriented filesystem paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0429/">PEP 429 – Python 3.4 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0430/">PEP 430 – Migrating to Python 3 as the default online documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0431/">PEP 431 – Time zone support improvements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0432/">PEP 432 – Restructuring the CPython startup sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0433/">PEP 433 – Easier suppression of file descriptor inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0434/">PEP 434 – IDLE Enhancement Exception for All Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0435/">PEP 435 – Adding an Enum type to the Python standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0436/">PEP 436 – The Argument Clinic DSL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0437/">PEP 437 – A DSL for specifying signatures, annotations and argument converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0438/">PEP 438 – Transitioning to release-file hosting on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0439/">PEP 439 – Inclusion of implicit pip bootstrap in Python installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0440/">PEP 440 – Version Identification and Dependency Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0441/">PEP 441 – Improving Python ZIP Application Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0442/">PEP 442 – Safe object finalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0443/">PEP 443 – Single-dispatch generic functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0444/">PEP 444 – Python Web3 Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0445/">PEP 445 – Add new APIs to customize Python memory allocators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0446/">PEP 446 – Make newly created file descriptors non-inheritable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0447/">PEP 447 – Add __getdescriptor__ method to metaclass</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0448/">PEP 448 – Additional Unpacking Generalizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0449/">PEP 449 – Removal of the PyPI Mirror Auto Discovery and Naming Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0450/">PEP 450 – Adding A Statistics Module To The Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0451/">PEP 451 – A ModuleSpec Type for the Import System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0452/">PEP 452 – API for Cryptographic Hash Functions v2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0453/">PEP 453 – Explicit bootstrapping of pip in Python installations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0454/">PEP 454 – Add a new tracemalloc module to trace Python memory allocations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0455/">PEP 455 – Adding a key-transforming dictionary to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0456/">PEP 456 – Secure and interchangeable hash algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0457/">PEP 457 – Notation For Positional-Only Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0458/">PEP 458 – Secure PyPI downloads with signed repository metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0459/">PEP 459 – Standard Metadata Extensions for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0460/">PEP 460 – Add binary interpolation and formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0461/">PEP 461 – Adding % formatting to bytes and bytearray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0462/">PEP 462 – Core development workflow automation for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0463/">PEP 463 – Exception-catching expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0464/">PEP 464 – Removal of the PyPI Mirror Authenticity API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0465/">PEP 465 – A dedicated infix operator for matrix multiplication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0466/">PEP 466 – Network Security Enhancements for Python 2.7.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0467/">PEP 467 – Minor API improvements for binary sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0468/">PEP 468 – Preserving the order of \*\*kwargs in a function.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0469/">PEP 469 – Migration of dict iteration code to Python 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0470/">PEP 470 – Removing External Hosting Support on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0471/">PEP 471 – os.scandir() function – a better and faster directory iterator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0472/">PEP 472 – Support for indexing with keyword arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0473/">PEP 473 – Adding structured data to built-in exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0474/">PEP 474 – Creating forge.python.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0475/">PEP 475 – Retry system calls failing with EINTR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0476/">PEP 476 – Enabling certificate verification by default for stdlib http clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0477/">PEP 477 – Backport ensurepip (PEP 453) to Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0478/">PEP 478 – Python 3.5 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0479/">PEP 479 – Change StopIteration handling inside generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0480/">PEP 480 – Surviving a Compromise of PyPI: End-to-end signing of packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0481/">PEP 481 – Migrate CPython to Git, Github, and Phabricator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0482/">PEP 482 – Literature Overview for Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0483/">PEP 483 – The Theory of Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0484/">PEP 484 – Type Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0485/">PEP 485 – A Function for testing approximate equality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0486/">PEP 486 – Make the Python Launcher aware of virtual environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0487/">PEP 487 – Simpler customisation of class creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0488/">PEP 488 – Elimination of PYO files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0489/">PEP 489 – Multi-phase extension module initialization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0490/">PEP 490 – Chain exceptions at C level</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0491/">PEP 491 – The Wheel Binary Package Format 1.9</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0492/">PEP 492 – Coroutines with async and await syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0493/">PEP 493 – HTTPS verification migration tools for Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0494/">PEP 494 – Python 3.6 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0495/">PEP 495 – Local Time Disambiguation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0496/">PEP 496 – Environment Markers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0497/">PEP 497 – A standard mechanism for backward compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0498/">PEP 498 – Literal String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0499/">PEP 499 – ``python -m foo`` should bind ``sys.modules[‘foo’]`` in addition to ``sys.modules[‘__main__’]``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0500/">PEP 500 – A protocol for delegating datetime methods to their
tzinfo implementations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0501/">PEP 501 – General purpose string interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0502/">PEP 502 – String Interpolation - Extended Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0503/">PEP 503 – Simple Repository API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0504/">PEP 504 – Using the System RNG by default</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0505/">PEP 505 – None-aware operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0506/">PEP 506 – Adding A Secrets Module To The Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0507/">PEP 507 – Migrate CPython to Git and GitLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0508/">PEP 508 – Dependency specification for Python Software Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0509/">PEP 509 – Add a private version to dict</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0510/">PEP 510 – Specialize functions with guards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0511/">PEP 511 – API for code transformers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0512/">PEP 512 – Migrating from hg.python.org to GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0513/">PEP 513 – A Platform Tag for Portable Linux Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0514/">PEP 514 – Python registration in the Windows registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0515/">PEP 515 – Underscores in Numeric Literals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0516/">PEP 516 – Build system abstraction for pip/conda etc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0517/">PEP 517 – A build-system independent format for source trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0518/">PEP 518 – Specifying Minimum Build System Requirements for Python Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0519/">PEP 519 – Adding a file system path protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0520/">PEP 520 – Preserving Class Attribute Definition Order</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0521/">PEP 521 – Managing global context via ‘with’ blocks in generators and coroutines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0522/">PEP 522 – Allow BlockingIOError in security sensitive APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0523/">PEP 523 – Adding a frame evaluation API to CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0524/">PEP 524 – Make os.urandom() blocking on Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0525/">PEP 525 – Asynchronous Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0526/">PEP 526 – Syntax for Variable Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0527/">PEP 527 – Removing Un(der)used file types/extensions on PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0528/">PEP 528 – Change Windows console encoding to UTF-8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0529/">PEP 529 – Change Windows filesystem encoding to UTF-8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0530/">PEP 530 – Asynchronous Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0531/">PEP 531 – Existence checking operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0532/">PEP 532 – A circuit breaking protocol and binary operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0533/">PEP 533 – Deterministic cleanup for iterators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0534/">PEP 534 – Improved Errors for Missing Standard Library Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0535/">PEP 535 – Rich comparison chaining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0536/">PEP 536 – Final Grammar for Literal String Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0537/">PEP 537 – Python 3.7 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0538/">PEP 538 – Coercing the legacy C locale to a UTF-8 based locale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0539/">PEP 539 – A New C-API for Thread-Local Storage in CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0540/">PEP 540 – Add a new UTF-8 Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0541/">PEP 541 – Package Index Name Retention</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0542/">PEP 542 – Dot Notation Assignment In Function Header</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0543/">PEP 543 – A Unified TLS API for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0544/">PEP 544 – Protocols: Structural subtyping (static duck typing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0545/">PEP 545 – Python Documentation Translations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0546/">PEP 546 – Backport ssl.MemoryBIO and ssl.SSLObject to Python 2.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0547/">PEP 547 – Running extension modules using the -m option</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0548/">PEP 548 – More Flexible Loop Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0549/">PEP 549 – Instance Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0550/">PEP 550 – Execution Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0551/">PEP 551 – Security transparency in the Python runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0552/">PEP 552 – Deterministic pycs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0553/">PEP 553 – Built-in breakpoint()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0554/">PEP 554 – Multiple Interpreters in the Stdlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0555/">PEP 555 – Context-local variables (contextvars)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0556/">PEP 556 – Threaded garbage collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0557/">PEP 557 – Data Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0558/">PEP 558 – Defined semantics for locals()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0559/">PEP 559 – Built-in noop()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0560/">PEP 560 – Core support for typing module and generic types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0561/">PEP 561 – Distributing and Packaging Type Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0562/">PEP 562 – Module __getattr__ and __dir__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0563/">PEP 563 – Postponed Evaluation of Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0564/">PEP 564 – Add new time functions with nanosecond resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0565/">PEP 565 – Show DeprecationWarning in __main__</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0566/">PEP 566 – Metadata for Python Software Packages 2.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0567/">PEP 567 – Context Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0568/">PEP 568 – Generator-sensitivity for Context Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0569/">PEP 569 – Python 3.8 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0570/">PEP 570 – Python Positional-Only Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0571/">PEP 571 – The manylinux2010 Platform Tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0572/">PEP 572 – Assignment Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0573/">PEP 573 – Module State Access from C Extension Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0574/">PEP 574 – Pickle protocol 5 with out-of-band data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0575/">PEP 575 – Unifying function/method classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0576/">PEP 576 – Rationalize Built-in function classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0577/">PEP 577 – Augmented Assignment Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0578/">PEP 578 – Python Runtime Audit Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0579/">PEP 579 – Refactoring C functions and methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0580/">PEP 580 – The C call protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0581/">PEP 581 – Using GitHub Issues for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0582/">PEP 582 – Python local packages directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0583/">PEP 583 – A Concurrency Memory Model for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0584/">PEP 584 – Add Union Operators To dict</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0585/">PEP 585 – Type Hinting Generics In Standard Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0586/">PEP 586 – Literal Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0587/">PEP 587 – Python Initialization Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0588/">PEP 588 – GitHub Issues Migration Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0589/">PEP 589 – TypedDict: Type Hints for Dictionaries with a Fixed Set of Keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0590/">PEP 590 – Vectorcall: a fast calling protocol for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0591/">PEP 591 – Adding a final qualifier to typing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0592/">PEP 592 – Adding “Yank” Support to the Simple API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0593/">PEP 593 – Flexible function and variable annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0594/">PEP 594 – Removing dead batteries from the standard library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0595/">PEP 595 – Improving bugs.python.org</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0596/">PEP 596 – Python 3.9 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0597/">PEP 597 – Add optional EncodingWarning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0598/">PEP 598 – Introducing incremental feature releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0599/">PEP 599 – The manylinux2014 Platform Tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0600/">PEP 600 – Future ‘manylinux’ Platform Tags for Portable Linux Built Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0601/">PEP 601 – Forbid return/break/continue breaking out of finally</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0602/">PEP 602 – Annual Release Cycle for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0603/">PEP 603 – Adding a frozenmap type to collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0604/">PEP 604 – Allow writing union types as ``X | Y``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0605/">PEP 605 – A rolling feature release stream for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0606/">PEP 606 – Python Compatibility Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0607/">PEP 607 – Reducing CPython’s Feature Delivery Latency</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0608/">PEP 608 – Coordinated Python release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0609/">PEP 609 – PyPA Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0610/">PEP 610 – Recording the Direct URL Origin of installed distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0611/">PEP 611 – The one million limit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0612/">PEP 612 – Parameter Specification Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0613/">PEP 613 – Explicit Type Aliases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0614/">PEP 614 – Relaxing Grammar Restrictions On Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0615/">PEP 615 – Support for the IANA Time Zone Database in the Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0616/">PEP 616 – String methods to remove prefixes and suffixes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0617/">PEP 617 – New PEG parser for CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0618/">PEP 618 – Add Optional Length-Checking To zip</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0619/">PEP 619 – Python 3.10 Release Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0620/">PEP 620 – Hide implementation details from the C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0621/">PEP 621 – Storing project metadata in pyproject.toml</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0622/">PEP 622 – Structural Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0623/">PEP 623 – Remove wstr from Unicode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0624/">PEP 624 – Remove Py_UNICODE encoder APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0625/">PEP 625 – File name of a Source Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0626/">PEP 626 – Precise line numbers for debugging and other tools.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0627/">PEP 627 – Recording installed projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0628/">PEP 628 – Add ``math.tau``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0629/">PEP 629 – Versioning PyPI’s Simple API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0630/">PEP 630 – Isolating Extension Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0631/">PEP 631 – Dependency specification in pyproject.toml based on PEP 508</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0632/">PEP 632 – Deprecate distutils module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0633/">PEP 633 – Dependency specification in pyproject.toml using an exploded TOML table</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0634/">PEP 634 – Structural Pattern Matching: Specification</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PEP 635 – Structural Pattern Matching: Motivation and Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0636/">PEP 636 – Structural Pattern Matching: Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0637/">PEP 637 – Support for indexing with keyword arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0638/">PEP 638 – Syntactic Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0639/">PEP 639 – Metadata for Python Software Packages 2.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0640/">PEP 640 – Unused variable syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0641/">PEP 641 – Using an underscore in the version portion of Python 3.10 compatibility tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0642/">PEP 642 – Explicit Pattern Syntax for Structural Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0643/">PEP 643 – Metadata for Package Source Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0644/">PEP 644 – Require OpenSSL 1.1.1 or newer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0645/">PEP 645 – Allow writing optional types as ``x?``</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0646/">PEP 646 – Variadic Generics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0647/">PEP 647 – User-Defined Type Guards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0648/">PEP 648 – Extensible customizations of the interpreter at startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0649/">PEP 649 – Deferred Evaluation Of Annotations Using Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0650/">PEP 650 – Specifying Installer Requirements for Python Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0651/">PEP 651 – Robust Stack Overflow Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0652/">PEP 652 – Maintaining the Stable ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0653/">PEP 653 – Precise Semantics for Pattern Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0654/">PEP 654 – Exception Groups and except*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0655/">PEP 655 – Marking individual TypedDict items as required or potentially-missing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0656/">PEP 656 – Platform Tag for Linux Distributions Using Musl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0657/">PEP 657 – Include Fine Grained Error Locations in Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0658/">PEP 658 – Serve Distribution Metadata in the Simple Repository API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0659/">PEP 659 – Specializing Adaptive Interpreter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0660/">PEP 660 – Editable installs for pyproject.toml based builds (wheel based)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0661/">PEP 661 – Sentinel Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0662/">PEP 662 – Editable installs via virtual wheels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0666/">PEP 666 – Reject Foolish Indentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0754/">PEP 754 – IEEE 754 Floating Point Special Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-0801/">PEP 801 – Reserved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3000/">PEP 3000 – Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3001/">PEP 3001 – Procedure for reviewing and improving standard library modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3002/">PEP 3002 – Procedure for Backwards-Incompatible Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3003/">PEP 3003 – Python Language Moratorium</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3099/">PEP 3099 – Things that will Not Change in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3100/">PEP 3100 – Miscellaneous Python 3.0 Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3101/">PEP 3101 – Advanced String Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3102/">PEP 3102 – Keyword-Only Arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3103/">PEP 3103 – A Switch/Case Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3104/">PEP 3104 – Access to Names in Outer Scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3105/">PEP 3105 – Make print a function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3106/">PEP 3106 – Revamping dict.keys(), .values() and .items()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3107/">PEP 3107 – Function Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3108/">PEP 3108 – Standard Library Reorganization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3109/">PEP 3109 – Raising Exceptions in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3110/">PEP 3110 – Catching Exceptions in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3111/">PEP 3111 – Simple input built-in in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3112/">PEP 3112 – Bytes literals in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3113/">PEP 3113 – Removal of Tuple Parameter Unpacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3114/">PEP 3114 – Renaming iterator.next() to iterator.__next__()</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3115/">PEP 3115 – Metaclasses in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3116/">PEP 3116 – New I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3117/">PEP 3117 – Postfix type declarations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3118/">PEP 3118 – Revising the buffer protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3119/">PEP 3119 – Introducing Abstract Base Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3120/">PEP 3120 – Using UTF-8 as the default source encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3121/">PEP 3121 – Extension Module Initialization and Finalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3122/">PEP 3122 – Delineation of the main module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3123/">PEP 3123 – Making PyObject_HEAD conform to standard C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3124/">PEP 3124 – Overloading, Generic Functions, Interfaces, and Adaptation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3125/">PEP 3125 – Remove Backslash Continuation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3126/">PEP 3126 – Remove Implicit String Concatenation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3127/">PEP 3127 – Integer Literal Support and Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3128/">PEP 3128 – BList: A Faster List-like Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3129/">PEP 3129 – Class Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3130/">PEP 3130 – Access to Current Module/Class/Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3131/">PEP 3131 – Supporting Non-ASCII Identifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3132/">PEP 3132 – Extended Iterable Unpacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3133/">PEP 3133 – Introducing Roles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3134/">PEP 3134 – Exception Chaining and Embedded Tracebacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3135/">PEP 3135 – New Super</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3136/">PEP 3136 – Labeled break and continue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3137/">PEP 3137 – Immutable Bytes and Mutable Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3138/">PEP 3138 – String representation in Python 3000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3139/">PEP 3139 – Cleaning out sys and the “interpreter” module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3140/">PEP 3140 – str(container) should call str(item), not repr(item)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3141/">PEP 3141 – A Type Hierarchy for Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3142/">PEP 3142 – Add a “while” clause to generator expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3143/">PEP 3143 – Standard daemon process library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3144/">PEP 3144 – IP Address Manipulation Library for the Python Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3145/">PEP 3145 – Asynchronous I/O For subprocess.Popen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3146/">PEP 3146 – Merging Unladen Swallow into CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3147/">PEP 3147 – PYC Repository Directories</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3148/">PEP 3148 – futures - execute computations asynchronously</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3149/">PEP 3149 – ABI version tagged .so files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3150/">PEP 3150 – Statement local namespaces (aka “given” clause)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3151/">PEP 3151 – Reworking the OS and IO exception hierarchy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3152/">PEP 3152 – Cofunctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3153/">PEP 3153 – Asynchronous IO support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3154/">PEP 3154 – Pickle protocol version 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3155/">PEP 3155 – Qualified name for classes and functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3156/">PEP 3156 – Asynchronous IO Support Rebooted: the “asyncio” Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-3333/">PEP 3333 – Python Web Server Gateway Interface v1.0.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8000/">PEP 8000 – Python Language Governance Proposal Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8001/">PEP 8001 – Python Governance Voting Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8002/">PEP 8002 – Open Source Governance Survey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8010/">PEP 8010 – The Technical Leader Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8011/">PEP 8011 – Python Governance Model Lead by Trio of Pythonistas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8012/">PEP 8012 – The Community Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8013/">PEP 8013 – The External Council Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8014/">PEP 8014 – The Commons Governance Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8015/">PEP 8015 – Organization of the Python community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8016/">PEP 8016 – The Steering Council Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8100/">PEP 8100 – January 2019 steering council election</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8101/">PEP 8101 – 2020 Term steering council election</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pep-8102/">PEP 8102 – 2021 Term steering council election</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../contents/">Documentation overview</a><ul>
      <li>Previous: <a href="../pep-0634/" title="previous chapter">PEP 634 – Structural Pattern Matching: Specification</a></li>
      <li>Next: <a href="../pep-0636/" title="next chapter">PEP 636 – Structural Pattern Matching: Tutorial</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
      
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/pep-0635.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>